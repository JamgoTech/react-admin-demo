(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1403:function(e,n,t){"use strict";t.r(n);var r,a,i,o,u,c=t(76),f=t(1094),s=t(1049),l=t.n(s),d=t(27),p=t.n(d),y=t(1097),m=t.n(y),v=t(29),h=t(1389),b=t(1098),O=function(){return(O=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},w=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&(t[r[a]]=e[r[a]])}return t},g=[v.d,v.e,v.f,v.g],j=[v.a,v.h,v.b,v.i,v.c],k=g.concat(j),P=t(1397),S=t(1048),T=t.n(S),A=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},I=function(){return(I=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},N=function(e,n,t,r){return new(t||(t=Promise))(function(a,i){function o(e){try{c(r.next(e))}catch(n){i(n)}}function u(e){try{c(r.throw(e))}catch(n){i(n)}}function c(e){e.done?a(e.value):new t(function(n){n(e.value)}).then(o,u)}c((r=r.apply(e,n||[])).next())})},x=function(e,n){var t,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(u){i=[6,u],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},q=function(){return(q=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},_=function(e,n,t,r){return new(t||(t=Promise))(function(a,i){function o(e){try{c(r.next(e))}catch(n){i(n)}}function u(e){try{c(r.throw(e))}catch(n){i(n)}}function c(e){e.done?a(e.value):new t(function(n){n(e.value)}).then(o,u)}c((r=r.apply(e,n||[])).next())})},L=function(e,n){var t,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(u){i=[6,u],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},C=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&(t[r[a]]=e[r[a]])}return t},E=g,F={resolveIntrospection:function(e,n){return N(void 0,void 0,void 0,function(){var t,a,i,o,u,c,f,s,l;return x(this,function(d){switch(d.label){case 0:return n.schema?(a=n.schema,[3,3]):[3,1];case 1:return[4,e.query({fetchPolicy:"network-only",query:T()(r||(r=A(["\n                      ","\n                  "],["\n                      ","\n                  "])),P.a)}).then(function(e){return e.data.__schema})];case 2:a=d.sent(),d.label=3;case 3:return i=(t=a).types.reduce(function(e,n){return n.name!==t.queryType.name&&n.name!==t.mutationType.name?e:e.concat(n.fields)},[]),o=t.types.filter(function(e){return e.name!==t.queryType.name&&e.name!==t.mutationType.name}),u=function(e){return i.some(function(t){return t.name===n.operationNames[v.d](e)})&&i.some(function(t){return t.name===n.operationNames[v.g](e)})},c=function(e){return k.reduce(function(t,r){var a;return I({},t,((a={})[r]=i.find(function(t){return n.operationNames[r]&&t.name===n.operationNames[r](e)}),a))},{type:e})},f=o.filter(u),s=f.filter(function(e){var n=e.include,t=e.exclude;return Array.isArray(n)?function(e){return n.includes(e.name)}:"function"===typeof n?function(e){return n(e)}:Array.isArray(t)?function(e){return!t.includes(e.name)}:"function"===typeof t?function(e){return!t(e)}:function(){return!0}}(n)),l=s.map(c),[2,{types:o,queries:i,resources:l,schema:t}]}})})},introspection:{operationNames:(a={},a[v.d]=function(e){return"all"+m()(e.name)},a[v.g]=function(e){return""+e.name},a[v.e]=function(e){return"all"+m()(e.name)},a[v.f]=function(e){return"all"+m()(e.name)},a[v.a]=function(e){return"create"+e.name},a[v.h]=function(e){return"update"+e.name},a[v.b]=function(e){return"delete"+e.name},a),exclude:void 0,include:void 0}},R=function(e,n,t){return"function"===typeof e?e(t,n):e},Q=function(e){return _(void 0,void 0,void 0,function(){var n,t,r,a,i,o,u,c,f,s,d,y,m;return L(this,function(v){switch(v.label){case 0:return n=l()({},F,e),t=n.client,r=n.clientOptions,a=n.introspection,i=n.resolveIntrospection,o=n.buildQuery,u=n.override,c=void 0===u?{}:u,f=C(n,["client","clientOptions","introspection","resolveIntrospection","buildQuery","override"]),c&&console.warn("The override option is deprecated. You should instead wrap the buildQuery function provided by the dataProvider you use."),s=t||function(e){if(!e)return new h.a;var n=e.cache,t=e.link,r=e.uri,a=w(e,["cache","link","uri"]),i=t,o=n;return!t&&r&&(i=new b.HttpLink({uri:r})),n||(o=(new b.InMemoryCache).restore({})),new h.a(O({link:i,cache:o},a))}(r),a?[4,i(s,a)]:[3,2];case 1:d=v.sent(),v.label=2;case 2:return y=o(d,f),(m=function(e,n,t){var r=p()(c,n+"."+e),a=r?q({},y(e,n,t),r(t)):y(e,n,t),i=a.parseResponse,o=C(a,["parseResponse"]);if(E.includes(e)){var u=q({},o,{fetchPolicy:"network-only"},R(f.query,e,n));return s.query(u).then(i)}var l=q({mutation:o.query,variables:o.variables},R(f.mutation,e,n));return s.mutate(l).then(i)}).observeRequest=function(e,n,t){var r=y(e,n,t),a=r.parseResponse,i=C(r,["parseResponse"]),o=q({},i,R(f.watchQuery,e,n));return s.watchQuery(o).then(a)},m.saga=function(){},[2,m]}})})},U=t(1402),B=function e(n){return n.kind===U.a.NON_NULL||n.kind===U.a.LIST?e(n.ofType):n},D=function e(n){return n.kind===U.a.NON_NULL?e(n.ofType):n.kind===U.a.LIST},J=function(){return(J=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},M=function(e,n){return"Int"===e.name?parseInt(n,10):"Float"===e.name?parseFloat(n):n},G=function e(n,t,r){var a={};return n?(Object.keys(n).forEach(function(i){var o=n[i],u=null;if(o)if(t&&Array.isArray(t.args)&&(u=t.args.find(function(e){return e.name===i})),o instanceof File)a[i]=o;else if(o instanceof Object&&!Array.isArray(o)&&u&&"INPUT_OBJECT"===u.type.kind){var c=r.types.find(function(e){return e.kind===u.type.kind&&e.name===u.type.name}).inputFields;a[i]=e(o,{args:c},r)}else o instanceof Object&&!Array.isArray(o)?a[i]=e(o,t,r):a[i]=u?function(e,n){switch(n.kind+":"+n.name){case"SCALAR:Int":return Number(e);case"SCALAR:String":return String(e);case"SCALAR:Boolean":return Boolean(e);default:return e}}(o,u.type,r.types):o;else a[i]=o}),a):n},W=function(){return function(e,n,t,r){return Object.keys(t.data).reduce(function(e,n){var a,i,o;if(Array.isArray(t.data[n])&&r.args.find(function(e){return e.name===n+"Ids"}))return J({},e,((a={})[n+"Ids"]=t.data[n].map(function(e){return e.id}),a));if("object"===typeof t.data[n]&&r.args.find(function(e){return e.name===n+"Id"}))return J({},e,((i={})[n+"Id"]=t.data[n].id,i));return J({},e,((o={})[n]=t.data[n],o))},{})}},$=t(1050),H=function e(n){return n.kind===U.a.LIST?e(n.ofType):n.kind===U.a.NON_NULL},K=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&(t[r[a]]=e[r[a]])}return t},Y=function(e,n){if(0===e.args.length)return[];var t=Object.keys(n).filter(function(e){return"undefined"!==typeof n[e]});return e.args.filter(function(e){return t.includes(e.name)}).reduce(function(e,n){return e.concat([$.argument($.name(n.name),$.variable($.name(n.name)))])},[])},z=function(e,n){if(0===e.args.length)return[];var t=Object.keys(n).filter(function(e){return"undefined"!==typeof n[e]});return e.args.filter(function(e){return t.includes(e.name)}).reduce(function(e,n){return e.concat([$.variableDefinition($.variable($.name(n.name)),function(e){var n=B(e.type),t=H(e.type);return D(e.type)?t?$.listType($.nonNullType($.namedType($.name(n.name)))):$.listType($.namedType($.name(n.name))):t?$.nonNullType($.namedType($.name(n.name))):$.namedType($.name(n.name))}(n))])},[])},V=function(){return(V=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},X=(i=function(e){return function(n,t,r,a){var i,o=G(r,a,e);switch(t){case v.d:return function(e){return function(n,t,r){var a=Object.keys(r.filter).reduce(function(t,a){var i,o,u,c,f,s,l;if("ids"===a)return J({},t,{ids:r.filter[a]});if("object"===typeof r.filter[a]&&(y=(v=e.types.find(function(e){return e.name===n.type.name+"Filter"})).inputFields.find(function(e){return e.name===a+"_some"}))){var d=Object.keys(r.filter[a]).reduce(function(e,n){var t;return J({},e,((t={})[n+"_in"]=r.filter[a][n],t))},{});return J({},t,((i={})[a+"_some"]=d,i))}var p=a.split(".");if(p.length>1){if("id"===p[1]){var y=e.types.find(function(e){return e.name===n.type.name+"Filter"}).inputFields.find(function(e){return e.name===p[0]+"_some"});return J({},t,y?((o={})[p[0]+"_some"]={id:r.filter[a]},o):((u={})[p[0]]={id:r.filter[a]},u))}var m=n.type.fields.find(function(e){return e.name===p[0]}),v=B(m.type);return J({},t,((c={})[a]=M(v,r.filter[a]),c))}var h=n.type.fields.find(function(e){return e.name===a});if(h){var b=B(h.type),O=D(h.type);return J({},t,O?((f={})[a]=Array.isArray(r.filter[a])?r.filter[a].map(function(e){return M(b,e)}):M(b,[r.filter[a]]),f):((s={})[a]=M(b,r.filter[a]),s))}return J({},t,((l={})[a]=r.filter[a],l))},{});return{page:parseInt(r.pagination.page,10)-1,perPage:parseInt(r.pagination.perPage,10),sortField:r.sort.field,sortOrder:r.sort.order,filter:a}}}(e)(n,t,o,a);case v.e:return{filter:{ids:o.ids}};case v.f:return{filter:(i={},i[o.target.split(".")[0]+"Id"]=o.id,i)};case v.g:return{id:o.id};case v.h:case v.a:return W()(n,t,o,a);case v.b:return{id:o.id}}}},o=function(e){return function(n,t,r,a){a.sortField,a.sortOrder;var i=K(a,["sortField","sortOrder"]),o=z(r,a),u=Y(r,a),c=Y(r,i),f=function e(n,t){return void 0===t&&(t=[]),function(r){return r.reduce(function(r,a){var i=B(a.type);if(i.name.startsWith("_"))return r;if(i.kind!==U.a.OBJECT&&i.kind!==U.a.INTERFACE)return r.concat([$.field($.name(a.name))]);if(n.resources.find(function(e){return e.type.name===i.name}))return r.concat([$.field($.name(a.name),null,null,null,$.selectionSet([$.field($.name("id"))]))]);var o=n.types.find(function(e){return e.name===i.name});return o&&!t.includes(o.name)?(t.push(o.name),r.concat([$.field($.name(a.name),null,null,null,$.selectionSet(e(n,t)(o.fields)))])):r},[])}}(e)(n.type.fields);return t===v.d||t===v.e||t===v.f?$.document([$.operationDefinition("query",$.selectionSet([$.field($.name(r.name),$.name("items"),u,null,$.selectionSet(f)),$.field($.name("_"+r.name+"Meta"),$.name("total"),c,null,$.selectionSet([$.field($.name("count"))]))]),$.name(r.name),o)]):t===v.b?$.document([$.operationDefinition("mutation",$.selectionSet([$.field($.name(r.name),$.name("data"),u,null,$.selectionSet([$.field($.name("id"))]))]),$.name(r.name),o)]):$.document([$.operationDefinition(E.includes(t)?"query":"mutation",$.selectionSet([$.field($.name(r.name),$.name("data"),u,null,$.selectionSet(f))]),$.name(r.name),o)])}},u=function(e){return function(n,t){return function(r){var a=function e(n,t){return function(r){return Object.keys(r).reduce(function(a,i){var o,u,c,f;if(i.startsWith("_"))return a;var s=t.type.fields.find(function(e){return e.name===i}),l=B(s.type);if(l.kind!==U.a.OBJECT)return V({},a,((o={})[s.name]=r[s.name],o));var d=n.resources.find(function(e){return e.type.name===l.name});if(d){var p=r[s.name];return Array.isArray(p)?V({},a,((u={})[s.name]=r[s.name].map(e(n,d)),u[s.name+"Ids"]=r[s.name].map(function(e){return e.id}),u)):V({},a,((c={})[s.name+".id"]=p?r[s.name].id:void 0,c[s.name]=p?e(n,d)(r[s.name]):void 0,c))}return V({},a,((f={})[s.name]=r[s.name],f))},{})}}(e,t),i=r.data;return n===v.d||n===v.e||n===v.f?{data:r.data.items.map(a),total:r.data.total.count}:{data:a(i.data)}}}},function(e){var n=e.resources.map(function(e){return e.type.name});return function(t,r,a){var c=e.resources.find(function(e){return e.type.name===r});if(!c)throw new Error("Unknown resource "+r+". Make sure it has been declared on your server side schema. Known resources are "+n.join(", "));var f=c[t];if(!f)throw new Error("No query or mutation matching fetch type "+t+" could be found for resource "+c.type.name);var s=i(e)(c,t,a,f);return{query:o(e)(c,t,f,s),variables:s,parseResponse:u(e)(t,c,f)}}}),Z=function(){return(Z=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},ee=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&(t[r[a]]=e[r[a]])}return t},ne={buildQuery:X},te=X;function re(){var e=Object(f.a)(["mutation remove","($id: ID!) {\n                    remove","(id: $id)\n                }"]);return re=function(){return e},e}var ae=function(e){var n=te(e);return function(e,t,r){return e===v.b?{query:T()(re(),t,t),variables:{id:r.id},parseResponse:function(e){if(e.data["remove".concat(t)])return{data:{id:r.id}};throw new Error("Could not delete ".concat(t))}}:n(e,t,r)}};n.default=function(){return(e={clientOptions:{uri:"http://localhost:4000/graphql"},introspection:{operationNames:Object(c.a)({},v.b,function(e){return"remove".concat(e.name)})},buildQuery:ae},Q(l()({},ne,e)).then(function(e){return function(n,t,r){if(n===v.c){var a=r.ids,i=ee(r,["ids"]);return Promise.all(a.map(function(n){return e(v.b,t,Z({id:n},i))})).then(function(e){return{data:e.reduce(function(e,n){var t=n.data;return e.concat([t.id])},[])}})}if(n===v.i){a=r.ids;var o=r.data,u=ee(r,["ids","data"]);return Promise.all(a.map(function(n){return e(v.h,t,Z({data:Z({id:n},o)},u))})).then(function(e){return{data:e.reduce(function(e,n){var t=n.data;return e.concat([t.id])},[])}})}return e(n,t,r)}})).then(function(e){return function(n,t,r){return e(n,function(e){switch(e){case"customers":return"Customer";case"categories":return"Category";case"commands":return"Command";case"products":return"Product";case"reviews":return"Review";case"invoices":return"Invoice";default:throw new Error("Unknown resource ".concat(e))}}(t),r)}});var e}}}]);
//# sourceMappingURL=3.4e070fb1.chunk.js.map