{"version":3,"sources":["../../data-generator/lib/utils.js","../../data-generator/lib/index.js","../../data-generator/lib/customers.js","../../data-generator/lib/categories.js","../../data-generator/lib/products.js","../../data-generator/lib/commands.js","../../data-generator/lib/invoices.js","../../data-generator/lib/reviews.js","../../data-generator/lib/finalize.js","fakeServer/graphql.js"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","en_1","require","weightedArrayElement","values","weights","default","random","arrayElement","reduce","acc","index","concat","Array","fill","weightedBoolean","likelyhood","number","randomDate","minDate","maxDate","minTs","Date","getTime","now","range","randomRange","max","ts","Math","sqrt","randomFloat","min","parseFloat","precision","toFixed","customers_1","categories_1","products_1","commands_1","invoices_1","reviews_1","finalize_1","options","serializeDate","db","customers","categories","products","commands","invoices","reviews","utils_1","_a","from","keys","map","id","first_seen","last_seen","has_ordered","first_name","name","firstName","last_name","lastName","email","internet","birthday","date","past","address","streetName","zipcode","zipCode","city","avatar","toISOString","latest_purchase","has_newsletter","groups","nb_commands","total_spent","__spreadArrays","s","i","il","arguments","length","r","k","a","j","jl","category","width","height","category_id","reference","substr","alphaNumeric","price","thumbnail","image","description","lorem","paragraph","stock","is_after_1","sub_days_1","today","aMonthAgo","nbProducts","basket","product_id","quantity","total_ex_taxes","total","product","delivery_fees","tax_rate","taxes","customer","filter","status","boolean","toUpperCase","customer_id","returned","command","sort","b","command_id","reviewers","indexOf","rating","comment","apply","sentences","join","forEach","customersBySpending","push","review","settings","configuration","url","mail","sender","transport","service","auth","user","pass","file_type_whiltelist","data","generateData","handler","JsonGraphqlServer","getHandler","fetchMock","mock","restore"],"mappings":"+FACA,IAAIA,EAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,IAExDE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAOR,EAAgBS,EAAQ,OACnCH,EAAQI,qBAAuB,SAAUC,EAAQC,GAC7C,OAAOJ,EAAKK,QAAQC,OAAOC,aAAaJ,EAAOK,QAAO,SAAUC,EAAKV,EAAOW,GACxE,OAAOD,EAAIE,OAAO,IAAIC,MAAMR,EAAQM,IAAQG,KAAKd,MAClD,MAEPD,EAAQgB,gBAAkB,SAAUC,GAChC,OAAOf,EAAKK,QAAQC,OAAOU,OAAO,IAAMD,GAE5CjB,EAAQmB,WAAa,SAAUC,EAASC,GACpC,IAAIC,EAAQF,aAAmBG,KACzBH,EAAQI,UACRD,KAAKE,MAAQ,QAEfC,GADQL,aAAmBE,KAAOF,EAAQG,UAAYD,KAAKE,OAC3CH,EAChBK,EAAczB,EAAKK,QAAQC,OAAOU,OAAO,CAAEU,IAAKF,IAEhDG,EAAKC,KAAKC,KAAKJ,EAAcD,GAASA,EAC1C,OAAO,IAAIH,KAAKD,EAAQO,IAE5B7B,EAAQgC,YAAc,SAAUC,EAAKL,GACjC,OAAOM,WAAWhC,EAAKK,QAAQC,OAAOU,OAAO,CAAEe,IAAKA,EAAKL,IAAKA,EAAKO,UAAW,MAAQC,QAAQ,M,kCCzBlG,IAAI1C,EAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,IAExDE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIoC,EAAc3C,EAAgBS,EAAQ,OACtCmC,EAAe5C,EAAgBS,EAAQ,OACvCoC,EAAa7C,EAAgBS,EAAQ,OACrCqC,EAAa9C,EAAgBS,EAAQ,OACrCsC,EAAa/C,EAAgBS,EAAQ,OACrCuC,EAAYhD,EAAgBS,EAAQ,OACpCwC,EAAajD,EAAgBS,EAAQ,OACzCH,EAAQO,QAAW,SAAUqC,QACT,IAAZA,IAAsBA,EAAU,CAAEC,eAAe,IACrD,IAAIC,EAAK,GAQT,OAPAA,EAAGC,UAAYV,EAAY9B,QAAQuC,EAAIF,GACvCE,EAAGE,WAAaV,EAAa/B,QAAQuC,EAAIF,GACzCE,EAAGG,SAAWV,EAAWhC,QAAQuC,EAAIF,GACrCE,EAAGI,SAAWV,EAAWjC,QAAQuC,EAAIF,GACrCE,EAAGK,SAAWV,EAAWlC,QAAQuC,EAAIF,GACrCE,EAAGM,QAAUV,EAAUnC,QAAQuC,EAAIF,GACnCD,EAAWpC,QAAQuC,GACZA,I,kCCrBXhD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAOC,EAAQ,MACfkD,EAAUlD,EAAQ,MACtBH,EAAQO,QAAW,SAAUuC,EAAIQ,GAC7B,IAAIT,EAAgBS,EAAGT,cACvB,OAAO/B,MAAMyC,KAAKzC,MAAM,KAAK0C,QAAQC,KAAI,SAAUC,GAC/C,IAAIC,EAAaN,EAAQlC,aACrByC,EAAYP,EAAQlC,WAAWwC,GAC/BE,EAAcR,EAAQrC,gBAAgB,IACtC8C,EAAa5D,EAAK6D,KAAKC,YACvBC,EAAY/D,EAAK6D,KAAKG,WACtBC,EAAQjE,EAAKkE,SAASD,MAAML,EAAYG,GACxCI,EAAWR,EAAc3D,EAAKoE,KAAKC,KAAK,IAAM,KAClD,MAAO,CACHb,GAAIA,EACJI,WAAYA,EACZG,UAAWA,EACXE,MAAOA,EACPK,QAASX,EAAc3D,EAAKsE,QAAQC,aAAe,KACnDC,QAASb,EAAc3D,EAAKsE,QAAQG,UAAY,KAChDC,KAAMf,EAAc3D,EAAKsE,QAAQI,OAAS,KAC1CC,OAAQ3E,EAAKkE,SAASS,SACtBR,SAAUxB,GAAiBwB,EAAWA,EAASS,cAAgBT,EAC/DV,WAAYd,EAAgBc,EAAWmB,cAAgBnB,EACvDC,UAAWf,EAAgBe,EAAUkB,cAAgBlB,EACrDC,YAAaA,EACbkB,gBAAiB,KACjBC,gBAAgBnB,GAAcR,EAAQrC,gBAAgB,IACtDiE,OAAQ,GACRC,YAAa,EACbC,YAAa,Q,kCC9BzBrF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQO,QAAW,WAAc,MAAO,CACpC,CAAEmD,GAAI,EAAGK,KAAM,WACf,CAAEL,GAAI,EAAGK,KAAM,SACf,CAAEL,GAAI,EAAGK,KAAM,YACf,CAAEL,GAAI,EAAGK,KAAM,QACf,CAAEL,GAAI,EAAGK,KAAM,QACf,CAAEL,GAAI,EAAGK,KAAM,WACf,CAAEL,GAAI,EAAGK,KAAM,QACf,CAAEL,GAAI,EAAGK,KAAM,UACf,CAAEL,GAAI,EAAGK,KAAM,UACf,CAAEL,GAAI,EAAGK,KAAM,UACf,CAAEL,GAAI,GAAIK,KAAM,QAChB,CAAEL,GAAI,GAAIK,KAAM,UAChB,CAAEL,GAAI,GAAIK,KAAM,Y,kCCdpB,IAAIqB,EAAkBzF,MAAQA,KAAKyF,gBAAmB,WAClD,IAAK,IAAIC,EAAI,EAAGC,EAAI,EAAGC,EAAKC,UAAUC,OAAQH,EAAIC,EAAID,IAAKD,GAAKG,UAAUF,GAAGG,OACxE,IAAIC,EAAI5E,MAAMuE,GAAIM,EAAI,EAA3B,IAA8BL,EAAI,EAAGA,EAAIC,EAAID,IACzC,IAAK,IAAIM,EAAIJ,UAAUF,GAAIO,EAAI,EAAGC,EAAKF,EAAEH,OAAQI,EAAIC,EAAID,IAAKF,IAC1DD,EAAEC,GAAKC,EAAEC,GACjB,OAAOH,GAEX5F,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAOC,EAAQ,MACfkD,EAAUlD,EAAQ,MACtBH,EAAQO,QAAW,SAAUuC,GACzB,IAAIY,EAAK,EACT,OAAOZ,EAAGE,WAAWtC,QAAO,SAAUC,EAAKoF,GAAY,OAAOX,EAAezE,EAAKG,MAAMyC,KAAKzC,MAAM,IAAI0C,QAAQC,KAAI,SAAU7C,GACzH,IAAIoF,EAAQ3C,EAAQrB,YAAY,GAAI,IAChCiE,EAAS5C,EAAQrB,YAAY,GAAI,IACrC,MAAO,CACH0B,GAAIA,IACJwC,YAAaH,EAASrC,GACtByC,UAAWJ,EAAShC,KAAKqC,OAAO,EAAG,GAC/B,IACAlG,EAAKM,OAAO6F,aAAa,GACzB,IACAnG,EAAKM,OAAOC,aAAa,8BAC7BuF,MAAOA,EACPC,OAAQA,EACRK,MAAOjD,EAAQrB,YAAagE,EAAQC,EAAU,GAAKD,EAAQC,EAAU,IACrEM,UAAW,gCACPR,EAAShC,KACT,KACCnD,EAAQ,GACT,QACJ4F,MAAO,gCACHT,EAAShC,KACT,KACCnD,EAAQ,GACT,QACJ6F,YAAavG,EAAKwG,MAAMC,YACxBC,MAAOvD,EAAQrC,gBAAgB,IACzB,EACAd,EAAKM,OAAOU,OAAO,CAAEe,IAAK,EAAGL,IAAK,aAExC,M,kCCzCZ,IAAIlC,EAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,IAExDE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAOC,EAAQ,MACf0G,EAAanH,EAAgBS,EAAQ,OACrC2G,EAAapH,EAAgBS,EAAQ,OACrCkD,EAAUlD,EAAQ,MACtBH,EAAQO,QAAW,SAAUuC,EAAIQ,GAC7B,IAAIT,EAAgBS,EAAGT,cACnBkE,EAAQ,IAAIxF,KACZyF,EAAYF,EAAWvG,QAAQwG,EAAO,IAC1C,OAAOjG,MAAMyC,KAAKzC,MAAM,KAAK0C,QAAQC,KAAI,SAAUC,GAC/C,IAAIuD,EAAa5D,EAAQjD,qBAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACzG8G,EAASpG,MAAMyC,KAAKzC,MAAMmG,GAAYzD,QAAQC,KAAI,WAAc,MAAQ,CACxE0D,WAAYjH,EAAKM,OAAOU,OAAO,CAAEe,IAAK,EAAGL,IAAK,MAC9CwF,SAAU/D,EAAQjD,qBAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,GAAI,EAAG,EAAG,EAAG,QAEtEiH,EAAiBH,EAAOxG,QAAO,SAAU4G,EAAOC,GAChD,OAAOD,EACHxE,EAAGG,SAASsE,EAAQJ,YAAYb,MAAQiB,EAAQH,WACrD,GACCI,EAAgBnE,EAAQrB,YAAY,EAAG,GACvCyF,EAAWvH,EAAKM,OAAOC,aAAa,CAAC,IAAM,IAAM,KACjDiH,EAAQxF,aAAamF,EAAiBG,GAAiBC,GAAUrF,QAAQ,IACzEuF,EAAWzH,EAAKM,OAAOC,aAAaqC,EAAGC,UAAU6E,QAAO,SAAUD,GAAY,OAAOA,EAAS9D,gBAC9FS,EAAOjB,EAAQlC,WAAWwG,EAAShE,WAAYgE,EAAS/D,WACxDiE,EAAShB,EAAWtG,QAAQ+D,EAAM0C,IAAc9G,EAAKM,OAAOsH,UAC1D,UACAzE,EAAQjD,qBAAqB,CAAC,YAAa,aAAc,CAAC,GAAI,IACpE,MAAO,CACHsD,GAAIA,EACJyC,UAAWjG,EAAKM,OAAO6F,aAAa,GAAG0B,cACvCzD,KAAMzB,EAAgByB,EAAKQ,cAAgBR,EAC3C0D,YAAaL,EAASjE,GACtBwD,OAAQA,EACRG,eAAgBA,EAChBG,cAAeA,EACfC,SAAUA,EACVC,MAAOA,EACPJ,MAAOpF,YAAYmF,EAAiBG,EAAgBE,GAAOtF,QAAQ,IACnEyF,OAAQA,EACRI,SAAqB,cAAXJ,GAAyBxE,EAAQrC,gBAAgB,U,kCC1CvElB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQO,QAAW,SAAUuC,GACzB,IAAIY,EAAK,EACT,OAAOZ,EAAGI,SACL0E,QAAO,SAAUM,GAAW,MAA0B,cAAnBA,EAAQL,UAC3CM,MAAK,SAAUvC,EAAGwC,GAAK,OAAO,IAAI7G,KAAKqE,EAAEtB,MAAQ,IAAI/C,KAAK6G,EAAE9D,SAC5Db,KAAI,SAAUyE,GAAW,MAAQ,CAClCxE,GAAIA,IACJY,KAAM4D,EAAQ5D,KACd+D,WAAYH,EAAQxE,GACpBsE,YAAaE,EAAQF,YACrBX,eAAgBa,EAAQb,eACxBG,cAAeU,EAAQV,cACvBC,SAAUS,EAAQT,SAClBC,MAAOQ,EAAQR,MACfJ,MAAOY,EAAQZ,Y,kCCfvB,IAAIlC,EAAkBzF,MAAQA,KAAKyF,gBAAmB,WAClD,IAAK,IAAIC,EAAI,EAAGC,EAAI,EAAGC,EAAKC,UAAUC,OAAQH,EAAIC,EAAID,IAAKD,GAAKG,UAAUF,GAAGG,OACxE,IAAIC,EAAI5E,MAAMuE,GAAIM,EAAI,EAA3B,IAA8BL,EAAI,EAAGA,EAAIC,EAAID,IACzC,IAAK,IAAIM,EAAIJ,UAAUF,GAAIO,EAAI,EAAGC,EAAKF,EAAEH,OAAQI,EAAIC,EAAID,IAAKF,IAC1DD,EAAEC,GAAKC,EAAEC,GACjB,OAAOH,GAEPhG,EAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,IAExDE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,EAAOC,EAAQ,MACf2G,EAAapH,EAAgBS,EAAQ,OACrC0G,EAAanH,EAAgBS,EAAQ,OACrCkD,EAAUlD,EAAQ,MACtBH,EAAQO,QAAW,SAAUuC,EAAIQ,GAC7B,IAAIT,EAAgBS,EAAGT,cACnBkE,EAAQ,IAAIxF,KACZyF,EAAYF,EAAWvG,QAAQwG,EAAO,IACtCrD,EAAK,EACL4E,EAAYxF,EAAGC,UACd6E,QAAO,SAAUD,GAAY,OAAOA,EAAS9D,eAC7C+D,QAAO,WAAc,OAAOvE,EAAQrC,gBAAgB,OACpDyC,KAAI,SAAUkE,GAAY,OAAOA,EAASjE,MAC/C,OAAOZ,EAAGI,SACL0E,QAAO,SAAUM,GAAW,OAAmD,IAA5CI,EAAUC,QAAQL,EAAQF,gBAC7DtH,QAAO,SAAUC,EAAKuH,GAAW,OAAO9C,EAAezE,EAAKuH,EAAQhB,OACpEU,QAAO,WAAc,OAAOvE,EAAQrC,gBAAgB,OACpDyC,KAAI,SAAU8D,GACf,IAAIjD,EAAOjB,EAAQlC,WAAW+G,EAAQ5D,MAClCuD,EAAShB,EAAWtG,QAAQyG,EAAW1C,GACrCjB,EAAQjD,qBAAqB,CAAC,WAAY,YAAa,CAAC,EAAG,IAC3DiD,EAAQjD,qBAAqB,CAAC,UAAW,WAAY,YAAa,CAAC,EAAG,EAAG,IAC/E,MAAO,CACHsD,GAAIA,IACJY,KAAMzB,EAAgByB,EAAKQ,cAAgBR,EAC3CuD,OAAQA,EACRQ,WAAYH,EAAQxE,GACpByD,WAAYI,EAAQJ,WACpBa,YAAaE,EAAQF,YACrBQ,OAAQtI,EAAKM,OAAOU,OAAO,CAAEe,IAAK,EAAGL,IAAK,IAC1C6G,QAAS3H,MAAM4H,MAAM,KAAM5H,MAAMZ,EAAKM,OAAOU,OAAO,CAAEe,IAAK,EAAGL,IAAK,MAC9D6B,KAAI,WAAc,OAAOvD,EAAKwG,MAAMiC,eACpCC,KAAK,gBAEV,M,kCC7CZ9I,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIoD,EAAUlD,EAAQ,MAmFtBH,EAAQO,QAlFR,SAAmBuC,GAEfA,EAAGI,SAAS2F,SAAQ,SAAUX,GAC1B,IAAIP,EAAW7E,EAAGC,UAAUmF,EAAQF,eAC/BL,EAAS5C,iBACV4C,EAAS5C,gBAAkBmD,EAAQ5D,QACnCqD,EAAS5C,gBAAkBmD,EAAQ5D,MAEvCqD,EAASxC,aAAe+C,EAAQZ,MAChCK,EAASzC,iBAGb,IAAI4D,EAAsBhG,EAAGI,SAASxC,QAAO,SAAUqC,EAAWmF,GAK9D,OAJKnF,EAAUmF,EAAQF,eACnBjF,EAAUmF,EAAQF,aAAe,CAAEf,WAAY,IAEnDlE,EAAUmF,EAAQF,aAAaf,YAAciB,EAAQhB,OAAOzB,OACrD1C,IACR,IACHjD,OAAO0D,KAAKsF,GAAqBD,SAAQ,SAAUb,GAC3Cc,EAAoBd,GAAaf,WAAa,IAC9CnE,EAAGC,UAAUiF,GAAa/C,OAAO8D,KAAK,gBAI9CjG,EAAGC,UACE6E,QAAO,SAAUD,GAAY,OAAgC,IAAzBA,EAASzC,eAC7C2D,SAAQ,SAAUlB,GAAY,OAAOA,EAAS1C,OAAO8D,KAAK,mBAE/DjG,EAAGC,UACE6E,QAAO,SAAUD,GAAY,OAAOA,EAASxC,YAAc,QAC3D0D,SAAQ,SAAUlB,GAAY,OAAOA,EAAS1C,OAAO8D,KAAK,iBAE/DjG,EAAGC,UACE6E,QAAO,WAAc,OAAOvE,EAAQrC,gBAAgB,OACpD6H,SAAQ,SAAUlB,GAAY,OAAOA,EAAS1C,OAAO8D,KAAK,cAE/DjG,EAAGI,SACE0E,QAAO,SAAUM,GAAW,OAAOA,EAAQD,YAC3CY,SAAQ,SAAUX,IAEd,IADDpF,EAAGC,UAAUmF,EAAQF,aAAa/C,OAAOsD,QAAQ,YAEjDzF,EAAGC,UAAUmF,EAAQF,aAAa/C,OAAO8D,KAAK,cAItDjG,EAAGM,QAAQyF,SAAQ,SAAUG,GACzB,IAAIrB,EAAW7E,EAAGC,UAAUiG,EAAOhB,cACU,IAAzCL,EAAS1C,OAAOsD,QAAQ,aACxBZ,EAAS1C,OAAO8D,KAAK,eAI7BjG,EAAGmG,SAAW,CACV,CACIvF,GAAI,EACJwF,cAAe,CACXC,IAAK,6BACLC,KAAM,CACFC,OAAQ,2BACRC,UAAW,CACPC,QAAS,WACTC,KAAM,CACFC,KAAM,gBACNC,KAAM,YAIlBC,qBAAsB,CAClB,MACA,MACA,OACA,MACA,OACA,MACA,MACA,Y,kCC/EpB,oEAIe,qBACX,IAAMC,EAAOC,IAAa,CAAEhH,eAAe,IAErCiH,EADaC,IAAkB,CAAEH,SACZI,aAG3B,OADAC,IAAUC,KAAK,8BAA+BJ,GACvC,kBAAMG,IAAUE","file":"static/js/5.964dbfbb.chunk.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar en_1 = __importDefault(require(\"faker/locale/en\"));\nexports.weightedArrayElement = function (values, weights) {\n    return en_1.default.random.arrayElement(values.reduce(function (acc, value, index) {\n        return acc.concat(new Array(weights[index]).fill(value));\n    }, []));\n};\nexports.weightedBoolean = function (likelyhood) {\n    return en_1.default.random.number(99) < likelyhood;\n};\nexports.randomDate = function (minDate, maxDate) {\n    var minTs = minDate instanceof Date\n        ? minDate.getTime()\n        : Date.now() - 5 * 365 * 24 * 60 * 60 * 1000; // 5 years\n    var maxTs = maxDate instanceof Date ? maxDate.getTime() : Date.now();\n    var range = maxTs - minTs;\n    var randomRange = en_1.default.random.number({ max: range });\n    // move it more towards today to account for traffic increase\n    var ts = Math.sqrt(randomRange / range) * range;\n    return new Date(minTs + ts);\n};\nexports.randomFloat = function (min, max) {\n    return parseFloat(en_1.default.random.number({ min: min, max: max, precision: 0.01 }).toFixed(2));\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar customers_1 = __importDefault(require(\"./customers\"));\nvar categories_1 = __importDefault(require(\"./categories\"));\nvar products_1 = __importDefault(require(\"./products\"));\nvar commands_1 = __importDefault(require(\"./commands\"));\nvar invoices_1 = __importDefault(require(\"./invoices\"));\nvar reviews_1 = __importDefault(require(\"./reviews\"));\nvar finalize_1 = __importDefault(require(\"./finalize\"));\nexports.default = (function (options) {\n    if (options === void 0) { options = { serializeDate: true }; }\n    var db = {};\n    db.customers = customers_1.default(db, options);\n    db.categories = categories_1.default(db, options);\n    db.products = products_1.default(db, options);\n    db.commands = commands_1.default(db, options);\n    db.invoices = invoices_1.default(db, options);\n    db.reviews = reviews_1.default(db, options);\n    finalize_1.default(db);\n    return db;\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar en_1 = require(\"faker/locale/en\");\nvar utils_1 = require(\"./utils\");\nexports.default = (function (db, _a) {\n    var serializeDate = _a.serializeDate;\n    return Array.from(Array(900).keys()).map(function (id) {\n        var first_seen = utils_1.randomDate();\n        var last_seen = utils_1.randomDate(first_seen);\n        var has_ordered = utils_1.weightedBoolean(25);\n        var first_name = en_1.name.firstName();\n        var last_name = en_1.name.lastName();\n        var email = en_1.internet.email(first_name, last_name);\n        var birthday = has_ordered ? en_1.date.past(60) : null;\n        return {\n            id: id,\n            first_name: first_name,\n            last_name: last_name,\n            email: email,\n            address: has_ordered ? en_1.address.streetName() : null,\n            zipcode: has_ordered ? en_1.address.zipCode() : null,\n            city: has_ordered ? en_1.address.city() : null,\n            avatar: en_1.internet.avatar(),\n            birthday: serializeDate && birthday ? birthday.toISOString() : birthday,\n            first_seen: serializeDate ? first_seen.toISOString() : first_seen,\n            last_seen: serializeDate ? last_seen.toISOString() : last_seen,\n            has_ordered: has_ordered,\n            latest_purchase: null,\n            has_newsletter: has_ordered ? utils_1.weightedBoolean(30) : true,\n            groups: [],\n            nb_commands: 0,\n            total_spent: 0,\n        };\n    });\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (function () { return [\n    { id: 0, name: 'animals' },\n    { id: 1, name: 'beard' },\n    { id: 2, name: 'business' },\n    { id: 3, name: 'cars' },\n    { id: 4, name: 'city' },\n    { id: 5, name: 'flowers' },\n    { id: 6, name: 'food' },\n    { id: 7, name: 'nature' },\n    { id: 8, name: 'people' },\n    { id: 9, name: 'sports' },\n    { id: 10, name: 'tech' },\n    { id: 11, name: 'travel' },\n    { id: 12, name: 'water' },\n]; });\n","\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar en_1 = require(\"faker/locale/en\");\nvar utils_1 = require(\"./utils\");\nexports.default = (function (db) {\n    var id = 0;\n    return db.categories.reduce(function (acc, category) { return __spreadArrays(acc, Array.from(Array(10).keys()).map(function (index) {\n        var width = utils_1.randomFloat(10, 40);\n        var height = utils_1.randomFloat(10, 40);\n        return {\n            id: id++,\n            category_id: category.id,\n            reference: category.name.substr(0, 2) +\n                '-' +\n                en_1.random.alphaNumeric(5) +\n                '-' +\n                en_1.random.arrayElement('ABCDEFGHIJKLMNOPQRSTUVWXYZ'),\n            width: width,\n            height: height,\n            price: utils_1.randomFloat((width * height) / 20, (width * height) / 15),\n            thumbnail: 'https://marmelab.com/posters/' +\n                category.name +\n                '-' +\n                (index + 1) +\n                '.jpeg',\n            image: 'https://marmelab.com/posters/' +\n                category.name +\n                '-' +\n                (index + 1) +\n                '.jpeg',\n            description: en_1.lorem.paragraph(),\n            stock: utils_1.weightedBoolean(20)\n                ? 0\n                : en_1.random.number({ min: 0, max: 250 }),\n        };\n    })); }, []);\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar en_1 = require(\"faker/locale/en\");\nvar is_after_1 = __importDefault(require(\"date-fns/is_after\"));\nvar sub_days_1 = __importDefault(require(\"date-fns/sub_days\"));\nvar utils_1 = require(\"./utils\");\nexports.default = (function (db, _a) {\n    var serializeDate = _a.serializeDate;\n    var today = new Date();\n    var aMonthAgo = sub_days_1.default(today, 30);\n    return Array.from(Array(600).keys()).map(function (id) {\n        var nbProducts = utils_1.weightedArrayElement([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], [30, 20, 5, 2, 1, 1, 1, 1, 1, 1]);\n        var basket = Array.from(Array(nbProducts).keys()).map(function () { return ({\n            product_id: en_1.random.number({ min: 0, max: 10 * 13 - 1 }),\n            quantity: utils_1.weightedArrayElement([1, 2, 3, 4, 5], [10, 5, 3, 2, 1]),\n        }); });\n        var total_ex_taxes = basket.reduce(function (total, product) {\n            return total +\n                db.products[product.product_id].price * product.quantity;\n        }, 0);\n        var delivery_fees = utils_1.randomFloat(3, 8);\n        var tax_rate = en_1.random.arrayElement([0.12, 0.17, 0.2]);\n        var taxes = parseFloat(((total_ex_taxes + delivery_fees) * tax_rate).toFixed(2));\n        var customer = en_1.random.arrayElement(db.customers.filter(function (customer) { return customer.has_ordered; }));\n        var date = utils_1.randomDate(customer.first_seen, customer.last_seen);\n        var status = is_after_1.default(date, aMonthAgo) && en_1.random.boolean()\n            ? 'ordered'\n            : utils_1.weightedArrayElement(['delivered', 'cancelled'], [10, 1]);\n        return {\n            id: id,\n            reference: en_1.random.alphaNumeric(6).toUpperCase(),\n            date: serializeDate ? date.toISOString() : date,\n            customer_id: customer.id,\n            basket: basket,\n            total_ex_taxes: total_ex_taxes,\n            delivery_fees: delivery_fees,\n            tax_rate: tax_rate,\n            taxes: taxes,\n            total: parseFloat((total_ex_taxes + delivery_fees + taxes).toFixed(2)),\n            status: status,\n            returned: status === 'delivered' ? utils_1.weightedBoolean(10) : false,\n        };\n    });\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (function (db) {\n    var id = 0;\n    return db.commands\n        .filter(function (command) { return command.status !== 'delivered'; })\n        .sort(function (a, b) { return new Date(a.date) - new Date(b.date); })\n        .map(function (command) { return ({\n        id: id++,\n        date: command.date,\n        command_id: command.id,\n        customer_id: command.customer_id,\n        total_ex_taxes: command.total_ex_taxes,\n        delivery_fees: command.delivery_fees,\n        tax_rate: command.tax_rate,\n        taxes: command.taxes,\n        total: command.total,\n    }); });\n});\n","\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar en_1 = require(\"faker/locale/en\");\nvar sub_days_1 = __importDefault(require(\"date-fns/sub_days\"));\nvar is_after_1 = __importDefault(require(\"date-fns/is_after\"));\nvar utils_1 = require(\"./utils\");\nexports.default = (function (db, _a) {\n    var serializeDate = _a.serializeDate;\n    var today = new Date();\n    var aMonthAgo = sub_days_1.default(today, 30);\n    var id = 0;\n    var reviewers = db.customers\n        .filter(function (customer) { return customer.has_ordered; })\n        .filter(function () { return utils_1.weightedBoolean(60); }) // only 60% of buyers write reviews\n        .map(function (customer) { return customer.id; });\n    return db.commands\n        .filter(function (command) { return reviewers.indexOf(command.customer_id) !== -1; })\n        .reduce(function (acc, command) { return __spreadArrays(acc, command.basket\n        .filter(function () { return utils_1.weightedBoolean(40); }) // reviewers review 40% of their products\n        .map(function (product) {\n        var date = utils_1.randomDate(command.date);\n        var status = is_after_1.default(aMonthAgo, date)\n            ? utils_1.weightedArrayElement(['accepted', 'rejected'], [3, 1])\n            : utils_1.weightedArrayElement(['pending', 'accepted', 'rejected'], [5, 3, 1]);\n        return {\n            id: id++,\n            date: serializeDate ? date.toISOString() : date,\n            status: status,\n            command_id: command.id,\n            product_id: product.product_id,\n            customer_id: command.customer_id,\n            rating: en_1.random.number({ min: 1, max: 5 }),\n            comment: Array.apply(null, Array(en_1.random.number({ min: 1, max: 5 })))\n                .map(function () { return en_1.lorem.sentences(); })\n                .join('\\n \\r'),\n        };\n    })); }, []);\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nfunction default_1(db) {\n    // set latest purchase date\n    db.commands.forEach(function (command) {\n        var customer = db.customers[command.customer_id];\n        if (!customer.latest_purchase ||\n            customer.latest_purchase < command.date) {\n            customer.latest_purchase = command.date;\n        }\n        customer.total_spent += command.total;\n        customer.nb_commands++;\n    });\n    // add 'collector' group\n    var customersBySpending = db.commands.reduce(function (customers, command) {\n        if (!customers[command.customer_id]) {\n            customers[command.customer_id] = { nbProducts: 0 };\n        }\n        customers[command.customer_id].nbProducts += command.basket.length;\n        return customers;\n    }, {});\n    Object.keys(customersBySpending).forEach(function (customer_id) {\n        if (customersBySpending[customer_id].nbProducts > 10) {\n            db.customers[customer_id].groups.push('collector');\n        }\n    });\n    // add 'ordered_once' group\n    db.customers\n        .filter(function (customer) { return customer.nb_commands === 1; })\n        .forEach(function (customer) { return customer.groups.push('ordered_once'); });\n    // add 'compulsive' group\n    db.customers\n        .filter(function (customer) { return customer.total_spent > 1500; })\n        .forEach(function (customer) { return customer.groups.push('compulsive'); });\n    // add 'regular' group\n    db.customers\n        .filter(function () { return utils_1.weightedBoolean(20); })\n        .forEach(function (customer) { return customer.groups.push('regular'); });\n    // add 'returns' group\n    db.commands\n        .filter(function (command) { return command.returned; })\n        .forEach(function (command) {\n        if (db.customers[command.customer_id].groups.indexOf('returns') ===\n            -1) {\n            db.customers[command.customer_id].groups.push('returns');\n        }\n    });\n    // add 'reviewer' group\n    db.reviews.forEach(function (review) {\n        var customer = db.customers[review.customer_id];\n        if (customer.groups.indexOf('reviewer') === -1) {\n            customer.groups.push('reviewer');\n        }\n    });\n    // add settings\n    db.settings = [\n        {\n            id: 1,\n            configuration: {\n                url: 'http://posters-galore.com/',\n                mail: {\n                    sender: 'julio@posters-galore.com',\n                    transport: {\n                        service: 'fakemail',\n                        auth: {\n                            user: 'fake@mail.com',\n                            pass: 'f00b@r',\n                        },\n                    },\n                },\n                file_type_whiltelist: [\n                    'txt',\n                    'doc',\n                    'docx',\n                    'xls',\n                    'xlsx',\n                    'pdf',\n                    'png',\n                    'jpg',\n                ],\n            },\n        },\n    ];\n}\nexports.default = default_1;\n","import JsonGraphqlServer from 'json-graphql-server';\nimport generateData from 'data-generator-retail';\nimport fetchMock from 'fetch-mock';\n\nexport default () => {\n    const data = generateData({ serializeDate: false });\n    const restServer = JsonGraphqlServer({ data });\n    const handler = restServer.getHandler();\n\n    fetchMock.mock('begin:http://localhost:4000', handler);\n    return () => fetchMock.restore();\n};\n"],"sourceRoot":""}