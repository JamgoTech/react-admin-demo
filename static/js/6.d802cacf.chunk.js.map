{"version":3,"sources":["../../data-generator/lib/utils.js","../../data-generator/lib/index.js","../../data-generator/lib/customers.js","../../data-generator/lib/categories.js","../../data-generator/lib/products.js","../../data-generator/lib/commands.js","../../data-generator/lib/invoices.js","../../data-generator/lib/reviews.js","../../data-generator/lib/finalize.js","fakeServer/rest.js"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","en_1","weightedArrayElement","values","weights","default","random","arrayElement","reduce","acc","index","concat","Array","fill","weightedBoolean","likelyhood","number","randomDate","minDate","maxDate","minTs","Date","getTime","now","range","randomRange","max","ts","Math","sqrt","randomFloat","min","parseFloat","precision","toFixed","customers_1","categories_1","products_1","commands_1","invoices_1","reviews_1","finalize_1","options","serializeDate","db","customers","categories","products","commands","invoices","reviews","utils_1","_a","from","keys","map","id","first_seen","last_seen","has_ordered","first_name","name","firstName","last_name","lastName","email","internet","birthday","date","past","address","streetName","zipcode","zipCode","city","avatar","toISOString","latest_purchase","has_newsletter","groups","nb_commands","total_spent","category","width","height","category_id","reference","substr","alphaNumeric","price","thumbnail","image","description","lorem","paragraph","stock","is_after_1","sub_days_1","today","aMonthAgo","nbProducts","basket","product_id","quantity","total_ex_taxes","total","product","delivery_fees","tax_rate","taxes","customer","filter","status","boolean","toUpperCase","customer_id","returned","command","sort","a","b","command_id","reviewers","indexOf","rating","comment","apply","sentences","join","forEach","customersBySpending","length","push","review","settings","configuration","url","mail","sender","transport","service","auth","user","pass","file_type_whiltelist","data","generateData","restServer","FakeRest","FetchServer","window","init","toggleLogging","fetchMock","mock","getHandler","restore"],"mappings":"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","file":"static/js/6.d802cacf.chunk.js","sourcesContent":["\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar en_1 = __importDefault(require(\"faker/locale/en\"));\n\nexports.weightedArrayElement = function (values, weights) {\n  return en_1.default.random.arrayElement(values.reduce(function (acc, value, index) {\n    return acc.concat(new Array(weights[index]).fill(value));\n  }, []));\n};\n\nexports.weightedBoolean = function (likelyhood) {\n  return en_1.default.random.number(99) < likelyhood;\n};\n\nexports.randomDate = function (minDate, maxDate) {\n  var minTs = minDate instanceof Date ? minDate.getTime() : Date.now() - 5 * 365 * 24 * 60 * 60 * 1000; // 5 years\n\n  var maxTs = maxDate instanceof Date ? maxDate.getTime() : Date.now();\n  var range = maxTs - minTs;\n  var randomRange = en_1.default.random.number({\n    max: range\n  }); // move it more towards today to account for traffic increase\n\n  var ts = Math.sqrt(randomRange / range) * range;\n  return new Date(minTs + ts);\n};\n\nexports.randomFloat = function (min, max) {\n  return parseFloat(en_1.default.random.number({\n    min: min,\n    max: max,\n    precision: 0.01\n  }).toFixed(2));\n};","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar customers_1 = __importDefault(require(\"./customers\"));\n\nvar categories_1 = __importDefault(require(\"./categories\"));\n\nvar products_1 = __importDefault(require(\"./products\"));\n\nvar commands_1 = __importDefault(require(\"./commands\"));\n\nvar invoices_1 = __importDefault(require(\"./invoices\"));\n\nvar reviews_1 = __importDefault(require(\"./reviews\"));\n\nvar finalize_1 = __importDefault(require(\"./finalize\"));\n\nexports.default = function (options) {\n  if (options === void 0) {\n    options = {\n      serializeDate: true\n    };\n  }\n\n  var db = {};\n  db.customers = customers_1.default(db, options);\n  db.categories = categories_1.default(db, options);\n  db.products = products_1.default(db, options);\n  db.commands = commands_1.default(db, options);\n  db.invoices = invoices_1.default(db, options);\n  db.reviews = reviews_1.default(db, options);\n  finalize_1.default(db);\n  return db;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar en_1 = require(\"faker/locale/en\");\n\nvar utils_1 = require(\"./utils\");\n\nexports.default = function (db, _a) {\n  var serializeDate = _a.serializeDate;\n  return Array.from(Array(900).keys()).map(function (id) {\n    var first_seen = utils_1.randomDate();\n    var last_seen = utils_1.randomDate(first_seen);\n    var has_ordered = utils_1.weightedBoolean(25);\n    var first_name = en_1.name.firstName();\n    var last_name = en_1.name.lastName();\n    var email = en_1.internet.email(first_name, last_name);\n    var birthday = has_ordered ? en_1.date.past(60) : null;\n    return {\n      id: id,\n      first_name: first_name,\n      last_name: last_name,\n      email: email,\n      address: has_ordered ? en_1.address.streetName() : null,\n      zipcode: has_ordered ? en_1.address.zipCode() : null,\n      city: has_ordered ? en_1.address.city() : null,\n      avatar: en_1.internet.avatar(),\n      birthday: serializeDate && birthday ? birthday.toISOString() : birthday,\n      first_seen: serializeDate ? first_seen.toISOString() : first_seen,\n      last_seen: serializeDate ? last_seen.toISOString() : last_seen,\n      has_ordered: has_ordered,\n      latest_purchase: null,\n      has_newsletter: has_ordered ? utils_1.weightedBoolean(30) : true,\n      groups: [],\n      nb_commands: 0,\n      total_spent: 0\n    };\n  });\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  return [{\n    id: 0,\n    name: 'animals'\n  }, {\n    id: 1,\n    name: 'beard'\n  }, {\n    id: 2,\n    name: 'business'\n  }, {\n    id: 3,\n    name: 'cars'\n  }, {\n    id: 4,\n    name: 'city'\n  }, {\n    id: 5,\n    name: 'flowers'\n  }, {\n    id: 6,\n    name: 'food'\n  }, {\n    id: 7,\n    name: 'nature'\n  }, {\n    id: 8,\n    name: 'people'\n  }, {\n    id: 9,\n    name: 'sports'\n  }, {\n    id: 10,\n    name: 'tech'\n  }, {\n    id: 11,\n    name: 'travel'\n  }, {\n    id: 12,\n    name: 'water'\n  }];\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar en_1 = require(\"faker/locale/en\");\n\nvar utils_1 = require(\"./utils\");\n\nexports.default = function (db) {\n  var id = 0;\n  return db.categories.reduce(function (acc, category) {\n    return acc.concat(Array.from(Array(10).keys()).map(function (index) {\n      var width = utils_1.randomFloat(10, 40);\n      var height = utils_1.randomFloat(10, 40);\n      return {\n        id: id++,\n        category_id: category.id,\n        reference: category.name.substr(0, 2) + '-' + en_1.random.alphaNumeric(5) + '-' + en_1.random.arrayElement('ABCDEFGHIJKLMNOPQRSTUVWXYZ'),\n        width: width,\n        height: height,\n        price: utils_1.randomFloat(width * height / 20, width * height / 15),\n        thumbnail: 'https://marmelab.com/posters/' + category.name + '-' + (index + 1) + '.jpeg',\n        image: 'https://marmelab.com/posters/' + category.name + '-' + (index + 1) + '.jpeg',\n        description: en_1.lorem.paragraph(),\n        stock: utils_1.weightedBoolean(20) ? 0 : en_1.random.number({\n          min: 0,\n          max: 250\n        })\n      };\n    }));\n  }, []);\n};","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar en_1 = require(\"faker/locale/en\");\n\nvar is_after_1 = __importDefault(require(\"date-fns/is_after\"));\n\nvar sub_days_1 = __importDefault(require(\"date-fns/sub_days\"));\n\nvar utils_1 = require(\"./utils\");\n\nexports.default = function (db, _a) {\n  var serializeDate = _a.serializeDate;\n  var today = new Date();\n  var aMonthAgo = sub_days_1.default(today, 30);\n  return Array.from(Array(600).keys()).map(function (id) {\n    var nbProducts = utils_1.weightedArrayElement([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], [30, 20, 5, 2, 1, 1, 1, 1, 1, 1]);\n    var basket = Array.from(Array(nbProducts).keys()).map(function () {\n      return {\n        product_id: en_1.random.number({\n          min: 0,\n          max: 10 * 13 - 1\n        }),\n        quantity: utils_1.weightedArrayElement([1, 2, 3, 4, 5], [10, 5, 3, 2, 1])\n      };\n    });\n    var total_ex_taxes = basket.reduce(function (total, product) {\n      return total + db.products[product.product_id].price * product.quantity;\n    }, 0);\n    var delivery_fees = utils_1.randomFloat(3, 8);\n    var tax_rate = en_1.random.arrayElement([0.12, 0.17, 0.2]);\n    var taxes = parseFloat(((total_ex_taxes + delivery_fees) * tax_rate).toFixed(2));\n    var customer = en_1.random.arrayElement(db.customers.filter(function (customer) {\n      return customer.has_ordered;\n    }));\n    var date = utils_1.randomDate(customer.first_seen, customer.last_seen);\n    var status = is_after_1.default(date, aMonthAgo) && en_1.random.boolean() ? 'ordered' : utils_1.weightedArrayElement(['delivered', 'cancelled'], [10, 1]);\n    return {\n      id: id,\n      reference: en_1.random.alphaNumeric(6).toUpperCase(),\n      date: serializeDate ? date.toISOString() : date,\n      customer_id: customer.id,\n      basket: basket,\n      total_ex_taxes: total_ex_taxes,\n      delivery_fees: delivery_fees,\n      tax_rate: tax_rate,\n      taxes: taxes,\n      total: parseFloat((total_ex_taxes + delivery_fees + taxes).toFixed(2)),\n      status: status,\n      returned: status === 'delivered' ? utils_1.weightedBoolean(10) : false\n    };\n  });\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (db) {\n  var id = 0;\n  return db.commands.filter(function (command) {\n    return command.status !== 'delivered';\n  }).sort(function (a, b) {\n    return new Date(a.date) - new Date(b.date);\n  }).map(function (command) {\n    return {\n      id: id++,\n      date: command.date,\n      command_id: command.id,\n      customer_id: command.customer_id,\n      total_ex_taxes: command.total_ex_taxes,\n      delivery_fees: command.delivery_fees,\n      tax_rate: command.tax_rate,\n      taxes: command.taxes,\n      total: command.total\n    };\n  });\n};","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar en_1 = require(\"faker/locale/en\");\n\nvar sub_days_1 = __importDefault(require(\"date-fns/sub_days\"));\n\nvar is_after_1 = __importDefault(require(\"date-fns/is_after\"));\n\nvar utils_1 = require(\"./utils\");\n\nexports.default = function (db, _a) {\n  var serializeDate = _a.serializeDate;\n  var today = new Date();\n  var aMonthAgo = sub_days_1.default(today, 30);\n  var id = 0;\n  var reviewers = db.customers.filter(function (customer) {\n    return customer.has_ordered;\n  }).filter(function () {\n    return utils_1.weightedBoolean(60);\n  }) // only 60% of buyers write reviews\n  .map(function (customer) {\n    return customer.id;\n  });\n  return db.commands.filter(function (command) {\n    return reviewers.indexOf(command.customer_id) !== -1;\n  }).reduce(function (acc, command) {\n    return acc.concat(command.basket.filter(function () {\n      return utils_1.weightedBoolean(40);\n    }) // reviewers review 40% of their products\n    .map(function (product) {\n      var date = utils_1.randomDate(command.date);\n      var status = is_after_1.default(aMonthAgo, date) ? utils_1.weightedArrayElement(['accepted', 'rejected'], [3, 1]) : utils_1.weightedArrayElement(['pending', 'accepted', 'rejected'], [5, 3, 1]);\n      return {\n        id: id++,\n        date: serializeDate ? date.toISOString() : date,\n        status: status,\n        command_id: command.id,\n        product_id: product.product_id,\n        customer_id: command.customer_id,\n        rating: en_1.random.number({\n          min: 1,\n          max: 5\n        }),\n        comment: Array.apply(null, Array(en_1.random.number({\n          min: 1,\n          max: 5\n        }))).map(function () {\n          return en_1.lorem.sentences();\n        }).join('\\n \\r')\n      };\n    }));\n  }, []);\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar utils_1 = require(\"./utils\");\n\nfunction default_1(db) {\n  // set latest purchase date\n  db.commands.forEach(function (command) {\n    var customer = db.customers[command.customer_id];\n\n    if (!customer.latest_purchase || customer.latest_purchase < command.date) {\n      customer.latest_purchase = command.date;\n    }\n\n    customer.total_spent += command.total;\n    customer.nb_commands++;\n  }); // add 'collector' group\n\n  var customersBySpending = db.commands.reduce(function (customers, command) {\n    if (!customers[command.customer_id]) {\n      customers[command.customer_id] = {\n        nbProducts: 0\n      };\n    }\n\n    customers[command.customer_id].nbProducts += command.basket.length;\n    return customers;\n  }, {});\n  Object.keys(customersBySpending).forEach(function (customer_id) {\n    if (customersBySpending[customer_id].nbProducts > 10) {\n      db.customers[customer_id].groups.push('collector');\n    }\n  }); // add 'ordered_once' group\n\n  db.customers.filter(function (customer) {\n    return customer.nb_commands === 1;\n  }).forEach(function (customer) {\n    return customer.groups.push('ordered_once');\n  }); // add 'compulsive' group\n\n  db.customers.filter(function (customer) {\n    return customer.total_spent > 1500;\n  }).forEach(function (customer) {\n    return customer.groups.push('compulsive');\n  }); // add 'regular' group\n\n  db.customers.filter(function () {\n    return utils_1.weightedBoolean(20);\n  }).forEach(function (customer) {\n    return customer.groups.push('regular');\n  }); // add 'returns' group\n\n  db.commands.filter(function (command) {\n    return command.returned;\n  }).forEach(function (command) {\n    if (db.customers[command.customer_id].groups.indexOf('returns') === -1) {\n      db.customers[command.customer_id].groups.push('returns');\n    }\n  }); // add 'reviewer' group\n\n  db.reviews.forEach(function (review) {\n    var customer = db.customers[review.customer_id];\n\n    if (customer.groups.indexOf('reviewer') === -1) {\n      customer.groups.push('reviewer');\n    }\n  }); // add settings\n\n  db.settings = [{\n    id: 1,\n    configuration: {\n      url: 'http://posters-galore.com/',\n      mail: {\n        sender: 'julio@posters-galore.com',\n        transport: {\n          service: 'fakemail',\n          auth: {\n            user: 'fake@mail.com',\n            pass: 'f00b@r'\n          }\n        }\n      },\n      file_type_whiltelist: ['txt', 'doc', 'docx', 'xls', 'xlsx', 'pdf', 'png', 'jpg']\n    }\n  }];\n}\n\nexports.default = default_1;","import FakeRest from 'fakerest';\nimport fetchMock from 'fetch-mock';\nimport generateData from 'data-generator-retail';\n\nexport default () => {\n    const data = generateData({ serializeDate: true });\n    const restServer = new FakeRest.FetchServer('http://localhost:4000');\n    if (window) {\n        window.restServer = restServer; // give way to update data in the console\n    }\n    restServer.init(data);\n    restServer.toggleLogging(); // logging is off by default, enable it\n    fetchMock.mock('begin:http://localhost:4000', restServer.getHandler());\n    return () => fetchMock.restore();\n};\n"],"sourceRoot":""}