{"version":3,"sources":["../../../packages/ra-core/esm/actions/undoActions.js","../../../packages/ra-core/esm/dataProvider/useDeclarativeSideEffects.js","../../../packages/ra-core/esm/dataProvider/useDataProviderWithDeclarativeSideEffects.js","../../../packages/ra-core/esm/dataProvider/useMutation.js","../../../packages/ra-core/esm/actions/clearActions.js","../../../packages/ra-core/esm/dataProvider/getFetchType.js","../../../packages/ra-core/esm/auth/useLogoutIfAccessDenied.js","../../../packages/ra-core/esm/dataProvider/defaultDataProvider.js","../../../packages/ra-core/esm/dataProvider/useDataProvider.js","../../../packages/ra-core/esm/dataProvider/replyWithCache.js","../../../packages/ra-core/esm/reducer/admin/references/oneToMany.js","../../../packages/ra-core/esm/dataProvider/useQueryWithStore.js","../../../packages/ra-core/esm/auth/useLogout.js","../../../packages/ra-core/esm/util/resolveRedirectTo.js","../../../packages/ra-core/esm/util/linkToRecord.js","../../../packages/ra-core/esm/util/warning.js","../../../packages/ra-core/esm/actions/dataActions/crudGetManyReference.js","../../../packages/ra-core/esm/dataProvider/useGetList.js","../../../packages/ra-core/esm/dataProvider/DataProviderContext.js","../../../packages/ra-core/esm/dataProvider/undoableEventEmitter.js","../../../packages/ra-core/esm/actions/fetchActions.js","../../../packages/ra-core/esm/core/dataFetchActions.js","../../../packages/ra-core/esm/sideEffect/useNotify.js","../../../packages/ra-core/esm/auth/AuthContext.js","../../../packages/ra-core/esm/actions/dataActions/crudGetMany.js","../../../packages/ra-core/esm/actions/notificationActions.js","../../../packages/ra-core/esm/auth/useAuthProvider.js","../../../packages/ra-core/esm/util/hooks.js","../../../packages/ra-core/esm/actions/listActions.js","../../../packages/ra-core/esm/actions/uiActions.js","../../../packages/ra-core/esm/util/getFetchedAt.js","../../../packages/ra-core/esm/reducer/admin/resource/data.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests/ids.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests/total.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests/validity.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests.js","../../../packages/ra-core/esm/reducer/admin/resource/list/expanded.js","../../../packages/ra-core/esm/actions/dataActions/crudGetList.js","../../../packages/ra-core/esm/actions/dataActions/crudCreate.js","../../../packages/ra-core/esm/reducer/admin/resource/list/ids.js","../../../packages/ra-core/esm/reducer/admin/resource/list/loadedOnce.js","../../../packages/ra-core/esm/reducer/admin/resource/list/params.js","../../../packages/ra-core/esm/actions/dataActions/crudDelete.js","../../../packages/ra-core/esm/reducer/admin/resource/list/selectedIds.js","../../../packages/ra-core/esm/reducer/admin/resource/list/total.js","../../../packages/ra-core/esm/reducer/admin/resource/list/index.js","../../../packages/ra-core/esm/reducer/admin/resource/validity.js","../../../packages/ra-core/esm/reducer/admin/resource/index.js","../../../packages/ra-core/esm/reducer/admin/loading.js","../../../packages/ra-core/esm/reducer/admin/notifications.js","../../../packages/ra-core/esm/actions/dataActions/crudGetMatching.js","../../../packages/ra-core/esm/reducer/admin/references/possibleValues.js","../../../packages/ra-core/esm/reducer/admin/references/index.js","../../../packages/ra-core/esm/reducer/admin/ui.js","../../../packages/ra-core/esm/reducer/admin/customQueries.js","../../../packages/ra-core/esm/reducer/admin/index.js","../../../packages/ra-core/esm/actions/resourcesActions.js","../../../packages/ra-core/esm/reducer/index.js","../../../packages/ra-core/esm/sideEffect/auth.js","../../../packages/ra-core/esm/actions/authActions.js","../../../packages/ra-core/esm/sideEffect/callback.js","../../../packages/ra-core/esm/sideEffect/fetch.js","../../../packages/ra-core/esm/sideEffect/notification.js","../../../packages/ra-core/esm/sideEffect/redirection.js","../../../packages/ra-core/esm/sideEffect/accumulate.js","../../../packages/ra-core/esm/sideEffect/refresh.js","../../../packages/ra-core/esm/sideEffect/undo.js","../../../packages/ra-core/esm/sideEffect/admin.js","../../../packages/ra-core/esm/core/createAdminStore.js","../../../packages/ra-core/esm/i18n/TranslationContext.js","../../../packages/ra-core/esm/i18n/TranslationProvider.js","../../../packages/ra-core/esm/core/CoreAdminContext.js","../../../packages/ra-core/esm/auth/convertLegacyAuthProvider.js","../../../packages/ra-core/esm/auth/types.js","../../../packages/ra-language-english/esm/index.js","../../../packages/ra-i18n-polyglot/esm/index.js","../../../packages/react-admin/esm/defaultI18nProvider.js","../../../packages/react-admin/esm/AdminContext.js","../../../packages/ra-core/esm/auth/useCheckAuth.js","../../../packages/ra-core/esm/auth/useAuthenticated.js","../../../packages/ra-core/esm/auth/useGetPermissions.js","../../../packages/ra-core/esm/auth/usePermissions.js","../../../packages/ra-core/esm/auth/WithPermissions.js","../../../packages/ra-core/esm/core/RoutesWithLayout.js","../../../packages/ra-core/esm/auth/useAuthState.js","../../../packages/ra-core/esm/core/CoreAdminRouter.js","../../../packages/ra-core/esm/core/CoreAdminUI.js","../../../packages/ra-core/esm/i18n/useTranslate.js","../../../packages/ra-ui-materialui/esm/button/RefreshIconButton.js","../../../packages/ra-ui-materialui/esm/layout/LoadingIndicator.js","../../../packages/ra-ui-materialui/esm/layout/UserMenu.js","../../../packages/ra-ui-materialui/esm/layout/HideOnScroll.js","../../../packages/ra-ui-materialui/esm/layout/AppBar.js","../../../packages/ra-ui-materialui/esm/layout/Sidebar.js","../../../packages/ra-ui-materialui/esm/layout/MenuItemLink.js","../../../packages/ra-ui-materialui/esm/layout/DashboardMenuItem.js","../../../packages/ra-ui-materialui/esm/layout/Menu.js","../../../packages/ra-ui-materialui/esm/layout/Notification.js","../../../packages/ra-ui-materialui/esm/layout/Title.js","../../../packages/ra-ui-materialui/esm/layout/Error.js","../../../packages/ra-ui-materialui/esm/defaultTheme.js","../../../packages/ra-core/esm/util/ComponentPropType.js","../../../packages/ra-ui-materialui/esm/layout/Layout.js","../../../packages/ra-ui-materialui/esm/layout/NotFound.js","../../../packages/ra-ui-materialui/esm/layout/Loading.js","../../../packages/ra-core/esm/auth/useLogin.js","../../../packages/ra-ui-materialui/esm/auth/LoginForm.js","../../../packages/ra-ui-materialui/esm/auth/Login.js","../../../packages/ra-ui-materialui/esm/auth/Logout.js","../../../packages/react-admin/esm/AdminUI.js","../../../packages/react-admin/esm/Admin.js","../../../packages/ra-core/esm/core/Resource.js","authProvider.ts","configuration/actions.ts","themeReducer.js","layout/Logo.tsx","layout/AppBar.tsx","../../../packages/ra-core/esm/controller/checkMinimumRequiredProps.js","../../../packages/ra-core/esm/reducer/admin/resource/list/queryReducer.js","../../../packages/ra-core/esm/util/removeEmpty.js","../../../packages/ra-core/esm/util/removeKey.js","../../../packages/ra-core/esm/controller/useListParams.js","../../../packages/ra-core/esm/controller/useRecordSelection.js","../../../packages/ra-core/esm/controller/useVersion.js","../../../packages/ra-core/esm/controller/useListController.js","../../../packages/ra-ui-materialui/esm/list/FilterFormInput.js","../../../packages/ra-ui-materialui/esm/list/FilterForm.js","../../../packages/ra-core/esm/util/FieldTitle.js","../../../packages/ra-core/esm/util/getFieldLabelTranslationArgs.js","../../../packages/ra-ui-materialui/esm/list/FilterButtonMenuItem.js","../../../packages/ra-ui-materialui/esm/button/Button.js","../../../packages/ra-ui-materialui/esm/list/FilterButton.js","../../../packages/ra-ui-materialui/esm/list/Filter.js","../../../packages/ra-core/esm/form/validate.js","../../../packages/ra-core/esm/form/isRequired.js","../../../packages/ra-core/esm/form/useInput.js","../../../packages/ra-ui-materialui/esm/input/ResettableTextField.js","../../../packages/ra-core/esm/form/ValidationError.js","../../../packages/ra-ui-materialui/esm/input/InputHelperText.js","../../../packages/ra-ui-materialui/esm/input/sanitizeRestProps.js","../../../packages/ra-ui-materialui/esm/input/TextInput.js","../../../packages/ra-ui-materialui/esm/input/SearchInput.js","../../../packages/ra-ui-materialui/esm/input/DateInput.js","../../../packages/ra-ui-materialui/esm/input/NullableBooleanInput.js","../../../packages/ra-core/esm/export/defaultExporter.js","../../../packages/ra-core/esm/export/downloadCSV.js","../../../packages/ra-core/esm/export/ExporterContext.js","../../../packages/ra-ui-materialui/esm/list/ListToolbar.js","../../../packages/ra-ui-materialui/esm/list/PaginationActions.js","../../../packages/ra-ui-materialui/esm/list/PaginationLimit.js","../../../packages/ra-ui-materialui/esm/list/Pagination.js","../../../packages/ra-core/esm/actions/dataActions/crudDeleteMany.js","../../../packages/ra-ui-materialui/esm/layout/Confirm.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteWithConfirmButton.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteWithUndoButton.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteButton.js","../../../packages/ra-ui-materialui/esm/layout/TopToolbar.js","../../../packages/ra-ui-materialui/esm/list/BulkActionsToolbar.js","../../../packages/ra-ui-materialui/esm/button/CreateButton.js","../../../packages/ra-core/esm/export/fetchRelatedRecords.js","../../../packages/ra-ui-materialui/esm/button/ExportButton.js","../../../packages/ra-ui-materialui/esm/list/ListActions.js","../../../packages/ra-ui-materialui/esm/list/Empty.js","../../../packages/ra-ui-materialui/esm/list/List.js","../../../packages/ra-ui-materialui/esm/list/DatagridHeaderCell.js","../../../packages/ra-ui-materialui/esm/list/Placeholder.js","../../../packages/ra-ui-materialui/esm/list/DatagridLoading.js","../../../packages/ra-core/esm/controller/useExpanded.js","../../../packages/ra-ui-materialui/esm/list/DatagridCell.js","../../../packages/ra-ui-materialui/esm/list/ExpandRowButton.js","../../../packages/ra-ui-materialui/esm/list/DatagridRow.js","../../../packages/ra-ui-materialui/esm/list/DatagridBody.js","../../../packages/ra-ui-materialui/esm/list/Datagrid.js","../../../packages/ra-ui-materialui/esm/field/sanitizeRestProps.js","../../../packages/ra-ui-materialui/esm/field/types.js","../../../packages/ra-ui-materialui/esm/field/DateField.js","../../../packages/ra-ui-materialui/esm/field/NumberField.js","../../../packages/ra-ui-materialui/esm/field/BooleanField.js","segments/data.js","visitors/SegmentsField.tsx","../../../packages/ra-core/esm/form/useChoices.js","../../../packages/ra-ui-materialui/esm/input/SelectInput.js","visitors/SegmentInput.tsx","../../../packages/ra-ui-materialui/esm/Link.js","visitors/AvatarField.tsx","visitors/FullNameField.tsx","visitors/CustomerLinkField.tsx","visitors/ColoredNumberField.tsx","../../../packages/ra-ui-materialui/esm/button/EditButton.js","visitors/MobileGrid.tsx","visitors/VisitorList.tsx","../../../packages/ra-core/esm/controller/useCreateController.js","../../../packages/ra-ui-materialui/esm/layout/TitleForRecord.js","../../../packages/ra-ui-materialui/esm/detail/Create.js","../../../packages/ra-core/esm/form/useInitializeFormWithRecord.js","../../../packages/ra-core/esm/form/useWarnWhenUnsavedChanges.js","../../../packages/ra-core/esm/form/sanitizeEmptyValues.js","../../../packages/ra-core/esm/form/getFormInitialValues.js","../../../packages/ra-core/esm/form/FormContext.js","../../../packages/ra-core/esm/form/FormWithRedirect.js","../../../packages/ra-ui-materialui/esm/input/Labeled.js","../../../packages/ra-ui-materialui/esm/form/FormInput.js","../../../packages/ra-ui-materialui/esm/button/SaveButton.js","../../../packages/ra-ui-materialui/esm/button/DeleteWithUndoButton.js","../../../packages/ra-ui-materialui/esm/button/DeleteWithConfirmButton.js","../../../packages/ra-ui-materialui/esm/button/DeleteButton.js","../../../packages/ra-ui-materialui/esm/form/Toolbar.js","../../../packages/ra-ui-materialui/esm/layout/CardContentInner.js","../../../packages/ra-ui-materialui/esm/form/SimpleForm.js","../../../packages/ra-ui-materialui/esm/input/PasswordInput.js","visitors/VisitorCreate.tsx","../../../packages/ra-core/esm/actions/dataActions/crudGetOne.js","../../../packages/ra-core/esm/actions/dataActions/crudUpdate.js","../../../packages/ra-core/esm/controller/useEditController.js","../../../packages/ra-ui-materialui/esm/button/ShowButton.js","../../../packages/ra-ui-materialui/esm/detail/EditActions.js","../../../packages/ra-ui-materialui/esm/detail/Edit.js","../../../packages/ra-ui-materialui/esm/field/TextField.js","../../../packages/ra-core/esm/controller/input/referenceDataStatus.js","../../../packages/ra-core/esm/controller/useReference.js","../../../packages/ra-core/esm/actions/accumulateActions.js","../../../packages/ra-core/esm/controller/input/useGetMatchingReferences.js","../../../packages/ra-core/esm/controller/usePaginationState.js","../../../packages/ra-core/esm/controller/useSortState.js","../../../packages/ra-core/esm/controller/useFilterState.js","../../../packages/ra-core/esm/controller/input/useReferenceInputController.js","../../../packages/ra-ui-materialui/esm/layout/LinearProgress.js","../../../packages/ra-ui-materialui/esm/input/ReferenceError.js","../../../packages/ra-ui-materialui/esm/input/ReferenceInput.js","../../../packages/ra-core/esm/form/useSuggestions.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteSuggestionList.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteSuggestionItem.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteInput.js","../../../packages/ra-ui-materialui/esm/field/FunctionField.js","orders/NbItemsField.js","../../../packages/ra-core/esm/controller/field/getResourceLinkPath.js","../../../packages/ra-ui-materialui/esm/field/ReferenceField.js","visitors/CustomerReferenceField.tsx","orders/MobileGrid.js","orders/OrderList.js","../../../packages/ra-ui-materialui/esm/input/InputPropTypes.js","../../../packages/ra-ui-materialui/esm/input/BooleanInput.js","orders/Basket.tsx","orders/OrderEdit.js","orders/index.js","../../../packages/ra-core/esm/actions/dataActions/crudUpdateMany.js","reviews/BulkAcceptButton.js","reviews/BulkRejectButton.js","reviews/ReviewListMobile.js","products/ProductReferenceField.js","reviews/StarRatingField.tsx","reviews/rowStyle.js","reviews/ReviewListDesktop.js","reviews/ReviewFilter.js","reviews/AcceptButton.js","reviews/RejectButton.js","reviews/ReviewEditToolbar.js","reviews/ReviewEdit.js","reviews/ReviewList.js","reviews/index.js","visitors/Aside.js","../../../packages/ra-ui-materialui/esm/input/SelectArrayInput.js","visitors/SegmentsInput.tsx","visitors/VisitorEdit.tsx","visitors/index.ts","visitors/AddressField.tsx","../../../packages/ra-core/esm/controller/useShowController.js","invoices/InvoiceShow.tsx","invoices/InvoiceList.tsx","invoices/index.ts","../../../packages/ra-ui-materialui/esm/input/NumberInput.js","products/GridList.js","products/ProductList.js","../../../packages/ra-core/esm/util/escapePath.js","../../../packages/ra-ui-materialui/esm/form/TabbedFormTabs.js","../../../packages/ra-ui-materialui/esm/form/TabbedForm.js","../../../packages/ra-ui-materialui/esm/form/FormTab.js","../../../packages/ra-core/esm/controller/field/useReferenceManyFieldController.js","../../../packages/ra-ui-materialui/esm/field/ReferenceManyField.js","../../../packages/ra-input-rich-text/esm/QuillSnowStylesheet.js","../../../packages/ra-input-rich-text/esm/styles.js","../../../packages/ra-input-rich-text/esm/index.js","products/Poster.js","products/ProductCreate.js","products/ProductEdit.js","products/index.js","categories/LinkToRelatedProducts.tsx","categories/CategoryList.tsx","products/ThumbnailField.tsx","products/ProductRefField.tsx","categories/CategoryEdit.tsx","categories/index.ts","layout/SubMenu.tsx","layout/Menu.tsx","layout/themes.ts","layout/Layout.tsx","layout/Login.tsx","dashboard/Welcome.tsx","dashboard/CardIcon.tsx","dashboard/MonthlyRevenue.tsx","dashboard/NbNewOrders.tsx","dashboard/PendingOrders.tsx","dashboard/PendingReviews.tsx","dashboard/NewCustomers.tsx","dashboard/Dashboard.tsx","dashboard/index.ts","../../../packages/ra-core/esm/i18n/useLocale.js","../../../packages/ra-core/esm/i18n/useSetLocale.js","../../../packages/ra-core/esm/loading/useUpdateLoading.js","configuration/Configuration.tsx","segments/LinkToRelatedCustomers.js","segments/Segments.js","routes.js","i18n/en.ts","dataProvider/index.js","fakeServer/index.js","App.tsx","index.tsx","../../../packages/ra-core/esm/sideEffect/useRefresh.js","../../../packages/ra-core/esm/dataProvider/useRefreshWhenVisible.js","../../../packages/ra-core/esm/dataProvider/useDeleteMany.js","../../../packages/ra-core/esm/dataProvider/useCreate.js","../../../packages/ra-core/esm/dataProvider/useDelete.js","../../../packages/ra-core/esm/dataProvider/useGetMany.js","../../../packages/ra-core/esm/dataProvider/useGetOne.js","../../../packages/ra-core/esm/dataProvider/useUpdate.js","../../../packages/ra-core/esm/dataProvider/useUpdateMany.js","../../../packages/ra-core/esm/dataProvider/useGetManyReference.js","../../../packages/ra-core/esm/dataProvider/convertLegacyDataProvider.js","../../../packages/ra-core/esm/sideEffect/useUnselectAll.js","../../../packages/ra-core/esm/sideEffect/useRedirect.js"],"names":["UNDOABLE","UNDO","undo","type","COMPLETE","complete","START_OPTIMISTIC_MODE","startOptimisticMode","STOP_OPTIMISTIC_MODE","stopOptimisticMode","useDeclarativeSideEffects","notify","useNotify","redirect","useRedirect","refresh","useRefresh","unselectAll","useUnselectAll","useMemo","resource","_a","_b","onSuccess","undefined","onFailure","convertToFunctionSideEffect","sideEffects","Object","keys","length","notification","redirectTo","needRefresh","needUnselectAll","body","level","messageArgs","__assign","assign","t","s","i","n","arguments","p","prototype","hasOwnProperty","call","apply","this","useDataProviderWithDeclarativeSideEffects","dataProvider","useDataProvider","getSideEffects","Proxy","get","target","name","payload","options","toString","e","Promise","reject","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","mergeDefinitionAndCallTimeParameters","query","callTimeQuery","callTimeOptions","Event","Error","sanitizeOptions","merge","hasDeclarativeSideEffectsSupport","withDeclarativeSideEffectsSupport","args","useMutation","useSafeSetState","data","error","total","loading","loaded","state","setState","dataProviderWithDeclarativeSideEffects","useCallback","finalDataProvider","params","prevState","then","catch","errorFromResponse","JSON","stringify","CLEAR_STATE","clearState","actionType","GET_LIST","GET_ONE","GET_MANY","GET_MANY_REFERENCE","CREATE","UPDATE","UPDATE_MANY","DELETE","DELETE_MANY","authCheckPromise","create","resolve","delete","deleteMany","getList","getMany","getManyReference","getOne","update","updateMany","__awaiter","thisArg","_arguments","P","generator","fulfilled","value","step","next","rejected","result","done","__generator","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","logoutIfAccessDeniedWithoutProvider","useLogoutIfAccessDenied","authProvider","useAuthProvider","logout","useLogout","logoutIfAccessDenied","checkError","redirectto","finally","optimisticCalls","doQuery","action","rest","dispatch","store","undoable","resourceState","getState","admin","resources","now","Date","validity","id","ids","every","canReplyWithCache","answerWithCache","performUndoableQuery","performQuery","window","addEventListener","warnBeforeClosingWindow","meta","fetch","getFetchType","optimistic","undoableEventEmitter","once","isUndo","showNotification","refreshView","removeEventListener","FETCH_START","response","requestPayload","fetchResponse","fetchStatus","FETCH_END","replayOptimisticCalls","loggedOut","message","FETCH_ERROR","event","preventDefault","returnValue","all","map","splice","data_1","requestSignature","cachedRequest","list","cachedRequests","getResultFromCache","fromCache","useDispatch","useContext","DataProviderContext","defaultDataProvider","isOptimistic","useSelector","ui","useStore","_c","_d","_e","initialState","getIds","relatedTo","references","oneToMany","getTotal","getReferences","reference","console","filter","r","reduce","prev","record","getRelatedReferences","previousState","key","includes","removeDeletedReferences","removedIds","idsToKeep","nameRelatedTo","join","oneToManyReducer","CRUD_GET_MANY_REFERENCE_SUCCESS","isEmptyList","Array","isArray","defaultTotalSelector","useQueryWithStore","dataSelector","totalSelector","customQueries","defaultDataSelector","requestSignatureRef","useRef","current","isEqual","isNaN","useEffect","history","useHistory","defaultAuthParams","loginUrl","redirectToFromProvider","pathname","nextPathname","location","logoutWithoutProvider","basePath","linkToRecord","linkType","link","encodeURIComponent","condition","CRUD_GET_MANY_REFERENCE","defaultData","useGetList","pagination","sort","allResourceData","acc","shallowEqual","createContext","displayName","EventEmitter","fetchStart","fetchEnd","FETCH_CANCEL","fetchActionsWithRecordResponse","fetchActionsWithArrayOfIdentifiedRecordsResponse","fetchActionsWithArrayOfRecordsResponse","il","k","a","j","jl","__spreadArrays","fetchActionsWithTotalResponse","sanitizeFetchType","fetchType","autoHideDuration","defaultProvider","login","checkAuth","getPermissions","AuthContext","crudGetMany","CRUD_GET_MANY","SHOW_NOTIFICATION","notificationOptions","HIDE_NOTIFICATION","hideNotification","afterLoginUrl","useState","mountedRef","useDeepCompareEffect","callback","inputs","cleanupRef","previousInputs","ref","usePrevious","useTimeout","ms","ready","setReady","timer","setTimeout","clearTimeout","CRUD_CHANGE_LIST_PARAMS","changeListParams","SET_LIST_SELECTED_IDS","setListSelectedIds","TOGGLE_LIST_ITEM","toggleListItem","TOGGLE_LIST_ITEM_EXPAND","toggleListItemExpand","TOGGLE_SIDEBAR","toggleSidebar","SET_SIDEBAR_VISIBILITY","setSidebarVisibility","isOpen","REFRESH_VIEW","getFetchedAt","newRecordIds","oldRecordFetchedAt","cacheDuration","newFetchedAt","forEach","recordId","latestValidDate","setTime","getTime","stillValidFetchedAt","pickBy","date","hideFetchedAt","records","defineProperty","enumerable","configurable","writable","addRecordsAndRemoveOutdated","newRecords","oldRecords","newRecordsById","fetchedAt","addOneRecord","newRecord","includesNotStrict","items","element","some","item","removeRecords","removedRecordIds","entries","obj","val","dataReducer","updatedRecord","updatedRecords","updatedFetchedAt","addRecords","idsReducer","totalReducer","validityReducer","validUntil","initialSubstate","cachedRequestsReducer","requestKey","previousSubState","expanded","index","el","slice","CRUD_GET_LIST","CRUD_CREATE","uniq","loadedOnce","defaultState","order","page","perPage","paramsReducer","CRUD_DELETE","selectedIdsReducer","defaultReducer","combineReducers","selectedIds","addIds","oldValidityRegistry","validityRegistry","removeIds","loadingReducer","Math","max","notificationsReducer","concat","getNotification","notifications","CRUD_GET_MATCHING","possibleValuesreducer","possibleValues","getPossibleReferences","referenceState","from","unshift","sidebarOpen","viewVersion","uiReducer","customQueriesReducer","props","getResources","resourceGetResources","adminGetResources","takeEvery","handleLogin","handleCheck","handleLogout","takeLatest","handleFetchError","nextPathnameSelector","locationState","router","currentPathnameSelector","getErrorMessage","defaultMessage","authPayload","e_1","errorMessage","put","pathName","select","auth","error_1","replace","handleCallback","handleFetch","fetchMeta","restType","successSideEffects","failureSideEffects","Function","cancelled","takeFetchAction","handleNotification","handleRedirection","resolveRedirectTo","oldIds","oldIdsSet","Set","add","finalizeFactory","tasks","accumulations","actionCreator","accumulatedValue","delay","accumulateFactory","finalize","accumulateValues","accumulateKey","cancel","fork","accumulate","handleRefresh","handleUndoRace","undoableAction","metaWithoutSideEffects","race","take","watchUndoable","redirection","customReducers","customSagas","appReducer","connectRouter","createAppReducer","sagaMiddleware","createSagaMiddleware","composeEnhancers","compose","createStore","applyMiddleware","routerMiddleware","run","adminSaga","TranslationContext","locale","setLocale","i18nProvider","translate","x","changeLocale","getLocale","TranslationProvider","children","newLocale","React","createElement","Provider","Children","only","CoreAdminContext","reduxIsAlreadyInitialized","ReactReduxContext","finalAuthProvider","legacyAuthProvider","_i","convertLegacyAuthProvider","convertLegacyDataProvider","finalHistory","createHashHistory","renderCore","ConnectedRouter","createAdminStore","englishMessages","ra","add_filter","back","bulk_actions","clear_input_value","clone","confirm","edit","export","remove_filter","remove","save","search","show","expand","close","open_menu","close_menu","boolean","true","false","null","dashboard","not_found","empty","invite","input","file","upload_several","upload_single","image","all_missing","many_missing","single_missing","password","toggle_visible","toggle_hidden","about","are_you_sure","bulk_delete_content","bulk_delete_title","delete_content","delete_title","details","invalid_form","no","yes","unsaved_changes","navigation","no_results","no_more_results","page_out_of_boundaries","page_out_from_end","page_out_from_begin","page_range_info","page_rows_per_page","auth_check_error","user_menu","username","sign_in","sign_in_error","updated","created","deleted","bad_item","item_doesnt_exist","http_error","data_provider_error","i18n_error","canceled","logged_out","validation","required","minLength","maxLength","minValue","maxValue","number","email","oneOf","regex","getMessages","initialLocale","polyglotOptions","messages","polyglot","Polyglot","phrases","bind","newPolyglot","polyglotI18nProvider","defaultMessages","AdminContext","defaultProps","defaultI18nProvider","checkAuthWithoutAuthProvider","useCheckAuth","logoutOnFailure","emptyParams","getPermissionsWithoutProvider","useGetPermissions","usePermissions","permissions","isEmptyChildren","count","WithPermissions","authParams","render","component","staticContext","warning","useAuthenticated","RoutesWithLayout","catchAll","customRoutes","title","childrenAsArray","toArray","firstChild","Switch","route","cloneElement","child","Route","path","intent","exact","routeProps","Redirect","to","useAuthState","authenticated","CoreAdminRouter","doLogout","oneSecondHasPassed","computedChildren","setComputedChildren","initializeResources","resolveChildren","childrenFuncResult","resolvedChildren","layout","menu","theme","childrenToRender","noLayout","renderCustomRoutesWithoutLayout","DefaultLayout","Fragment","Noop","CoreAdminUI","_f","loginPage","_g","identity","useTranslate","RefreshIconButton","icon","defaultIcon","onClick","className","handleClick","Tooltip","IconButton","color","NavigationRefresh","propTypes","PropTypes","string","useStyles","makeStyles","loader","margin","LoadingIndicator","classes","useRefreshWhenVisible","CircularProgress","classNames","size","thickness","object","width","UserMenu","anchorEl","setAnchorEl","open","Boolean","handleClose","currentTarget","Menu","anchorOrigin","vertical","horizontal","transformOrigin","onClose","menuItem","isValidElement","node","isRequired","AccountCircle","HideOnScroll","trigger","useScrollTrigger","Slide","appear","direction","in","toolbar","paddingRight","menuButton","marginLeft","marginRight","menuButtonIconClosed","transition","transitions","easing","sharp","duration","leavingScreen","transform","menuButtonIconOpen","flex","textOverflow","whiteSpace","overflow","AppBar","logo","userMenu","isXSmall","useMediaQuery","breakpoints","down","MuiAppBar","Toolbar","disableGutters","variant","enterDelay","MenuIcon","root","Typography","bool","DefaultUserMenu","drawerPaper","position","height","overflowX","lodashGet","backgroundColor","marginTop","borderRight","palette","background","default","up","border","zIndex","Sidebar","closedSize","isSmall","isDesktop","Drawer","PaperProps","onMenuClick","NavLinkRef","forwardRef","NavLink","innerRef","text","secondary","active","primary","minWidth","spacing","MenuItemLink","primaryText","leftIcon","sidebarIsOpen","handleMenuTap","renderMenuItem","MenuItem","classnames","activeClassName","ListItemIcon","titleAccess","placement","func","oneOfType","DashboardMenuItem","DashboardIcon","dense","main","display","flexDirection","justifyContent","translatedResourceName","smart_count","inflection","humanize","pluralize","hasDashboard","hasList","DefaultIcon","dark","contrastText","light","Notification","setOpen","styles","handleRequestClose","handleExited","emit","handleUndo","Snackbar","disableWindowBlurListener","onExited","ContentProps","Button","Title","defaultTitle","container","document","getElementById","titleElement","createPortal","TitlePropType","alignItems","padding","fontFamily","opacity","panel","panelDetails","goBack","go","errorInfo","role","ErrorIcon","process","History","typography","fontWeight","sidebar","closedWidth","overrides","MuiFilledInput","propName","componentName","isValidElementType","__extends","extendStatics","d","b","setPrototypeOf","__proto__","__","constructor","Layout","_super","_this","hasError","listen","componentDidCatch","appBar","match","sanitizeRestProps","appFrame","contentWithSidebar","content","Component","ComponentPropType","array","DefaultAppBar","DefaultError","DefaultMenu","DefaultNotification","DefaultSidebar","EnhancedLayout","connect","withRouter","withStyles","createStyles","minHeight","flexGrow","flexBasis","paddingTop","paddingLeft","LayoutWithTheme","themeOverride","themeProp","createMuiTheme","setTheme","ThemeProvider","defaultTheme","textAlign","NotFound","HotTub","Loading","loadingPrimary","loadingSecondary","useLogin","useLocation","nextPathName","ret","loginWithoutProvider","form","button","Input","touched","inputProps","TextField","helperText","fullWidth","LoginForm","setLoading","Form","onSubmit","values","validate","errors","handleSubmit","noValidate","Field","autoFocus","disabled","autoComplete","CardActions","backgroundRepeat","backgroundSize","backgroundImage","card","avatar","Login","containerRef","muiTheme","backgroundImageLoaded","updateBackgroundImage","style","img","Image","onload","src","lazyLoadBackgroundImage","Card","Avatar","LockIcon","DefaultLoginForm","LogoutWithRef","ExitIcon","AdminUI","Admin","appLayout","logoutButton","defaultOptions","ResourceRegister","hasEdit","hasShow","hasCreate","ResourceRoutes","isRegistered","decodeURIComponent","Resource","localStorage","setItem","removeItem","getItem","changeTheme","Logo","viewBox","aria-label","lineHeight","fontSize","letterSpacing","wordSpacing","strokeWidth","fill","spacer","ConfigurationMenu","CustomUserMenu","CustomAppBar","useCheckMinimumRequiredProps","requiredProps","propNames","missingProps","prop","queryReducer","displayedFilters","removeEmpty","isEmpty","removeKey","deepRemoveKey","paths","split","deepKey","deep","emptyObject","defaultSort","field","defaultParams","validQueryParams","parseObject","parse","err","getQuery","filterDefaultValues","queryFromLocation","parseQueryFromLocation","hasCustomParams","getNumberOrDefault","possibleNumber","defaultValue","parseInt","useListParams","debounce","reduxState","changeParams","newParams","setSort","newSort","setPage","newPage","setPerPage","newPerPage","filterValues","displayedFilterValues","debouncedSetFilters","lodashDebounce","newFilters","newDisplayedFilters","filters","setFilters","hideFilter","filterName","showFilter","set","defaultRecords","useSelectItems","newIds","toggle","clearSelection","useVersion","injectedProps","sanitizeListRestProps","useListController","version","queryModifiers","useRecordSelection","selectionModifiers","defaultIds","defaultTotal","currentSort","resourceName","onSelect","onToggleItem","onUnselectItems","emptyRecord","hideButton","FilterFormInput","filterElement","handleHide","source","alwaysOn","ActionHide","allowEmpty","flexWrap","clearFix","clear","FilterForm","initialValues","dataset","anyTouched","asyncValidate","asyncValidating","autofill","blur","change","clearAsyncError","clearFields","clearSubmit","clearSubmitErrors","destroy","dirty","dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","hasSubmitErrors","hasValidationErrors","initialize","initialized","invalid","modified","pristine","pure","reset","resetSection","setFilter","submit","submitAsSideEffect","submitError","submitErrors","submitFailed","submitSucceeded","submitting","touch","triggerSubmit","untouch","valid","validating","visited","__versions","arrayOf","handleFinalFormSubmit","FormSpySubscription","EnhancedFilterForm","mergedInitialValuesWithDefaultValues","lodashSet","mergeInitialValuesWithDefaultValues","rest2","mutators","arrayMutators","formProps","FormSpy","subscription","onChange","FieldTitle","getFieldLabelTranslationArgs","FilterButtonMenuItem","onShow","handleShow","alignIcon","restProps","sanitizeButtonRestProps","MuiButton","labelRightIcon","smallIcon","mediumIcon","largeIcon","handleSubmitWithRedirect","onSave","saving","submitOnEnter","FilterButton","hiddenFilters","handleClickButton","ContentFilter","Filter","context","renderButton","renderForm","EMAIL_REGEX","getMessage","memoize","fn","lodashMemoize","min","Number","pattern","test","oneOfTypeMessage","it","useInput","customOnBlur","onBlur","customOnChange","customOnFocus","onFocus","finalName","sanitizedValidate","validators","validator","composeValidators","useFinalFormField","initialValue","handleBlur","handleChange","handleFocus","clearIcon","visibleClearIcon","clearButton","selectAdornment","right","inputAdornedEnd","handleMouseDownClearButton","ResettableTextField","clearAlwaysVisible","InputProps","resettable","handleClickClearButton","visibleClearButton","restClasses","endAdornment","InputPropsWithoutEndAdornment","MuiTextField","adornedEnd","InputAdornment","disableRipple","onMouseDown","ClearIcon","getEndAdornment","any","ValidationError","InputHelperText","dangerouslySetInnerHTML","__html","formClassName","initializeForm","limitChoicesToValue","optionText","optionValue","translateChoice","TextInput","format","SearchInput","hiddenLabel","placeholder","SearchIcon","convertDateToString","getDate","yyyy","getFullYear","MM","getMonth","dd","dateRegex","getStringFromDate","DateInput","InputLabelProps","shrink","getBooleanFromString","getStringFromBoolean","NullableBooleanInput","displayNull","enhancedOptions","SelectProps","displayEmpty","defaultExporter","jsonExport","csv","filename","fakeLink","appendChild","blob","Blob","navigator","msSaveOrOpenBlob","setAttribute","URL","createObjectURL","click","downloadCSV","ExporterContext","paper","actions","ListToolbar","permanentFilter","exporter","memo","flexShrink","hellip","PaginationActions","rowsPerPage","onChangePage","useTheme","getNbPages","ceil","gotoPage","nbPages","ChevronRight","ChevronLeft","range","pageNum","backIconButtonProps","nextIconButtonProps","CardContent","emptyArray","Pagination","rowsPerPageOptions","limit","handlePageChange","stopPropagation","handlePerPageChange","labelDisplayedRows","offsetBegin","offsetEnd","TablePagination","onChangeRowsPerPage","ActionsComponent","labelRowsPerPage","DefaultPaginationActions","DefaultPaginationLimit","CRUD_DELETE_MANY","contentText","confirmPrimary","confirmWarning","fade","iconPaddingStyle","Confirm","confirmColor","ConfirmIcon","CancelIcon","onConfirm","translateOptions","handleConfirm","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","elementType","ActionCheck","AlertError","deleteButton","BulkDeleteWithConfirmButton","confirmTitle","confirmContent","useDeleteMany","inflect","ActionDelete","BulkDeleteWithUndoButton","BulkDeleteButton","paddingBottom","TopToolbar","lighten","buttons","collapsed","overflowY","BulkActionsToolbar","CreateButton","Fab","Link","floating","ContentAdd","getContrastText","top","bottom","left","floatingLink","enhance","onlyUpdateForKeys","getRelatedIds","fetchRelatedRecords","post","ExportButton","defaultFilter","maxResults","customExporter","exporterFromContext","DownloadIcon","ListActions","Empty","emptyMessage","inviteMessage","Inbox","paragraph","List","ListView","aside","bulkActionButtons","shape","Content","controllerProps","getListControllerProps","shouldRenderEmptyPage","bulkActionsDisplayed","hasBulkActions","renderList","DefaultActions","DefaultPagination","boxShadow","noResults","crudGetList","setSelectedIds","toggleItem","DatagridHeaderCell","updateSort","isSorting","TableCell","headerClassName","align","sortable","sortBy","TableSortLabel","shouldUpdate","nextProps","grey","Placeholder","times","nbChildren","DatagridLoading","nbFakeLines","Table","table","TableHead","TableRow","row","expandHeader","expandIconCell","Checkbox","checked","headerCell","TableBody","key1","expandIcon","ExpandMoreIcon","key2","rowCell","useExpanded","expandedList","DatagridCell","cellClassName","expandContentId","tabIndex","computeNbColumns","defaultClasses","DatagridRow","hover","rowClick","selected","selectable","toggleExpanded","nbColumns","setNbColumns","newNbColumns","handleToggleExpand","handleToggleSelection","effect","persist","ExpandRowButton","checkbox","colSpan","String","PureDatagridRow","prevProps","prevPropsWithoutChildren","nextPropsWithoutChildren","DatagridBody","rowStyle","isRowSelectable","rowIndex","rowEven","rowOdd","clickableRow","muiName","PureDatagridBody","tableLayout","thead","tbody","headerRow","cursor","shortest","Datagrid","optimized","handleSelectAll","all_1","omit","fieldPropTypes","addLabel","emptyText","fieldKey","toLocaleStringSupportsLocales","toLocaleString","RangeError","EnhancedDateField","locales","showTime","dateString","toLocaleDateString","hasNumberFormat","Intl","NumberFormat","NumberField","EnhancedNumberField","EnhancedBooleanField","valueLabelTrue","valueLabelFalse","ariaLabel","TrueIcon","FalseIcon","marginBottom","chip","SegmentsField","groups","segmentId","segment","segments","find","Chip","useChoices","getChoiceText","choice","choiceName","getChoiceValue","SelectInput","choices","disableValue","emptyValue","renderEmptyItemOption","renderMenuItemOption","crudGetMatching","crudGetOne","filterToQuery","setPagination","SegmentInput","textDecoration","RRLink","AvatarField","PureFullNameField","first_name","last_name","CustomerLinkField","ColoredNumberField","WrappedComponent","Colored","colored","EditButton","ContentCreate","cardTitleContent","cardContent","body1","MobileGrid","CardHeader","nb_commands","currency","VisitorFilter","VisitorList","isXsmall","useCreateController","successMessage","recordToUse","getRecord","useCreate","singularize","getDefaultRedirectRoute","searchParams","TitleForRecord","Create","CreateView","noActions","crudCreate","useInitializeFormWithRecord","useForm","registeredFields","getRegisteredFields","batch","resetFieldState","useWarnWhenUnsavedChanges","enable","formLocation","unsavedChanges","sessionStorage","formState","dirtyFieldValues","sanitizeEmptyValues","initialValuesWithEmptyFields","FormContext","setOnSave","defaultSubscription","FormView","warnWhenUnsavedChanges","setRedirect","FormWithRedirect","debug","decorators","destroyOnUnregister","initialValuesEqual","keepDirtyOnReinitialize","validateOnBlur","newRedirect","newOnSave","formContextValue","finalInitialValues","warn","getFormInitialValues","finalRedirect","finalValues","boxSizing","verticalAlign","Labeled","name_1","FormControl","InputLabel","htmlFor","labelStyle","FormInput","SaveButton","displayedLabel","ContentSave","DeleteWithUndoButton","useDelete","deleteOne","handleDelete","DeleteWithConfirmButton","DeleteButton","desktopToolbar","mobileToolbar","defaultToolbar","valueOrDefault","MuiToolbar","withWidth","initialWidth","CardContentInner","SimpleForm","SimpleFormView","asyncBlurFields","_reduxForm","PasswordInput","initiallyVisible","visible","setVisible","Visibility","VisibilityOff","address","maxWidth","zipcode","city","comment","confirm_password","validatePasswords","requiredValidate","SectionTitle","gutterBottom","Separator","Box","pt","VisitorCreate","multiline","CRUD_GET_ONE","CRUD_UPDATE","useEditController","useGetOne","useUpdate","DefaultRedirect","ShowButton","ImageEye","EditActions","Edit","EditView","finalActions","EnhancedTextField","isMatchingReferencesError","matchingReferences","useReference","useGetMany","referenceRecord","crudGetMatchingAccumulate","defaultReferenceSource","useGetMatchingReferenceSelector","referenceSource","getMatchingReferences","referenceResource","resourceGetReferenceResource","adminGetReferenceResource","getReferenceResource","pvGetPossibleReferenceValues","referencesGetPossibleReferenceValues","adminGetPossibleReferenceValues","getPossibleReferenceValues","paginationReducer","nextState","defaultPagination","initialPagination","useReducer","isFirstRender","sortReducer","initialSort","setSortField","setSortOrder","defaultFilterToQuery","q","emptyFilter","useReferenceInputController","sortOverride","usePaginationState","useSortState","debounceTime","permanentFilterProp","latestValue","setFilterValue","useFilterState","filterValue","dataStatus","matchingReferencesError","selectedReferenceError","waiting","getDataStatus","useGetMatchingReferences","LinearProgress","Progress","ReferenceError","ReferenceInput","ReferenceInputView","searchText","finalMeta","warningLog","disabledHelperText","sanitizeInputProps","useSuggestions","allowDuplicates","matchSuggestion","selectedItem","suggestionLimit","getSuggestions","getSuggestionsFactory","suggestion","suggestionText","RegExp","defaultMatchSuggestion","suggestions","removeAlreadySelectedSuggestions","limitSuggestions","addEmptySuggestion","selectedItems","selectedValues","isInteger","newSuggestions","emptySuggestion","suggestionsContainer","suggestionsPaper","maxHeight","AutocompleteSuggestionList","menuProps","inputEl","suggestionsContainerProps","Popper","modifiers","Paper","square","clientWidth","highlightedSuggestionText","AutocompleteSuggestionItem","matches","parts","highlightedIndex","isSelected","getSuggestionText","isHighlighted","part","highlight","AutocompleteInput","idOverride","inputOverride","isRequiredOverride","metaOverride","labelProps","inputText","shouldRenderSuggestionsOverride","shouldRenderSuggestions","_h","_j","_k","_l","getSuggestionFromValue","_m","handleFilterChange","eventOrValue","storeInputRef","inputPosition","getBoundingClientRect","anchorPosition","updateAnchorEl","openMenu","Downshift","inputValue","itemToString","getInputProps","getItemProps","getLabelProps","getMenuProps","isMenuOpen","inputRef","suppressRefError","EnhancedFunctionField","basket","NbItemsField","getResourceLinkPath","sourceId","rootPath","linkTo","ReferenceField","resourceLinkPath","PureReferenceFieldView","ReferenceFieldView","CustomerReferenceField","useListStyles","cardContentRow","OrderFilter","useDatagridStyles","TabbedDatagrid","tabs","ordered","delivered","status","Tabs","centered","indicatorColor","Tab","Divider","StyledTabbedDatagrid","OrderList","InputPropTypes","BooleanInput","finalFormOnChange","FormGroup","FormControlLabel","control","FormHelperText","rightAlignedCell","boldCell","Basket","product_id","productId","products","elevation","price","quantity","total_ex_taxes","delivery_fees","tax_rate","OrderTitle","useEditStyles","OrderIcon","CRUD_UPDATE_MANY","BulkAcceptButton","useUpdateMany","approve","BulkRejectButton","inline","ReviewMobileList","ListItem","ListItemAvatar","ListItemText","secondaryTypographyProps","noWrap","ProductReferenceField","large","small","haight","StarRatingField","rating","selectedRow","defaultStyle","borderLeftColor","green","borderLeftWidth","borderLeftStyle","orange","red","ReviewListDesktop","useFilterStyles","ReviewFilter","AcceptButton","RejectButton","ReviewEditToolbar","inlineField","ReviewEdit","onCancel","rowsMax","ReviewsBulkActionButtons","enteringScreen","listWithDrawer","ReviewList","isMatch","ReviewListMobile","anchor","ReviewIcon","useAsideStyles","EventList","customer_id","orders","orderIds","reviews","reviewIds","events","mixOrdersAndReviews","m","mb","mr","eventsFromOrders","eventsFromReviews","e1","e2","useEventStyles","cardHeader","clamp","Order","subheader","Review","Aside","chips","SelectArrayInput","classNamInputWithOptionsPropse","componenInputWithOptionsPropst","crudGetMInputWithOptionsPropsatching","crudGetOInputWithOptionsPropsne","Select","autoWidth","multiple","FilledInput","renderValue","SegmentsInput","addField","VisitorTitle","VisitorForm","md","lg","xs","sm","ml","mt","VisitorIcon","AddressField","useShowController","CustomerField","InvoiceShow","Grid","alignContent","invoices","ListFilters","InvoiceIcon","convertStringToNumber","float","parseFloat","NumberInput","overrideInputProps","gridList","tileBar","getColsForWidth","LoadingGridList","nbItems","cellHeight","cols","GridListTile","LoadedGridList","thumbnail","alt","GridListTileBar","subtitle","useQuickFilterStyles","QuickFilter","ProductFilter","ProductList","url","getTabFullPath","tab","baseUrl","TabbedFormTabs","tabsWithErrors","validTabPaths","tabValue","tabPath","errorTabButton","TabbedForm","TabbedFormView","defaultRedirect","findTabsWithErrors","useRouteMatch","escapePath","hidden","hiddenStyle","FormTab","contentClassName","MuiTab","useReferenceManyFieldController","referenceId","useGetManyReference","referenceBasePath","ReferenceManyField","initialPerPage","ReferenceManyFieldView","visibility","pointerEvents","outline","tabSize","wordWrap","counterReset","listStyleType","counterIncrement","fontStyle","stroke","strokeLinecap","strokeLinejoin","strokeMiterlimit","fillRule","borderLeft","borderRadius","borderColor","borderTop","QuillSnowStylesheet","RichTextInput","configureQuill","quillInstance","divRef","editor","lastValueChange","onTextChange","innerHTML","Quill","modules","clipboard","matchVisual","setContents","convert","querySelector","on","off","selection","getSelection","hasFocus","setSelection","Poster","stock","widthFormGroup","heightFormGroup","ProductCreate","startAdornment","ProductTitle","ProductIcon","LinkToRelatedProducts","category_id","CategoryList","ThumbnailField","ProductRefField","CategoryTitle","minimumFractionDigits","CategoryIcon","sidebarIsClosed","SubMenu","handleToggle","header","Collapse","timeout","unmountOnExit","disablePadding","menuCatalog","menuSales","menuCustomers","categories","darkTheme","lightTheme","CustomSidebar","hint","renderInput","withTypes","LoginWithTheme","media","mediaUrl","random","Welcome","CardMedia","href","CardIcon","Icon","bgColor","MonthlyRevenue","DollarIcon","NbNewOrders","ShoppingCartIcon","cost","PendingOrders","customers","nb_items","customer_name","ListItemSecondaryAction","titleLink","listItemText","WebkitLineClamp","WebkitBoxOrient","PendingReviews","nb","CommentIcon","NewCustomers","aMonthAgo","setDate","setHours","setMinutes","setSeconds","setMilliseconds","has_ordered","first_seen_gte","toISOString","visitors","CustomerIcon","flexColumn","leftCol","rightCol","singleCol","Dashboard","fetchOrders","date_gte","recentOrders","aggregations","stats","revenue","nbNewOrders","pendingOrders","maximumFractionDigits","pendingOrdersCustomers","customer","fetchReviews","nbPendingReviews","pendingReviews","review","pendingReviewsCustomers","useLocale","useSetLocale","startLoading","stopLoading","useUpdateLoading","Configuration","LinkToRelatedCustomers","Segments","customEnglishMessages","pos","configuration","language","monthly_revenue","new_orders","pending_reviews","new_customers","pending_orders","welcome","aor_button","demo_button","sales","catalog","fields","commands","first_seen","last_seen","last_seen_gte","total_spent","fieldGroups","change_password","password_mismatch","amount","delivery","sum","unit_price","date_lte","total_gte","returned","command_id","height_gte","height_lte","stock_lte","width_gte","width_lte","description","relative_to_poster","detail","accept","approved_success","approved_error","rejected_success","rejected_error","compulsive","collector","ordered_once","regular","returns","reviewer","factory","provider","App","setDataProvider","restoreFetch","fakeServerFactory","dataProviderFactory","dataProviderInstance","fetchDataProvider","themeReducer","ReactDOM","doRefresh","lastHiddenTime","handleVisibilityChange","previousData","queriesToCall","DataProviderOptions","makeGetManySelector","createSelector","callQueries","queries","accumulatedIds","union","unstable_batchedUpdates","datum","selectMany","referencingResource","selectIds","selectTotal","selectData","fetchMap","legacyDataProvider","resource1","resource2"],"mappings":"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","file":"static/js/main.72990760.chunk.js","sourcesContent":["export var UNDOABLE = 'RA/UNDOABLE';\nexport var startUndoable = function (action) { return ({\n    type: UNDOABLE,\n    payload: { action: action },\n}); };\nexport var UNDO = 'RA/UNDO';\nexport var undo = function () { return ({\n    type: UNDO,\n}); };\nexport var COMPLETE = 'RA/COMPLETE';\nexport var complete = function () { return ({\n    type: COMPLETE,\n}); };\nexport var START_OPTIMISTIC_MODE = 'RA/START_OPTIMISTIC_MODE';\nexport var startOptimisticMode = function () { return ({\n    type: START_OPTIMISTIC_MODE,\n}); };\nexport var STOP_OPTIMISTIC_MODE = 'RA/STOP_OPTIMISTIC_MODE';\nexport var stopOptimisticMode = function () { return ({\n    type: STOP_OPTIMISTIC_MODE,\n}); };\n","import { useNotify, useRedirect, useRefresh, useUnselectAll, } from '../sideEffect';\nimport { useMemo } from 'react';\nvar useDeclarativeSideEffects = function () {\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var unselectAll = useUnselectAll();\n    return useMemo(function () { return function (resource, _a) {\n        var _b = _a === void 0 ? {\n            onSuccess: undefined,\n            onFailure: undefined,\n        } : _a, onSuccess = _b.onSuccess, onFailure = _b.onFailure;\n        var convertToFunctionSideEffect = function (resource, sideEffects) {\n            if (!sideEffects || typeof sideEffects === 'function') {\n                return sideEffects;\n            }\n            if (Object.keys(sideEffects).length === 0) {\n                return undefined;\n            }\n            var notification = sideEffects.notification, redirectTo = sideEffects.redirectTo, needRefresh = sideEffects.refresh, needUnselectAll = sideEffects.unselectAll;\n            return function () {\n                if (notification) {\n                    notify(notification.body, notification.level, notification.messageArgs);\n                }\n                if (redirectTo) {\n                    redirect(redirectTo);\n                }\n                if (needRefresh) {\n                    refresh();\n                }\n                if (needUnselectAll) {\n                    unselectAll(resource);\n                }\n            };\n        };\n        return {\n            onSuccess: convertToFunctionSideEffect(resource, onSuccess),\n            onFailure: convertToFunctionSideEffect(resource, onFailure),\n        };\n    }; }, [notify, redirect, refresh, unselectAll]);\n};\nexport default useDeclarativeSideEffects;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport useDataProvider from './useDataProvider';\nimport { useMemo } from 'react';\nimport useDeclarativeSideEffects from './useDeclarativeSideEffects';\n/**\n * This version of the useDataProvider hook ensure Query and Mutation components are still usable\n * with side effects declared as objects.\n *\n * @deprecated This is for backward compatibility only and will be removed in next major version.\n */\nvar useDataProviderWithDeclarativeSideEffects = function () {\n    var dataProvider = useDataProvider();\n    var getSideEffects = useDeclarativeSideEffects();\n    var dataProviderProxy = useMemo(function () {\n        return new Proxy(dataProvider, {\n            get: function (target, name) {\n                return function (resource, payload, options) {\n                    var _a = getSideEffects(resource, options), onSuccess = _a.onSuccess, onFailure = _a.onFailure;\n                    try {\n                        return target[name.toString()](resource, payload, __assign(__assign({}, options), { onSuccess: onSuccess,\n                            onFailure: onFailure }));\n                    }\n                    catch (e) {\n                        // turn synchronous exceptions (e.g. in parameter preparation)\n                        // into async ones, otherwise they'll be lost\n                        return Promise.reject(e);\n                    }\n                };\n            },\n        });\n    }, [dataProvider, getSideEffects]);\n    return dataProviderProxy;\n};\nexport default useDataProviderWithDeclarativeSideEffects;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback } from 'react';\nimport merge from 'lodash/merge';\nimport { useSafeSetState } from '../util/hooks';\nimport useDataProvider from './useDataProvider';\nimport useDataProviderWithDeclarativeSideEffects from './useDataProviderWithDeclarativeSideEffects';\n/**\n * Get a callback to fetch the data provider through Redux, usually for mutations.\n *\n * The request starts when the callback is called.\n *\n * useMutation() parameters can be passed:\n *\n * - at definition time\n *\n *       const [mutate] = useMutation(query, options); mutate();\n *\n * - at call time\n *\n *       const [mutate] = useMutation(); mutate(query, options);\n *\n * - both, in which case the definition and call time parameters are merged\n *\n *       const [mutate] = useMutation(query1, options1); mutate(query2, options2));\n *\n * @param {Object} query\n * @param {string} query.type The method called on the data provider, e.g. 'getList', 'getOne'. Can also be a custom method if the dataProvider supports is.\n * @param {string} query.resource A resource name, e.g. 'posts', 'comments'\n * @param {Object} query.payload The payload object, e.g; { post_id: 12 }\n * @param {Object} options\n * @param {string} options.action Redux action type\n * @param {boolean} options.undoable Set to true to run the mutation locally before calling the dataProvider\n * @param {Function} options.onSuccess Side effect function to be executed upon success of failure, e.g. { onSuccess: response => refresh() } }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) } }\n * @param {boolean} options.withDeclarativeSideEffectsSupport Set to true to support legacy side effects (e.g. { onSuccess: { refresh: true } })\n *\n * @returns A tuple with the mutation callback and the request state. Destructure as [mutate, { data, total, error, loading, loaded }].\n *\n * The return value updates according to the request state:\n *\n * - mount:         [mutate, { loading: false, loaded: false }]\n * - mutate called: [mutate, { loading: true, loaded: false }]\n * - success:       [mutate, { data: [data from response], total: [total from response], loading: false, loaded: true }]\n * - error:         [mutate, { error: [error from response], loading: false, loaded: true }]\n *\n * The mutate function accepts the following arguments\n * - {Object} query\n * - {string} query.type The method called on the data provider, e.g. 'update'\n * - {string} query.resource A resource name, e.g. 'posts', 'comments'\n * - {Object} query.payload The payload object, e.g. { id: 123, data: { isApproved: true } }\n * - {Object} options\n * - {string} options.action Redux action type\n * - {boolean} options.undoable Set to true to run the mutation locally before calling the dataProvider\n * - {Function} options.onSuccess Side effect function to be executed upon success of failure, e.g. { onSuccess: response => refresh() } }\n * - {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) } }\n * - {boolean} withDeclarativeSideEffectsSupport Set to true to support legacy side effects (e.g. { onSuccess: { refresh: true } })\n *\n * @example\n *\n * // pass parameters at definition time\n * // use when all parameters are determined at definition time\n * // the mutation callback can be used as an even handler\n * // because Event parameters are ignored\n * import { useMutation } from 'react-admin';\n *\n * const ApproveButton = ({ record }) => {\n *     const [approve, { loading }] = useMutation({\n *         type: 'update',\n *         resource: 'comments',\n *         payload: { id: record.id, data: { isApproved: true } }\n *     });\n *     return <Button label=\"Approve\" onClick={approve} disabled={loading} />;\n * };\n *\n * @example\n *\n * // pass parameters at call time\n * // use when some parameters are only known at call time\n * import { useMutation } from 'react-admin';\n *\n * const ApproveButton = ({ record }) => {\n *     const [mutate, { loading }] = useMutation();\n *     const approve = event => mutate({\n *         type: 'update',\n *         resource: 'comments',\n *         payload: {\n *             id: event.target.dataset.id,\n *             data: { isApproved: true, updatedAt: new Date() }\n *         },\n *     });\n *     return <Button\n *         label=\"Approve\"\n *         onClick={approve}\n *         disabled={loading}\n *     />;\n * };\n *\n * @example\n *\n * // use the second argument to pass options\n * import { useMutation, useNotify, CRUD_UPDATE } from 'react-admin';\n *\n * const ResetStockButton = ({ record }) => {\n *     const [mutate, { loading }] = useMutation();\n *     const notify = useNotify();\n *     const handleClick = () => mutate(\n *         {\n *              type: 'update',\n *              resource: 'items',\n *              payload: { id: record.id, data: { stock: 0 } }\n *         },\n *         {\n *              undoable: true,\n *              action: CRUD_UPDATE,\n *              onSuccess: response => notify('Success !'),\n *              onFailure: error => notify('Failure !')\n *         }\n *     );\n *     return <Button label=\"Reset stock\" onClick={handleClick} disabled={loading} />;\n * };\n */\nvar useMutation = function (query, options) {\n    var _a = useSafeSetState({\n        data: null,\n        error: null,\n        total: null,\n        loading: false,\n        loaded: false,\n    }), state = _a[0], setState = _a[1];\n    var dataProvider = useDataProvider();\n    var dataProviderWithDeclarativeSideEffects = useDataProviderWithDeclarativeSideEffects();\n    /* eslint-disable react-hooks/exhaustive-deps */\n    var mutate = useCallback(function (callTimeQuery, callTimeOptions) {\n        var finalDataProvider = hasDeclarativeSideEffectsSupport(options, callTimeOptions)\n            ? dataProviderWithDeclarativeSideEffects\n            : dataProvider;\n        var params = mergeDefinitionAndCallTimeParameters(query, callTimeQuery, options, callTimeOptions);\n        setState(function (prevState) { return (__assign(__assign({}, prevState), { loading: true })); });\n        finalDataProvider[params.type](params.resource, params.payload, params.options)\n            .then(function (_a) {\n            var data = _a.data, total = _a.total;\n            setState({\n                data: data,\n                total: total,\n                loading: false,\n                loaded: true,\n            });\n        })\n            .catch(function (errorFromResponse) {\n            setState({\n                error: errorFromResponse,\n                loading: false,\n                loaded: false,\n            });\n        });\n    }, [\n        // deep equality, see https://github.com/facebook/react/issues/14476#issuecomment-471199055\n        JSON.stringify({ query: query, options: options }),\n        dataProvider,\n        dataProviderWithDeclarativeSideEffects,\n        setState,\n    ]\n    /* eslint-enable react-hooks/exhaustive-deps */\n    );\n    return [mutate, state];\n};\n/**\n * Utility function for merging parameters\n *\n * useMutation() parameters can be passed:\n * - at definition time (e.g. useMutation({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } }) )\n * - at call time (e.g [mutate] = useMutation(); mutate({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } }))\n * - both\n *\n * This function merges the definition time and call time parameters.\n *\n * This is useful because useMutation() is used by higher-level hooks like\n * useCreate() or useUpade(), and these hooks can be called both ways.\n * So it makes sense to make useMutation() capable of handling both call types\n * as it avoids repetition higher in the hook chain.\n *\n * Also, the call time query may be a DOM Event if the callback is used\n * as an event listener, as in:\n *\n * const UpdateButton = () => {\n *     const mutate = useMutation({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } });\n *     return <button onclick={mutate}>Click me</button>\n * };\n *\n * This usage is accepted, and therefore this function checks if the call time\n * query is an Event, and discards it in that case.\n *\n * @param query {Mutation}\n * @param callTimeQuery {Mutation}\n * @param options {Object}\n * @param callTimeOptions {Object}\n *\n * @return { type, resource, payload, options } The merged parameters\n */\nvar mergeDefinitionAndCallTimeParameters = function (query, callTimeQuery, options, callTimeOptions) {\n    if (!query && (!callTimeQuery || callTimeQuery instanceof Event)) {\n        throw new Error('Missing query either at definition or at call time');\n    }\n    if (callTimeQuery instanceof Event)\n        return {\n            type: query.type,\n            resource: query.resource,\n            payload: query.payload,\n            options: sanitizeOptions(options),\n        };\n    if (query)\n        return {\n            type: query.type || callTimeQuery.type,\n            resource: query.resource || callTimeQuery.resource,\n            payload: callTimeQuery\n                ? merge({}, query.payload, callTimeQuery.payload)\n                : query.payload,\n            options: callTimeOptions\n                ? merge({}, sanitizeOptions(options), sanitizeOptions(callTimeOptions))\n                : sanitizeOptions(options),\n        };\n    return {\n        type: callTimeQuery.type,\n        resource: callTimeQuery.resource,\n        payload: callTimeQuery.payload,\n        options: sanitizeOptions(callTimeOptions),\n    };\n};\nvar hasDeclarativeSideEffectsSupport = function (options, callTimeOptions) {\n    if (!options && !callTimeOptions)\n        return false;\n    if (callTimeOptions && callTimeOptions.withDeclarativeSideEffectsSupport)\n        return true;\n    if (options && options.withDeclarativeSideEffectsSupport)\n        return true;\n    return false;\n};\nvar sanitizeOptions = function (args) {\n    if (!args)\n        return {};\n    var withDeclarativeSideEffectsSupport = args.withDeclarativeSideEffectsSupport, options = __rest(args, [\"withDeclarativeSideEffectsSupport\"]);\n    return options;\n};\nexport default useMutation;\n","export var CLEAR_STATE = 'RA/CLEAR_STATE';\n// The CLEAR_STATE action will completely reset the react-admin redux state to its initial value.\n// This should only be called once the user has been redirected to a page which do not use the\n// state such as the login page.\nexport var clearState = function () { return ({\n    type: CLEAR_STATE,\n}); };\n","import { GET_LIST, GET_ONE, GET_MANY, GET_MANY_REFERENCE, CREATE, UPDATE, UPDATE_MANY, DELETE, DELETE_MANY, } from '../core';\n/**\n * Get a fetch type for a data provider verb.\n *\n * The fetch type is used in reducers.\n *\n * @example getFetchType('getMany'); // 'GET_MANY'\n */\nexport default (function (actionType) {\n    switch (actionType) {\n        case 'getList':\n            return GET_LIST;\n        case 'getOne':\n            return GET_ONE;\n        case 'getMany':\n            return GET_MANY;\n        case 'getManyReference':\n            return GET_MANY_REFERENCE;\n        case 'create':\n            return CREATE;\n        case 'update':\n            return UPDATE;\n        case 'updateMany':\n            return UPDATE_MANY;\n        case 'delete':\n            return DELETE;\n        case 'deleteMany':\n            return DELETE_MANY;\n        default:\n            return actionType;\n    }\n});\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useCallback } from 'react';\nimport useAuthProvider from './useAuthProvider';\nimport useLogout from './useLogout';\nimport { useNotify } from '../sideEffect';\nvar authCheckPromise;\n/**\n * Returns a callback used to call the authProvider.checkError() method\n * and an error from the dataProvider. If the authProvider rejects the call,\n * the hook logs the user out and shows a logged out notification.\n *\n * Used in the useDataProvider hook to check for access denied responses\n * (e.g. 401 or 403 responses) and trigger a logout.\n *\n * @see useLogout\n * @see useDataProvider\n *\n * @returns {Function} logoutIfAccessDenied callback\n *\n * @example\n *\n * import { useLogoutIfAccessDenied, useNotify, DataProviderContext } from 'react-admin';\n *\n * const FetchRestrictedResource = () => {\n *     const dataProvider = useContext(DataProviderContext);\n *     const logoutIfAccessDenied = useLogoutIfAccessDenied();\n *     const notify = useNotify()\n *     useEffect(() => {\n *         dataProvider.getOne('secret', { id: 123 })\n *             .catch(error => {\n *                  logoutIfaccessDenied(error);\n *                  notify('server error', 'warning');\n *              })\n *     }, []);\n *     // ...\n * }\n */\nvar useLogoutIfAccessDenied = function () {\n    var authProvider = useAuthProvider();\n    var logout = useLogout();\n    var notify = useNotify();\n    var logoutIfAccessDenied = useCallback(function (error) {\n        // Sometimes, a component might trigger multiple simultaneous\n        // dataProvider calls which all fail and call this function.\n        // To avoid having multiple notifications, we first verify if\n        // a checkError promise is already ongoing\n        if (!authCheckPromise) {\n            authCheckPromise = authProvider\n                .checkError(error)\n                .then(function () { return false; })\n                .catch(function (e) { return __awaiter(void 0, void 0, void 0, function () {\n                var redirectTo;\n                return __generator(this, function (_a) {\n                    redirectTo = e && e.redirectTo\n                        ? e.redirectTo\n                        : error && error.redirectTo\n                            ? error.redirectto\n                            : undefined;\n                    logout({}, redirectTo);\n                    notify('ra.notification.logged_out', 'warning');\n                    return [2 /*return*/, true];\n                });\n            }); })\n                .finally(function () {\n                authCheckPromise = undefined;\n            });\n        }\n        return authCheckPromise;\n    }, [authProvider, logout, notify]);\n    return authProvider\n        ? logoutIfAccessDenied\n        : logoutIfAccessDeniedWithoutProvider;\n};\nvar logoutIfAccessDeniedWithoutProvider = function () { return Promise.resolve(false); };\nexport default useLogoutIfAccessDenied;\n","export default {\n    create: function () { return Promise.resolve({ data: null }); },\n    delete: function () { return Promise.resolve({ data: null }); },\n    deleteMany: function () { return Promise.resolve({ data: [] }); },\n    getList: function () { return Promise.resolve({ data: [], total: 0 }); },\n    getMany: function () { return Promise.resolve({ data: [] }); },\n    getManyReference: function () { return Promise.resolve({ data: [], total: 0 }); },\n    getOne: function () { return Promise.resolve({ data: null }); },\n    update: function () { return Promise.resolve({ data: null }); },\n    updateMany: function () { return Promise.resolve({ data: [] }); },\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useContext, useMemo } from 'react';\nimport { useDispatch, useSelector, useStore } from 'react-redux';\nimport DataProviderContext from './DataProviderContext';\nimport validateResponseFormat from './validateResponseFormat';\nimport undoableEventEmitter from './undoableEventEmitter';\nimport getFetchType from './getFetchType';\nimport defaultDataProvider from './defaultDataProvider';\nimport { canReplyWithCache, getResultFromCache } from './replyWithCache';\nimport { startOptimisticMode, stopOptimisticMode, } from '../actions/undoActions';\nimport { FETCH_END, FETCH_ERROR, FETCH_START } from '../actions/fetchActions';\nimport { showNotification } from '../actions/notificationActions';\nimport { refreshView } from '../actions/uiActions';\nimport useLogoutIfAccessDenied from '../auth/useLogoutIfAccessDenied';\n// List of dataProvider calls emitted while in optimistic mode.\n// These calls get replayed once the dataProvider exits optimistic mode\nvar optimisticCalls = [];\n/**\n * Hook for getting a dataProvider\n *\n * Gets a dataProvider object, which behaves just like the real dataProvider\n * (same methods returning a Promise). But it's actually a Proxy object, which\n * dispatches Redux actions along the process. The benefit is that react-admin\n * tracks the loading state when using this hook, and stores results in the\n * Redux store for future use.\n *\n * In addition to the 2 usual parameters of the dataProvider methods (resource,\n * payload), the Proxy supports a third parameter for every call. It's an\n * object literal which may contain side effects, or make the action optimistic\n * (with undoable: true).\n *\n * @return dataProvider\n *\n * @example Basic usage\n *\n * import React, { useState } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const PostList = () => {\n *      const [posts, setPosts] = useState([])\n *      const dataProvider = useDataProvider();\n *      useEffect(() => {\n *          dataProvider.getList('posts', { filter: { status: 'pending' }})\n *            .then(({ data }) => setPosts(data));\n *      }, [])\n *\n *      return (\n *          <Fragment>\n *              {posts.map((post, key) => <PostDetail post={post} key={key} />)}\n *          </Fragment>\n *     }\n * }\n *\n * @example Handling all states (loading, error, success)\n *\n * import { useState, useEffect } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const UserProfile = ({ userId }) => {\n *     const dataProvider = useDataProvider();\n *     const [user, setUser] = useState();\n *     const [loading, setLoading] = useState(true);\n *     const [error, setError] = useState();\n *     useEffect(() => {\n *         dataProvider.getOne('users', { id: userId })\n *             .then(({ data }) => {\n *                 setUser(data);\n *                 setLoading(false);\n *             })\n *             .catch(error => {\n *                 setError(error);\n *                 setLoading(false);\n *             })\n *     }, []);\n *\n *     if (loading) return <Loading />;\n *     if (error) return <Error />\n *     if (!user) return null;\n *\n *     return (\n *         <ul>\n *             <li>Name: {user.name}</li>\n *             <li>Email: {user.email}</li>\n *         </ul>\n *     )\n * }\n *\n * @example Action customization\n *\n * dataProvider.getOne('users', { id: 123 });\n * // will dispatch the following actions:\n * // - CUSTOM_FETCH\n * // - CUSTOM_FETCH_LOADING\n * // - FETCH_START\n * // - CUSTOM_FETCH_SUCCESS\n * // - FETCH_END\n *\n * dataProvider.getOne('users', { id: 123 }, { action: CRUD_GET_ONE });\n * // will dispatch the following actions:\n * // - CRUD_GET_ONE\n * // - CRUD_GET_ONE_LOADING\n * // - FETCH_START\n * // - CRUD_GET_ONE_SUCCESS\n * // - FETCH_END\n */\nvar useDataProvider = function () {\n    var dispatch = useDispatch();\n    var dataProvider = useContext(DataProviderContext) || defaultDataProvider;\n    var isOptimistic = useSelector(function (state) { return state.admin.ui.optimistic; });\n    var store = useStore();\n    var logoutIfAccessDenied = useLogoutIfAccessDenied();\n    var dataProviderProxy = useMemo(function () {\n        return new Proxy(dataProvider, {\n            get: function (target, name) {\n                return function (resource, payload, options) {\n                    var type = name.toString();\n                    var _a = options || {}, _b = _a.action, action = _b === void 0 ? 'CUSTOM_FETCH' : _b, _c = _a.undoable, undoable = _c === void 0 ? false : _c, _d = _a.onSuccess, onSuccess = _d === void 0 ? undefined : _d, _e = _a.onFailure, onFailure = _e === void 0 ? undefined : _e, rest = __rest(_a, [\"action\", \"undoable\", \"onSuccess\", \"onFailure\"]);\n                    if (typeof dataProvider[type] !== 'function') {\n                        throw new Error(\"Unknown dataProvider function: \" + type);\n                    }\n                    if (onSuccess && typeof onSuccess !== 'function') {\n                        throw new Error('The onSuccess option must be a function');\n                    }\n                    if (onFailure && typeof onFailure !== 'function') {\n                        throw new Error('The onFailure option must be a function');\n                    }\n                    if (undoable && !onSuccess) {\n                        throw new Error('You must pass an onSuccess callback calling notify() to use the undoable mode');\n                    }\n                    var params = {\n                        action: action,\n                        dataProvider: dataProvider,\n                        dispatch: dispatch,\n                        logoutIfAccessDenied: logoutIfAccessDenied,\n                        onFailure: onFailure,\n                        onSuccess: onSuccess,\n                        payload: payload,\n                        resource: resource,\n                        rest: rest,\n                        store: store,\n                        type: type,\n                        undoable: undoable,\n                    };\n                    if (isOptimistic) {\n                        // in optimistic mode, all fetch calls are stacked, to be\n                        // executed once the dataProvider leaves optimistic mode.\n                        // In the meantime, the admin uses data from the store.\n                        optimisticCalls.push(params);\n                        return Promise.resolve();\n                    }\n                    return doQuery(params);\n                };\n            },\n        });\n    }, [dataProvider, dispatch, isOptimistic, logoutIfAccessDenied, store]);\n    return dataProviderProxy;\n};\nvar doQuery = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, onFailure = _a.onFailure, dataProvider = _a.dataProvider, dispatch = _a.dispatch, store = _a.store, undoable = _a.undoable, logoutIfAccessDenied = _a.logoutIfAccessDenied;\n    var resourceState = store.getState().admin.resources[resource];\n    if (canReplyWithCache(type, payload, resourceState)) {\n        return answerWithCache({\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            resourceState: resourceState,\n            dispatch: dispatch,\n        });\n    }\n    return undoable\n        ? performUndoableQuery({\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            onFailure: onFailure,\n            dataProvider: dataProvider,\n            dispatch: dispatch,\n            logoutIfAccessDenied: logoutIfAccessDenied,\n        })\n        : performQuery({\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            onFailure: onFailure,\n            dataProvider: dataProvider,\n            dispatch: dispatch,\n            logoutIfAccessDenied: logoutIfAccessDenied,\n        });\n};\n/**\n * In undoable mode, the hook dispatches an optimistic action and executes\n * the success side effects right away. Then it waits for a few seconds to\n * actually call the dataProvider - unless the user dispatches an Undo action.\n *\n * We call that \"optimistic\" because the hook returns a resolved Promise\n * immediately (although it has an empty value). That only works if the\n * caller reads the result from the Redux store, not from the Promise.\n */\nvar performUndoableQuery = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, onFailure = _a.onFailure, dataProvider = _a.dataProvider, dispatch = _a.dispatch, logoutIfAccessDenied = _a.logoutIfAccessDenied;\n    dispatch(startOptimisticMode());\n    if (window) {\n        window.addEventListener('beforeunload', warnBeforeClosingWindow);\n    }\n    dispatch({\n        type: action,\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    dispatch({\n        type: action + \"_OPTIMISTIC\",\n        payload: payload,\n        meta: {\n            resource: resource,\n            fetch: getFetchType(type),\n            optimistic: true,\n        },\n    });\n    onSuccess && onSuccess({});\n    undoableEventEmitter.once('end', function (_a) {\n        var isUndo = _a.isUndo;\n        dispatch(stopOptimisticMode());\n        if (isUndo) {\n            dispatch(showNotification('ra.notification.canceled'));\n            dispatch(refreshView());\n            if (window) {\n                window.removeEventListener('beforeunload', warnBeforeClosingWindow);\n            }\n            return;\n        }\n        dispatch({\n            type: action + \"_LOADING\",\n            payload: payload,\n            meta: __assign({ resource: resource }, rest),\n        });\n        dispatch({ type: FETCH_START });\n        try {\n            dataProvider[type](resource, payload)\n                .then(function (response) {\n                if (process.env.NODE_ENV !== 'production') {\n                    validateResponseFormat(response, type);\n                }\n                dispatch({\n                    type: action + \"_SUCCESS\",\n                    payload: response,\n                    requestPayload: payload,\n                    meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_END }),\n                });\n                dispatch({ type: FETCH_END });\n                if (window) {\n                    window.removeEventListener('beforeunload', warnBeforeClosingWindow);\n                }\n                replayOptimisticCalls();\n            })\n                .catch(function (error) {\n                if (window) {\n                    window.removeEventListener('beforeunload', warnBeforeClosingWindow);\n                }\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                return logoutIfAccessDenied(error).then(function (loggedOut) {\n                    if (loggedOut)\n                        return;\n                    dispatch({\n                        type: action + \"_FAILURE\",\n                        error: error.message ? error.message : error,\n                        payload: error.body ? error.body : null,\n                        requestPayload: payload,\n                        meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_ERROR }),\n                    });\n                    dispatch({ type: FETCH_ERROR, error: error });\n                    onFailure && onFailure(error);\n                    throw error;\n                });\n            });\n        }\n        catch (e) {\n            if (process.env.NODE_ENV !== 'production') {\n                console.error(e);\n            }\n            throw new Error('The dataProvider threw an error. It should return a rejected Promise instead.');\n        }\n    });\n    return Promise.resolve({});\n};\n// event listener added as window.onbeforeunload when starting optimistic mode, and removed when it ends\nvar warnBeforeClosingWindow = function (event) {\n    event.preventDefault(); // standard\n    event.returnValue = ''; // Chrome\n    return 'Your latest modifications are not yet sent to the server. Are you sure?'; // Old IE\n};\n// Replay calls recorded while in optimistic mode\nvar replayOptimisticCalls = function () {\n    Promise.all(optimisticCalls.map(function (params) {\n        return Promise.resolve(doQuery.call(null, params));\n    }));\n    optimisticCalls.splice(0, optimisticCalls.length);\n};\n/**\n * In normal mode, the hook calls the dataProvider. When a successful response\n * arrives, the hook dispatches a SUCCESS action, executes success side effects\n * and returns the response. If the response is an error, the hook dispatches\n * a FAILURE action, executes failure side effects, and throws an error.\n */\nvar performQuery = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, onFailure = _a.onFailure, dataProvider = _a.dataProvider, dispatch = _a.dispatch, logoutIfAccessDenied = _a.logoutIfAccessDenied;\n    dispatch({\n        type: action,\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    dispatch({\n        type: action + \"_LOADING\",\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    dispatch({ type: FETCH_START });\n    try {\n        return dataProvider[type](resource, payload)\n            .then(function (response) {\n            if (process.env.NODE_ENV !== 'production') {\n                validateResponseFormat(response, type);\n            }\n            dispatch({\n                type: action + \"_SUCCESS\",\n                payload: response,\n                requestPayload: payload,\n                meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_END }),\n            });\n            dispatch({ type: FETCH_END });\n            onSuccess && onSuccess(response);\n            return response;\n        })\n            .catch(function (error) {\n            if (process.env.NODE_ENV !== 'production') {\n                console.error(error);\n            }\n            return logoutIfAccessDenied(error).then(function (loggedOut) {\n                if (loggedOut)\n                    return;\n                dispatch({\n                    type: action + \"_FAILURE\",\n                    error: error.message ? error.message : error,\n                    payload: error.body ? error.body : null,\n                    requestPayload: payload,\n                    meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_ERROR }),\n                });\n                dispatch({ type: FETCH_ERROR, error: error });\n                onFailure && onFailure(error);\n                throw error;\n            });\n        });\n    }\n    catch (e) {\n        if (process.env.NODE_ENV !== 'production') {\n            console.error(e);\n        }\n        throw new Error('The dataProvider threw an error. It should return a rejected Promise instead.');\n    }\n};\nvar answerWithCache = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, resourceState = _a.resourceState, dispatch = _a.dispatch;\n    dispatch({\n        type: action,\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    var response = getResultFromCache(type, payload, resourceState);\n    dispatch({\n        type: action + \"_SUCCESS\",\n        payload: response,\n        requestPayload: payload,\n        meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_END, fromCache: true }),\n    });\n    onSuccess && onSuccess(response);\n    return Promise.resolve(response);\n};\nexport default useDataProvider;\n","import get from 'lodash/get';\nexport var canReplyWithCache = function (type, payload, resourceState) {\n    var now = new Date();\n    switch (type) {\n        case 'getList':\n            return (get(resourceState, [\n                'list',\n                'cachedRequests',\n                JSON.stringify(payload),\n                'validity',\n            ]) > now);\n        case 'getOne':\n            return (resourceState &&\n                resourceState.validity &&\n                resourceState.validity[payload.id] > now);\n        case 'getMany':\n            return (resourceState &&\n                resourceState.validity &&\n                payload.ids.every(function (id) { return resourceState.validity[id] > now; }));\n        default:\n            return false;\n    }\n};\nexport var getResultFromCache = function (type, payload, resourceState) {\n    switch (type) {\n        case 'getList': {\n            var data_1 = resourceState.data;\n            var requestSignature = JSON.stringify(payload);\n            var cachedRequest = resourceState.list.cachedRequests[requestSignature];\n            return {\n                data: cachedRequest.ids.map(function (id) { return data_1[id]; }),\n                total: cachedRequest.total,\n            };\n        }\n        case 'getOne':\n            return { data: resourceState.data[payload.id] };\n        case 'getMany':\n            return {\n                data: payload.ids.map(function (id) { return resourceState.data[id]; }),\n            };\n        default:\n            throw new Error('cannot reply with cache for this method');\n    }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { CRUD_GET_MANY_REFERENCE_SUCCESS, } from '../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../core';\nvar initialState = {};\nvar oneToManyReducer = function (previousState, action) {\n    var _a;\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.meta && action.meta.optimistic) {\n        var relatedTo = getRelatedReferences(previousState, action.meta.resource);\n        if (action.meta.fetch === DELETE) {\n            return relatedTo.reduce(removeDeletedReferences([action.payload.id]), previousState);\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            return relatedTo.reduce(removeDeletedReferences(action.payload.ids), previousState);\n        }\n    }\n    switch (action.type) {\n        case CRUD_GET_MANY_REFERENCE_SUCCESS:\n            return __assign(__assign({}, previousState), (_a = {}, _a[action.meta.relatedTo] = {\n                ids: action.payload.data.map(function (record) { return record.id; }),\n                total: action.payload.total,\n            }, _a));\n        default:\n            return previousState;\n    }\n};\nexport var getIds = function (state, relatedTo) {\n    return state.admin.references.oneToMany[relatedTo] &&\n        state.admin.references.oneToMany[relatedTo].ids;\n};\nexport var getTotal = function (state, relatedTo) {\n    return state.admin.references.oneToMany[relatedTo] &&\n        state.admin.references.oneToMany[relatedTo].total;\n};\nexport var getReferences = function (state, reference, relatedTo) {\n    var ids = getIds(state, relatedTo);\n    if (typeof ids === 'undefined') {\n        return undefined;\n    }\n    if (!state.admin.resources[reference]) {\n        // eslint-disable-next-line no-console\n        console.error(\"Invalid Resource \\\"\" + reference + \"\\\"\\n\" +\n            (\"You are trying to display or edit a field of a resource called \\\"\" + reference + \"\\\", \") +\n            'but it has not been declared.\\n' +\n            \"Declare this resource in the Admin or check the 'reference' prop of ReferenceArrayField and ReferenceManyField.\", { ids: ids });\n    }\n    return ids\n        .map(function (id) {\n        var resource = state.admin.resources[reference];\n        if (!resource) {\n            return undefined;\n        }\n        return resource.data[id];\n    })\n        .filter(function (r) { return typeof r !== 'undefined'; })\n        .reduce(function (prev, record) {\n        prev[record.id] = record; // eslint-disable-line no-param-reassign\n        return prev;\n    }, {});\n};\nexport var getReferencesByIds = function (state, reference, ids) {\n    if (ids.length === 0) {\n        return {};\n    }\n    if (!state.admin.resources[reference]) {\n        // eslint-disable-next-line no-console\n        console.error(\"Invalid Resource \\\"\" + reference + \"\\\"\\n\" +\n            (\"You are trying to display or edit a field of a resource called \\\"\" + reference + \"\\\", \") +\n            'but it has not been declared.\\n' +\n            \"Declare this resource in the Admin or check the 'reference' prop of ReferenceArrayField.\", { ids: ids });\n    }\n    var references = ids\n        .map(function (id) {\n        var resource = state.admin.resources[reference];\n        if (!resource) {\n            return undefined;\n        }\n        return resource.data[id];\n    })\n        .filter(function (r) { return typeof r !== 'undefined'; })\n        .reduce(function (prev, record) {\n        prev[record.id] = record; // eslint-disable-line no-param-reassign\n        return prev;\n    }, {});\n    return Object.keys(references).length > 0 ? references : null;\n};\nvar getRelatedReferences = function (previousState, resource) { return Object.keys(previousState).filter(function (key) { return key.includes(resource); }); };\nvar removeDeletedReferences = function (removedIds) { return function (previousState, key) {\n    var _a;\n    var idsToKeep = previousState[key].ids.filter(function (id) { return !removedIds.includes(id); });\n    if (idsToKeep.length === previousState[key].ids.length) {\n        return previousState;\n    }\n    return __assign(__assign({}, previousState), (_a = {}, _a[key] = {\n        ids: idsToKeep,\n        total: idsToKeep.length,\n    }, _a));\n}; };\nexport var nameRelatedTo = function (reference, id, resource, target, filter) {\n    if (filter === void 0) { filter = {}; }\n    var keys = Object.keys(filter);\n    if (!keys.length) {\n        return resource + \"_\" + reference + \"@\" + target + \"_\" + id;\n    }\n    return resource + \"_\" + reference + \"@\" + target + \"_\" + id + \"?\" + keys\n        .map(function (key) { return key + \"=\" + JSON.stringify(filter[key]); })\n        .join('&');\n};\nexport default oneToManyReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useEffect, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport isEqual from 'lodash/isEqual';\nimport useDataProvider from './useDataProvider';\nimport getFetchType from './getFetchType';\nimport { useSafeSetState } from '../util/hooks';\n/**\n * Lists of records are initialized to a particular object,\n * so detecting if the list is empty requires some work.\n *\n * @see src/reducer/admin/data.ts\n */\nvar isEmptyList = function (data) {\n    return Array.isArray(data)\n        ? data.length === 0\n        : data &&\n            Object.keys(data).length === 0 &&\n            data.hasOwnProperty('fetchedAt');\n};\n/**\n * Default cache selector. Allows to cache responses by default.\n *\n * By default, custom queries are dispatched as a CUSTOM_QUERY Redux action.\n * The useDataProvider hookdispatches a CUSTOM_QUERY_SUCCESS when the response\n * comes, and the customQueries reducer stores the result in the store.\n * This selector reads the customQueries store and acts as a response cache.\n */\nvar defaultDataSelector = function (query) { return function (state) {\n    var key = JSON.stringify(__assign(__assign({}, query), { type: getFetchType(query.type) }));\n    return state.admin.customQueries[key]\n        ? state.admin.customQueries[key].data\n        : undefined;\n}; };\nvar defaultTotalSelector = function () { return null; };\n/**\n * Fetch the data provider through Redux, return the value from the store.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from response], total: [total from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {Object} query\n * @param {string} query.type The verb passed to th data provider, e.g. 'getList', 'getOne'\n * @param {string} query.resource A resource name, e.g. 'posts', 'comments'\n * @param {Object} query.payload The payload object, e.g; { post_id: 12 }\n * @param {Object} options\n * @param {string} options.action Redux action type\n * @param {Function} options.onSuccess Side effect function to be executed upon success of failure, e.g. { onSuccess: response => refresh() } }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) } }\n * @param {Function} dataSelector Redux selector to get the result. Required.\n * @param {Function} totalSelector Redux selector to get the total (optional, only for LIST queries)\n *\n * @returns The current request state. Destructure as { data, total, error, loading, loaded }.\n *\n * @example\n *\n * import { useQueryWithStore } from 'react-admin';\n *\n * const UserProfile = ({ record }) => {\n *     const { data, loading, error } = useQueryWithStore(\n *         {\n *             type: 'getOne',\n *             resource: 'users',\n *             payload: { id: record.id }\n *         },\n *         {},\n *         state => state.admin.resources.users.data[record.id]\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <div>User {data.username}</div>;\n * };\n */\nvar useQueryWithStore = function (query, options, dataSelector, totalSelector) {\n    if (options === void 0) { options = { action: 'CUSTOM_QUERY' }; }\n    if (dataSelector === void 0) { dataSelector = defaultDataSelector(query); }\n    if (totalSelector === void 0) { totalSelector = defaultTotalSelector; }\n    var type = query.type, resource = query.resource, payload = query.payload;\n    var requestSignature = JSON.stringify({ query: query, options: options });\n    var requestSignatureRef = useRef(requestSignature);\n    var data = useSelector(dataSelector);\n    var total = useSelector(totalSelector);\n    var _a = useSafeSetState({\n        data: data,\n        total: total,\n        error: null,\n        loading: true,\n        loaded: data !== undefined && !isEmptyList(data),\n    }), state = _a[0], setState = _a[1];\n    if (requestSignatureRef.current !== requestSignature) {\n        // request has changed, reset the loading state\n        requestSignatureRef.current = requestSignature;\n        setState({\n            data: data,\n            total: total,\n            error: null,\n            loading: true,\n            loaded: data !== undefined && !isEmptyList(data),\n        });\n    }\n    else if (!isEqual(state.data, data) || state.total !== total) {\n        // the dataProvider response arrived in the Redux store\n        if (typeof total !== 'undefined' && isNaN(total)) {\n            console.error('Total from response is not a number. Please check your dataProvider or the API.');\n        }\n        else {\n            setState(__assign(__assign({}, state), { data: data,\n                total: total, loaded: true }));\n        }\n    }\n    var dataProvider = useDataProvider();\n    useEffect(function () {\n        setState(function (prevState) { return (__assign(__assign({}, prevState), { loading: true })); });\n        dataProvider[type](resource, payload, options)\n            .then(function () {\n            // We don't care about the dataProvider response here, because\n            // it was already passed to SUCCESS reducers by the dataProvider\n            // hook, and the result is available from the Redux store\n            // through the data and total selectors.\n            // In addition, if the query is optimistic, the response\n            // will be empty, so it should not be used at all.\n            setState(function (prevState) { return (__assign(__assign({}, prevState), { error: null, loading: false, loaded: true })); });\n        })\n            .catch(function (error) {\n            setState({\n                error: error,\n                loading: false,\n                loaded: false,\n            });\n        });\n        // deep equality, see https://github.com/facebook/react/issues/14476#issuecomment-471199055\n    }, [requestSignature]); // eslint-disable-line\n    return state;\n};\nexport default useQueryWithStore;\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { clearState } from '../actions/clearActions';\nimport { useHistory } from 'react-router-dom';\n/**\n * Get a callback for calling the authProvider.logout() method,\n * redirect to the login page, and clear the Redux state.\n *\n * @see useAuthProvider\n *\n * @returns {Function} logout callback\n *\n * @example\n *\n * import { useLogout } from 'react-admin';\n *\n * const LogoutButton = () => {\n *     const logout = useLogout();\n *     const handleClick = () => logout();\n *     return <button onClick={handleClick}>Logout</button>;\n * }\n */\nvar useLogout = function () {\n    var authProvider = useAuthProvider();\n    var dispatch = useDispatch();\n    /**\n     * We need the current location to pass in the router state\n     * so that the login hook knows where to redirect to as next route after login.\n     *\n     * But if we used useLocation to get it, the logout function\n     * would be rebuilt each time the user changes location. Consequently, that\n     * would force a rerender of all components using this hook upon navigation\n     * (CoreAdminRouter for example).\n     *\n     * To avoid that, we read the location directly from history which is mutable.\n     * See: https://reacttraining.com/react-router/web/api/history/history-is-mutable\n     */\n    var history = useHistory();\n    var logout = useCallback(function (params, redirectTo) {\n        if (params === void 0) { params = {}; }\n        if (redirectTo === void 0) { redirectTo = defaultAuthParams.loginUrl; }\n        return authProvider.logout(params).then(function (redirectToFromProvider) {\n            dispatch(clearState());\n            history.push({\n                pathname: redirectToFromProvider || redirectTo,\n                state: {\n                    nextPathname: history.location && history.location.pathname,\n                },\n            });\n            return redirectToFromProvider;\n        });\n    }, [authProvider, history, dispatch]);\n    var logoutWithoutProvider = useCallback(function (_) {\n        history.push({\n            pathname: defaultAuthParams.loginUrl,\n            state: {\n                nextPathname: history.location && history.location.pathname,\n            },\n        });\n        dispatch(clearState());\n        return Promise.resolve();\n    }, [dispatch, history]);\n    return authProvider ? logout : logoutWithoutProvider;\n};\nexport default useLogout;\n","import linkToRecord from './linkToRecord';\nexport default (function (redirectTo, basePath, id, data) {\n    if (typeof redirectTo === 'function') {\n        return redirectTo(basePath, id, data);\n    }\n    switch (redirectTo) {\n        case 'list':\n            return basePath;\n        case 'create':\n            return basePath + \"/create\";\n        case 'edit':\n            return linkToRecord(basePath, id);\n        case 'show':\n            return linkToRecord(basePath, id) + \"/show\";\n        default:\n            return redirectTo;\n    }\n});\n","export default (function (basePath, id, linkType) {\n    if (linkType === void 0) { linkType = 'edit'; }\n    var link = basePath + \"/\" + encodeURIComponent(id);\n    if (linkType === 'show') {\n        return link + \"/show\";\n    }\n    return link;\n});\n","export default (function (condition, message) {\n    if (condition && process.env.NODE_ENV !== 'production') {\n        console.warn(message); // eslint-disable-line\n    }\n});\n","import { GET_MANY_REFERENCE } from '../../core';\nexport var crudGetManyReference = function (reference, target, id, relatedTo, pagination, sort, filter, source) { return ({\n    type: CRUD_GET_MANY_REFERENCE,\n    payload: { target: target, id: id, pagination: pagination, sort: sort, filter: filter, source: source },\n    meta: {\n        resource: reference,\n        relatedTo: relatedTo,\n        fetch: GET_MANY_REFERENCE,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_MANY_REFERENCE = 'RA/CRUD_GET_MANY_REFERENCE';\nexport var CRUD_GET_MANY_REFERENCE_LOADING = 'RA/CRUD_GET_MANY_REFERENCE_LOADING';\nexport var CRUD_GET_MANY_REFERENCE_FAILURE = 'RA/CRUD_GET_MANY_REFERENCE_FAILURE';\nexport var CRUD_GET_MANY_REFERENCE_SUCCESS = 'RA/CRUD_GET_MANY_REFERENCE_SUCCESS';\n","import { useSelector, shallowEqual } from 'react-redux';\nimport get from 'lodash/get';\nimport useQueryWithStore from './useQueryWithStore';\nvar defaultData = {};\n/**\n * Call the dataProvider.getList() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from store], ids: [ids from response], total: [total from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Object} pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @param {Object} sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @param {Object} filter The request filters, e.g. { title: 'hello, world' }\n * @param {Object} options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, total, ids, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetList } from 'react-admin';\n *\n * const LatestNews = () => {\n *     const { data, ids, loading, error } = useGetList(\n *         'posts',\n *         { page: 1, perPage: 10 },\n *         { field: 'published_at', order: 'DESC' }\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{ids.map(id =>\n *         <li key={id}>{data[id].title}</li>\n *     )}</ul>;\n * };\n */\nvar useGetList = function (resource, pagination, sort, filter, options) {\n    var requestSignature = JSON.stringify({ pagination: pagination, sort: sort, filter: filter });\n    var _a = useQueryWithStore({ type: 'getList', resource: resource, payload: { pagination: pagination, sort: sort, filter: filter } }, options, \n    // data selector (may return [])\n    function (state) {\n        return get(state.admin.resources, [resource, 'list', 'cachedRequests', requestSignature, 'ids'], []);\n    }, \n    // total selector (may return undefined)\n    function (state) {\n        return get(state.admin.resources, [\n            resource,\n            'list',\n            'cachedRequests',\n            requestSignature,\n            'total',\n        ]);\n    }), ids = _a.data, total = _a.total, error = _a.error, loading = _a.loading, loaded = _a.loaded;\n    var data = useSelector(function (state) {\n        if (!ids)\n            return defaultData;\n        var allResourceData = get(state.admin.resources, [resource, 'data'], defaultData);\n        return ids\n            .map(function (id) { return allResourceData[id]; })\n            .reduce(function (acc, record) {\n            if (!record)\n                return acc;\n            acc[record.id] = record;\n            return acc;\n        }, {});\n    }, shallowEqual);\n    return { data: data, ids: ids, total: total, error: error, loading: loading, loaded: loaded };\n};\nexport default useGetList;\n","import { createContext } from 'react';\nvar DataProviderContext = createContext(null);\nDataProviderContext.displayName = 'DataProviderContext';\nexport default DataProviderContext;\n","import EventEmitter from 'eventemitter3';\nexport default new EventEmitter();\n","export var FETCH_START = 'RA/FETCH_START';\nexport var fetchStart = function () { return ({ type: FETCH_START }); };\nexport var FETCH_END = 'RA/FETCH_END';\nexport var fetchEnd = function () { return ({ type: FETCH_END }); };\nexport var FETCH_ERROR = 'RA/FETCH_ERROR';\nexport var fetchError = function () { return ({ type: FETCH_ERROR }); };\nexport var FETCH_CANCEL = 'RA/FETCH_CANCEL';\nexport var fetchCancel = function () { return ({ type: FETCH_CANCEL }); };\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nexport var GET_LIST = 'GET_LIST';\nexport var GET_ONE = 'GET_ONE';\nexport var GET_MANY = 'GET_MANY';\nexport var GET_MANY_REFERENCE = 'GET_MANY_REFERENCE';\nexport var CREATE = 'CREATE';\nexport var UPDATE = 'UPDATE';\nexport var UPDATE_MANY = 'UPDATE_MANY';\nexport var DELETE = 'DELETE';\nexport var DELETE_MANY = 'DELETE_MANY';\nexport var fetchActionsWithRecordResponse = [GET_ONE, CREATE, UPDATE];\nexport var fetchActionsWithArrayOfIdentifiedRecordsResponse = [\n    GET_LIST,\n    GET_MANY,\n    GET_MANY_REFERENCE,\n];\nexport var fetchActionsWithArrayOfRecordsResponse = __spreadArrays(fetchActionsWithArrayOfIdentifiedRecordsResponse, [\n    UPDATE_MANY,\n    DELETE_MANY,\n]);\nexport var fetchActionsWithTotalResponse = [GET_LIST, GET_MANY_REFERENCE];\nexport var sanitizeFetchType = function (fetchType) {\n    switch (fetchType) {\n        case GET_LIST:\n            return 'getList';\n        case GET_ONE:\n            return 'getOne';\n        case GET_MANY:\n            return 'getMany';\n        case GET_MANY_REFERENCE:\n            return 'getManyReference';\n        case CREATE:\n            return 'create';\n        case UPDATE:\n            return 'update';\n        case UPDATE_MANY:\n            return 'updateMany';\n        case DELETE:\n            return 'delete';\n        case DELETE_MANY:\n            return 'deleteMany';\n        default:\n            return fetchType;\n    }\n};\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { showNotification, } from '../actions/notificationActions';\n/**\n * Hook for Notification Side Effect\n *\n * @example\n *\n * const notify = useNotify();\n * // simple message (info level)\n * notify('Level complete');\n * // specify level\n * notify('A problem occurred', 'warning')\n * // pass arguments to the translation function\n * notify('Deleted %{count} elements', 'info', { smart_count: 23 })\n * // show the action as undoable in the notification\n * notify('Post renamed', 'info', {}, true)\n */\nvar useNotify = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (message, type, messageArgs, undoable, autoHideDuration) {\n        if (type === void 0) { type = 'info'; }\n        if (messageArgs === void 0) { messageArgs = {}; }\n        if (undoable === void 0) { undoable = false; }\n        dispatch(showNotification(message, type, {\n            messageArgs: messageArgs,\n            undoable: undoable,\n            autoHideDuration: autoHideDuration,\n        }));\n    }, [dispatch]);\n};\nexport default useNotify;\n","import { createContext } from 'react';\nvar defaultProvider = {\n    login: function () { return Promise.resolve(); },\n    logout: function () { return Promise.resolve(); },\n    checkAuth: function () { return Promise.resolve(); },\n    checkError: function () { return Promise.resolve(); },\n    getPermissions: function () { return Promise.resolve(); },\n};\nvar AuthContext = createContext(defaultProvider);\nAuthContext.displayName = 'AuthContext';\nexport default AuthContext;\n","import { GET_MANY } from '../../core';\nexport var crudGetMany = function (resource, ids) { return ({\n    type: CRUD_GET_MANY,\n    payload: { ids: ids },\n    meta: {\n        resource: resource,\n        fetch: GET_MANY,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_MANY = 'RA/CRUD_GET_MANY';\nexport var CRUD_GET_MANY_LOADING = 'RA/CRUD_GET_MANY_LOADING';\nexport var CRUD_GET_MANY_FAILURE = 'RA/CRUD_GET_MANY_FAILURE';\nexport var CRUD_GET_MANY_SUCCESS = 'RA/CRUD_GET_MANY_SUCCESS';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var SHOW_NOTIFICATION = 'RA/SHOW_NOTIFICATION';\n/**\n * Shows a snackbar/toast notification on the screen\n *\n * @see {@link https://material-ui.com/api/snackbar/|Material ui snackbar component}\n * @see {@link https://material.io/guidelines/components/snackbars-toasts.html|Material ui reference document on snackbar}\n */\nexport var showNotification = function (\n// A translatable label or text to display on notification\nmessage, \n// The type of the notification\ntype, \n// Specify additional parameters of notification\nnotificationOptions) {\n    if (type === void 0) { type = 'info'; }\n    return ({\n        type: SHOW_NOTIFICATION,\n        payload: __assign(__assign({}, notificationOptions), { type: type,\n            message: message }),\n    });\n};\nexport var HIDE_NOTIFICATION = 'RA/HIDE_NOTIFICATION';\nexport var hideNotification = function () { return ({\n    type: HIDE_NOTIFICATION,\n}); };\n","import { useContext } from 'react';\nimport AuthContext from './AuthContext';\nexport var defaultAuthParams = {\n    loginUrl: '/login',\n    afterLoginUrl: '/',\n};\n/**\n * Get the authProvider stored in the context\n */\nvar useAuthProvider = function () { return useContext(AuthContext); };\nexport default useAuthProvider;\n","import { useState, useRef, useEffect, useCallback } from 'react';\nimport isEqual from 'lodash/isEqual';\n// thanks Kent C Dodds for the following helpers\nexport function useSafeSetState(initialState) {\n    var _a = useState(initialState), state = _a[0], setState = _a[1];\n    var mountedRef = useRef(false);\n    useEffect(function () {\n        mountedRef.current = true;\n        return function () { return (mountedRef.current = false); };\n    }, []);\n    var safeSetState = useCallback(function (args) { return mountedRef.current && setState(args); }, [mountedRef, setState]);\n    return [state, safeSetState];\n}\nexport function usePrevious(value) {\n    var ref = useRef();\n    useEffect(function () {\n        ref.current = value;\n    });\n    return ref.current;\n}\nexport function useDeepCompareEffect(callback, inputs) {\n    var cleanupRef = useRef();\n    useEffect(function () {\n        if (!isEqual(previousInputs, inputs)) {\n            cleanupRef.current = callback();\n        }\n        return cleanupRef.current;\n    });\n    var previousInputs = usePrevious(inputs);\n}\nexport function useTimeout(ms) {\n    if (ms === void 0) { ms = 0; }\n    var _a = useState(false), ready = _a[0], setReady = _a[1];\n    useEffect(function () {\n        var timer = setTimeout(function () {\n            setReady(true);\n        }, ms);\n        return function () {\n            clearTimeout(timer);\n        };\n    }, [ms]);\n    return ready;\n}\n","export var CRUD_CHANGE_LIST_PARAMS = 'RA/CRUD_CHANGE_LIST_PARAMS';\nexport var changeListParams = function (resource, params) { return ({\n    type: CRUD_CHANGE_LIST_PARAMS,\n    payload: params,\n    meta: { resource: resource },\n}); };\nexport var SET_LIST_SELECTED_IDS = 'RA/SET_LIST_SELECTED_IDS';\nexport var setListSelectedIds = function (resource, ids) { return ({\n    type: SET_LIST_SELECTED_IDS,\n    payload: ids,\n    meta: { resource: resource },\n}); };\nexport var TOGGLE_LIST_ITEM = 'RA/TOGGLE_LIST_ITEM';\nexport var toggleListItem = function (resource, id) { return ({\n    type: TOGGLE_LIST_ITEM,\n    payload: id,\n    meta: { resource: resource },\n}); };\nexport var TOGGLE_LIST_ITEM_EXPAND = 'RA/TOGGLE_LIST_ITEM_EXPAND';\n/**\n * Action creator to toggle the expanded state of a list item\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {string|integer} id The record identifier, e.g. 123\n *\n * @example\n *\n * const onToggleItem = () => dispatch(toggleListItemExpand('posts', 123));\n */\nexport var toggleListItemExpand = function (resource, id) { return ({\n    type: TOGGLE_LIST_ITEM_EXPAND,\n    payload: id,\n    meta: { resource: resource },\n}); };\n","export var TOGGLE_SIDEBAR = 'RA/TOGGLE_SIDEBAR';\nexport var toggleSidebar = function () { return ({\n    type: TOGGLE_SIDEBAR,\n}); };\nexport var SET_SIDEBAR_VISIBILITY = 'RA/SET_SIDEBAR_VISIBILITY';\nexport var setSidebarVisibility = function (isOpen) { return ({\n    type: SET_SIDEBAR_VISIBILITY,\n    payload: isOpen,\n}); };\nexport var REFRESH_VIEW = 'RA/REFRESH_VIEW';\nexport var refreshView = function () { return ({\n    type: REFRESH_VIEW,\n}); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport pickBy from 'lodash/pickBy';\nvar defaultCacheDuration = 10 * 60 * 1000; // ten minutes\n/**\n * Returns a list of fetch dates by record id\n *\n * Given a list of new record ids and a previous list of fetch dates by record id,\n * add the new record ids at the current date,\n * and removes those among the old record ids that are stale.\n *\n * @param newRecordIds an array of record identifiers, e.g. [34, 56]\n * @param oldRecordFetchedAt the fetch dates of old records, e.g. { 12: new Date('12 minutes ago), 34: new Date('5 minutes ago') }\n * @param now Current time (useful for tests)\n * @param cacheDuration How long until an old record is removed from the list\n */\nvar getFetchedAt = function (newRecordIds, oldRecordFetchedAt, now, cacheDuration) {\n    if (newRecordIds === void 0) { newRecordIds = []; }\n    if (oldRecordFetchedAt === void 0) { oldRecordFetchedAt = {}; }\n    if (now === void 0) { now = new Date(); }\n    if (cacheDuration === void 0) { cacheDuration = defaultCacheDuration; }\n    // prepare new records and timestamp them\n    var newFetchedAt = {};\n    newRecordIds.forEach(function (recordId) { return (newFetchedAt[recordId] = now); });\n    // remove outdated entry\n    var latestValidDate = new Date();\n    latestValidDate.setTime(latestValidDate.getTime() - cacheDuration);\n    var stillValidFetchedAt = pickBy(oldRecordFetchedAt, function (date) { return date > latestValidDate; });\n    return __assign(__assign({}, stillValidFetchedAt), newFetchedAt);\n};\nexport default getFetchedAt;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport isEqual from 'lodash/isEqual';\nimport { FETCH_END } from '../../../actions';\nimport { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY, } from '../../../core';\nimport getFetchedAt from '../../../util/getFetchedAt';\n/**\n * Make the fetchedAt property non enumerable\n */\nexport var hideFetchedAt = function (records) {\n    Object.defineProperty(records, 'fetchedAt', {\n        enumerable: false,\n        configurable: false,\n        writable: false,\n    });\n    return records;\n};\n/**\n * Add new records to the pool, and remove outdated ones.\n *\n * This is the equivalent of a stale-while-revalidate caching strategy:\n * The cached data is displayed before fetching, and stale data is removed\n * only once fresh data is fetched.\n */\nexport var addRecordsAndRemoveOutdated = function (newRecords, oldRecords) {\n    if (newRecords === void 0) { newRecords = []; }\n    var newRecordsById = {};\n    newRecords.forEach(function (record) { return (newRecordsById[record.id] = record); });\n    var newFetchedAt = getFetchedAt(newRecords.map(function (_a) {\n        var id = _a.id;\n        return id;\n    }), oldRecords.fetchedAt);\n    var records = { fetchedAt: newFetchedAt };\n    Object.keys(newFetchedAt).forEach(function (id) {\n        return (records[id] = newRecordsById[id]\n            ? isEqual(newRecordsById[id], oldRecords[id])\n                ? oldRecords[id] // do not change the record to avoid a redraw\n                : newRecordsById[id]\n            : oldRecords[id]);\n    });\n    return hideFetchedAt(records);\n};\n/**\n * Add new records to the pool, without touching the other ones.\n */\nexport var addRecords = function (newRecords, oldRecords) {\n    if (newRecords === void 0) { newRecords = []; }\n    var newRecordsById = __assign({}, oldRecords);\n    newRecords.forEach(function (record) {\n        newRecordsById[record.id] = isEqual(record, oldRecords[record.id])\n            ? oldRecords[record.id]\n            : record;\n    });\n    var updatedFetchedAt = getFetchedAt(newRecords.map(function (_a) {\n        var id = _a.id;\n        return id;\n    }), oldRecords.fetchedAt);\n    Object.defineProperty(newRecordsById, 'fetchedAt', {\n        value: __assign(__assign({}, oldRecords.fetchedAt), updatedFetchedAt),\n        enumerable: false,\n    });\n    return newRecordsById;\n};\nexport var addOneRecord = function (newRecord, oldRecords, date) {\n    var _a, _b;\n    if (date === void 0) { date = new Date(); }\n    var newRecordsById = __assign(__assign({}, oldRecords), (_a = {}, _a[newRecord.id] = isEqual(newRecord, oldRecords[newRecord.id])\n        ? oldRecords[newRecord.id] // do not change the record to avoid a redraw\n        : newRecord, _a));\n    return Object.defineProperty(newRecordsById, 'fetchedAt', {\n        value: __assign(__assign({}, oldRecords.fetchedAt), (_b = {}, _b[newRecord.id] = date, _b)),\n        enumerable: false,\n    });\n};\nvar includesNotStrict = function (items, element) {\n    return items.some(function (item) { return item == element; });\n}; // eslint-disable-line eqeqeq\n/**\n * Remove records from the pool\n */\nexport var removeRecords = function (removedRecordIds, oldRecords) {\n    if (removedRecordIds === void 0) { removedRecordIds = []; }\n    var records = Object.entries(oldRecords)\n        .filter(function (_a) {\n        var key = _a[0];\n        return !includesNotStrict(removedRecordIds, key);\n    })\n        .reduce(function (obj, _a) {\n        var _b;\n        var key = _a[0], val = _a[1];\n        return (__assign(__assign({}, obj), (_b = {}, _b[key] = val, _b)));\n    }, {\n        fetchedAt: {},\n    });\n    records.fetchedAt = Object.entries(oldRecords.fetchedAt)\n        .filter(function (_a) {\n        var key = _a[0];\n        return !includesNotStrict(removedRecordIds, key);\n    })\n        .reduce(function (obj, _a) {\n        var _b;\n        var key = _a[0], val = _a[1];\n        return (__assign(__assign({}, obj), (_b = {}, _b[key] = val, _b)));\n    }, {});\n    return hideFetchedAt(records);\n};\nvar initialState = hideFetchedAt({ fetchedAt: {} });\nvar dataReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = initialState; }\n    var payload = _a.payload, meta = _a.meta;\n    if (meta && meta.optimistic) {\n        if (meta.fetch === UPDATE) {\n            var updatedRecord = __assign(__assign({}, previousState[payload.id]), payload.data);\n            return addOneRecord(updatedRecord, previousState);\n        }\n        if (meta.fetch === UPDATE_MANY) {\n            var updatedRecords = payload.ids.map(function (id) { return (__assign(__assign({}, previousState[id]), payload.data)); });\n            return addRecordsAndRemoveOutdated(updatedRecords, previousState);\n        }\n        if (meta.fetch === DELETE) {\n            return removeRecords([payload.id], previousState);\n        }\n        if (meta.fetch === DELETE_MANY) {\n            return removeRecords(payload.ids, previousState);\n        }\n    }\n    if (!meta || !meta.fetchResponse || meta.fetchStatus !== FETCH_END) {\n        return previousState;\n    }\n    switch (meta.fetchResponse) {\n        case GET_LIST:\n            return addRecordsAndRemoveOutdated(payload.data, previousState);\n        case GET_MANY:\n        case GET_MANY_REFERENCE:\n            return addRecords(payload.data, previousState);\n        case UPDATE:\n        case CREATE:\n        case GET_ONE:\n            return addOneRecord(payload.data, previousState);\n        default:\n            return previousState;\n    }\n};\nexport var getRecord = function (state, id) { return state[id]; };\nexport default dataReducer;\n","import { GET_LIST } from '../../../../../core';\nvar initialState = [];\nvar idsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.meta && action.meta.fetchResponse === GET_LIST) {\n        return action.payload.data.map(function (_a) {\n            var id = _a.id;\n            return id;\n        });\n    }\n    return previousState;\n};\nexport default idsReducer;\n","import { GET_LIST } from '../../../../../core';\nvar initialState = null;\nvar totalReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.meta && action.meta.fetchResponse === GET_LIST) {\n        return action.payload.total;\n    }\n    return previousState;\n};\nexport default totalReducer;\n","import { GET_LIST } from '../../../../../core';\nvar initialState = null;\nvar validityReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = initialState; }\n    var payload = _a.payload, meta = _a.meta;\n    switch (meta.fetchResponse) {\n        case GET_LIST: {\n            if (payload.validUntil) {\n                // store the validity date\n                return payload.validUntil;\n            }\n            else {\n                // remove the validity date\n                return initialState;\n            }\n        }\n        default:\n            return previousState;\n    }\n};\nexport default validityReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { FETCH_END, REFRESH_VIEW } from '../../../../actions';\nimport { GET_LIST, CREATE, DELETE, DELETE_MANY, UPDATE, UPDATE_MANY, } from '../../../../core';\nimport ids from './cachedRequests/ids';\nimport total from './cachedRequests/total';\nimport validity from './cachedRequests/validity';\nvar initialState = {};\nvar initialSubstate = { ids: [], total: null, validity: null };\nvar cachedRequestsReducer = function (previousState, action) {\n    var _a;\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === REFRESH_VIEW) {\n        // force refresh\n        return initialState;\n    }\n    if (!action.meta || action.meta.fetchStatus !== FETCH_END) {\n        // not a return from the dataProvider\n        return previousState;\n    }\n    if (action.meta.fetchResponse === CREATE ||\n        action.meta.fetchResponse === DELETE ||\n        action.meta.fetchResponse === DELETE_MANY ||\n        action.meta.fetchResponse === UPDATE ||\n        action.meta.fetchResponse === UPDATE_MANY) {\n        // force refresh of all lists because we don't know where the\n        // new/deleted/updated record(s) will appear in the list\n        return initialState;\n    }\n    if (action.meta.fetchResponse !== GET_LIST || action.meta.fromCache) {\n        // looks like a GET_MANY, a GET_ONE, or a cached response\n        return previousState;\n    }\n    var requestKey = JSON.stringify(action.requestPayload);\n    var previousSubState = previousState[requestKey] || initialSubstate;\n    return __assign(__assign({}, previousState), (_a = {}, _a[requestKey] = {\n        ids: ids(previousSubState.ids, action),\n        total: total(previousSubState.total, action),\n        validity: validity(previousSubState.validity, action),\n    }, _a));\n};\nexport default cachedRequestsReducer;\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { TOGGLE_LIST_ITEM_EXPAND, } from '../../../../actions/listActions';\nvar initialState = [];\nvar expanded = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === TOGGLE_LIST_ITEM_EXPAND) {\n        var index = previousState\n            .map(function (el) { return el == action.payload; }) // eslint-disable-line eqeqeq\n            .indexOf(true);\n        if (index === -1) {\n            // expand\n            return __spreadArrays(previousState, [action.payload]);\n        }\n        else {\n            // close\n            return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n        }\n    }\n    return previousState;\n};\nexport default expanded;\n","import { GET_LIST } from '../../core';\nexport var crudGetList = function (resource, pagination, sort, filter) { return ({\n    type: CRUD_GET_LIST,\n    payload: { pagination: pagination, sort: sort, filter: filter },\n    meta: {\n        resource: resource,\n        fetch: GET_LIST,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_LIST = 'RA/CRUD_GET_LIST';\nexport var CRUD_GET_LIST_LOADING = 'RA/CRUD_GET_LIST_LOADING';\nexport var CRUD_GET_LIST_FAILURE = 'RA/CRUD_GET_LIST_FAILURE';\nexport var CRUD_GET_LIST_SUCCESS = 'RA/CRUD_GET_LIST_SUCCESS';\n","import { CREATE } from '../../core';\nexport var crudCreate = function (resource, data, basePath, redirectTo) {\n    if (redirectTo === void 0) { redirectTo = 'edit'; }\n    return ({\n        type: CRUD_CREATE,\n        payload: { data: data },\n        meta: {\n            resource: resource,\n            fetch: CREATE,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.created',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: 1,\n                    },\n                },\n                redirectTo: redirectTo,\n                basePath: basePath,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_CREATE = 'RA/CRUD_CREATE';\nexport var CRUD_CREATE_LOADING = 'RA/CRUD_CREATE_LOADING';\nexport var CRUD_CREATE_FAILURE = 'RA/CRUD_CREATE_FAILURE';\nexport var CRUD_CREATE_SUCCESS = 'RA/CRUD_CREATE_SUCCESS';\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport uniq from 'lodash/uniq';\nimport { CRUD_GET_LIST_SUCCESS, CRUD_CREATE_SUCCESS, } from '../../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\n/**\n * List of the ids of the latest loaded page, regardless of params\n *\n * When loading a the list for the first time, useListController grabs the ids\n * from the cachedRequests reducer (not this ids reducer). It's only when the user\n * changes page, sort, or filter, that the useListController hook uses the ids\n * reducer, so as to show the previous list of results while loading the new\n * list (intead of displaying a blank page each time the list params change).\n *\n * @see useListController\n *\n */\nvar idsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = []; }\n    if (action.meta && action.meta.optimistic) {\n        if (action.meta.fetch === DELETE) {\n            var index = previousState\n                .map(function (el) { return el === action.payload.id; }) // eslint-disable-line eqeqeq\n                .indexOf(true);\n            if (index === -1) {\n                return previousState;\n            }\n            return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            var newState = previousState.filter(function (el) { return !action.payload.ids.includes(el); });\n            return newState;\n        }\n    }\n    switch (action.type) {\n        case CRUD_GET_LIST_SUCCESS:\n            return action.payload.data.map(function (_a) {\n                var id = _a.id;\n                return id;\n            });\n        case CRUD_CREATE_SUCCESS:\n            return uniq(__spreadArrays([action.payload.data.id], previousState));\n        default:\n            return previousState;\n    }\n};\nexport default idsReducer;\nexport var getIds = function (state) { return state; };\n","import { CRUD_GET_LIST_SUCCESS } from '../../../../actions/dataActions';\n/**\n * This resource reducer is false until the list loads successfully\n */\nvar loadedOnce = function (previousState, _a) {\n    if (previousState === void 0) { previousState = false; }\n    var type = _a.type;\n    // early return\n    if (previousState === true) {\n        return previousState;\n    }\n    if (type === CRUD_GET_LIST_SUCCESS) {\n        return true;\n    }\n    return previousState;\n};\nexport default loadedOnce;\n","import { CRUD_CHANGE_LIST_PARAMS, } from '../../../../actions/listActions';\nvar defaultState = {\n    sort: null,\n    order: null,\n    page: 1,\n    perPage: null,\n    filter: {},\n};\nvar paramsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = defaultState; }\n    switch (action.type) {\n        case CRUD_CHANGE_LIST_PARAMS:\n            return action.payload;\n        default:\n            return previousState;\n    }\n};\nexport default paramsReducer;\n","import { DELETE } from '../../core';\nexport var crudDelete = function (resource, id, previousData, basePath, redirectTo, refresh) {\n    if (redirectTo === void 0) { redirectTo = 'list'; }\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_DELETE,\n        payload: { id: id, previousData: previousData },\n        meta: {\n            resource: resource,\n            fetch: DELETE,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.deleted',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: 1,\n                    },\n                },\n                refresh: refresh,\n                redirectTo: redirectTo,\n                basePath: basePath,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_DELETE = 'RA/CRUD_DELETE';\nexport var CRUD_DELETE_LOADING = 'RA/CRUD_DELETE_LOADING';\nexport var CRUD_DELETE_FAILURE = 'RA/CRUD_DELETE_FAILURE';\nexport var CRUD_DELETE_SUCCESS = 'RA/CRUD_DELETE_SUCCESS';\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { SET_LIST_SELECTED_IDS, TOGGLE_LIST_ITEM, CRUD_DELETE_SUCCESS, } from '../../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\nvar initialState = [];\nvar selectedIdsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === SET_LIST_SELECTED_IDS) {\n        return action.payload;\n    }\n    if (action.type === TOGGLE_LIST_ITEM) {\n        var index = previousState.indexOf(action.payload);\n        if (index > -1) {\n            return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n        }\n        else {\n            return __spreadArrays(previousState, [action.payload]);\n        }\n    }\n    if (action.type === CRUD_DELETE_SUCCESS) {\n        var index = previousState.indexOf(action.payload.data.id);\n        if (index > -1) {\n            return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n        }\n    }\n    if (action.meta && action.meta.optimistic) {\n        if (action.meta.fetch === DELETE) {\n            var index = previousState.indexOf(action.payload.id);\n            if (index === -1) {\n                return previousState;\n            }\n            return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            return previousState.filter(function (id) { return !action.payload.ids.includes(id); });\n        }\n    }\n    return action.meta && action.meta.unselectAll\n        ? initialState\n        : previousState;\n};\nexport default selectedIdsReducer;\n","import { CRUD_GET_LIST_SUCCESS, } from '../../../../actions/dataActions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\nvar totalReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = 0; }\n    if (action.type === CRUD_GET_LIST_SUCCESS) {\n        return action.payload.total;\n    }\n    if (action.meta && action.meta.optimistic) {\n        if (action.meta.fetch === DELETE) {\n            return previousState - 1;\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            return previousState - action.payload.ids.length;\n        }\n    }\n    return previousState;\n};\nexport default totalReducer;\n","import { combineReducers } from 'redux';\nimport cachedRequests from './cachedRequests';\nimport expanded from './expanded';\nimport ids from './ids';\nimport loadedOnce from './loadedOnce';\nimport params from './params';\nimport selectedIds from './selectedIds';\nimport total from './total';\nvar defaultReducer = function () { return null; };\nexport default combineReducers({\n    /**\n     * ts-jest does some aggressive module mocking when unit testing reducers individually.\n     * To avoid 'No reducer provided for key \"...\"' warnings,\n     * we pass default reducers. Sorry for legibility.\n     *\n     * @see https://stackoverflow.com/questions/43375079/redux-warning-only-appearing-in-tests\n     */\n    cachedRequests: cachedRequests || defaultReducer,\n    expanded: expanded || defaultReducer,\n    ids: ids || defaultReducer,\n    loadedOnce: loadedOnce || defaultReducer,\n    params: params || defaultReducer,\n    selectedIds: selectedIds || defaultReducer,\n    total: total || defaultReducer,\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { FETCH_END, REFRESH_VIEW } from '../../../actions';\nimport { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY, } from '../../../core';\nvar initialState = {};\nvar validityReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = initialState; }\n    var type = _a.type, payload = _a.payload, requestPayload = _a.requestPayload, meta = _a.meta;\n    if (type === REFRESH_VIEW) {\n        return initialState;\n    }\n    if (!meta ||\n        !meta.fetchResponse ||\n        meta.fetchStatus !== FETCH_END ||\n        meta.fromCache === true) {\n        return previousState;\n    }\n    if (payload.validUntil) {\n        // store the validity date\n        switch (meta.fetchResponse) {\n            case GET_LIST:\n            case GET_MANY:\n            case GET_MANY_REFERENCE:\n                return addIds(payload.data.map(function (record) { return record.id; }), payload.validUntil, previousState);\n            case UPDATE_MANY:\n                return addIds(payload.data, payload.validUntil, previousState);\n            case UPDATE:\n            case CREATE:\n            case GET_ONE:\n                return addIds([payload.data.id], payload.validUntil, previousState);\n            case DELETE:\n            case DELETE_MANY:\n                throw new Error('Responses to dataProvider.delete() or dataProvider.deleteMany() should not contain a validUntil param');\n            default:\n                return previousState;\n        }\n    }\n    else {\n        // remove the validity date\n        switch (meta.fetchResponse) {\n            case GET_LIST:\n            case GET_MANY:\n            case GET_MANY_REFERENCE:\n                return removeIds(payload.data.map(function (record) { return record.id; }), previousState);\n            case UPDATE:\n            case CREATE:\n            case GET_ONE:\n                return removeIds([payload.data.id], previousState);\n            case UPDATE_MANY:\n                return removeIds(payload.data, previousState);\n            case DELETE:\n                return removeIds([requestPayload.id], previousState);\n            case DELETE_MANY:\n                return removeIds(requestPayload.ids, previousState);\n            default:\n                return previousState;\n        }\n    }\n};\nvar addIds = function (ids, validUntil, oldValidityRegistry) {\n    if (ids === void 0) { ids = []; }\n    var validityRegistry = __assign({}, oldValidityRegistry);\n    ids.forEach(function (id) {\n        validityRegistry[id] = validUntil;\n    });\n    return validityRegistry;\n};\nvar removeIds = function (ids, oldValidityRegistry) {\n    if (ids === void 0) { ids = []; }\n    var validityRegistry = __assign({}, oldValidityRegistry);\n    ids.forEach(function (id) {\n        delete validityRegistry[id];\n    });\n    return validityRegistry;\n};\nexport default validityReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { REGISTER_RESOURCE, UNREGISTER_RESOURCE, REFRESH_VIEW, } from '../../../actions';\nimport data from './data';\nimport list from './list';\nimport validity from './validity';\nvar initialState = {};\nexport default (function (previousState, action) {\n    var _a;\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === REGISTER_RESOURCE) {\n        var resourceState = {\n            props: action.payload,\n            data: data(undefined, action),\n            list: list(undefined, action),\n            validity: validity(undefined, action),\n        };\n        return __assign(__assign({}, previousState), (_a = {}, _a[action.payload.name] = resourceState, _a));\n    }\n    if (action.type === UNREGISTER_RESOURCE) {\n        return Object.keys(previousState).reduce(function (acc, key) {\n            var _a;\n            if (key === action.payload) {\n                return acc;\n            }\n            return __assign(__assign({}, acc), (_a = {}, _a[key] = previousState[key], _a));\n        }, {});\n    }\n    if (action.type !== REFRESH_VIEW &&\n        (!action.meta || !action.meta.resource)) {\n        return previousState;\n    }\n    var resources = Object.keys(previousState);\n    var newState = resources.reduce(function (acc, resource) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[resource] = action.type === REFRESH_VIEW ||\n            action.meta.resource === resource\n            ? {\n                props: previousState[resource].props,\n                data: data(previousState[resource].data, action),\n                list: list(previousState[resource].list, action),\n                validity: validity(previousState[resource].validity, action),\n            }\n            : previousState[resource], _a)));\n    }, {});\n    return newState;\n});\nexport var getResources = function (state) {\n    return Object.keys(state).map(function (key) { return state[key].props; });\n};\nexport var getReferenceResource = function (state, props) { return state[props.reference]; };\n","import { FETCH_START, FETCH_END, FETCH_ERROR, FETCH_CANCEL, } from '../../actions/fetchActions';\nvar loadingReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = 0; }\n    var type = _a.type;\n    switch (type) {\n        case FETCH_START:\n            return previousState + 1;\n        case FETCH_END:\n        case FETCH_ERROR:\n        case FETCH_CANCEL:\n            return Math.max(previousState - 1, 0);\n        default:\n            return previousState;\n    }\n};\nexport default loadingReducer;\n","import { SHOW_NOTIFICATION, HIDE_NOTIFICATION, } from '../../actions/notificationActions';\nimport { UNDO } from '../../actions/undoActions';\nvar notificationsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = []; }\n    switch (action.type) {\n        case SHOW_NOTIFICATION:\n            return previousState.concat(action.payload);\n        case HIDE_NOTIFICATION:\n        case UNDO:\n            return previousState.slice(1);\n        default:\n            return previousState;\n    }\n};\nexport default notificationsReducer;\n/**\n * Returns the first available notification to show\n * @param {Object} state - Redux state\n */\nexport var getNotification = function (state) { return state.admin.notifications[0]; };\n","import { GET_LIST } from '../../core';\nexport var crudGetMatching = function (reference, relatedTo, pagination, sort, filter) { return ({\n    type: CRUD_GET_MATCHING,\n    payload: { pagination: pagination, sort: sort, filter: filter },\n    meta: {\n        resource: reference,\n        relatedTo: relatedTo,\n        fetch: GET_LIST,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_MATCHING = 'RA/CRUD_GET_MATCHING';\nexport var CRUD_GET_MATCHING_LOADING = 'RA/CRUD_GET_MATCHING_LOADING';\nexport var CRUD_GET_MATCHING_FAILURE = 'RA/CRUD_GET_MATCHING_FAILURE';\nexport var CRUD_GET_MATCHING_SUCCESS = 'RA/CRUD_GET_MATCHING_SUCCESS';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { CRUD_GET_MATCHING_SUCCESS, CRUD_GET_MATCHING_FAILURE, } from '../../../actions/dataActions';\nvar initialState = {};\nvar possibleValuesreducer = function (previousState, action) {\n    var _a, _b;\n    if (previousState === void 0) { previousState = initialState; }\n    switch (action.type) {\n        case CRUD_GET_MATCHING_SUCCESS:\n            return __assign(__assign({}, previousState), (_a = {}, _a[action.meta.relatedTo] = action.payload.data.map(function (record) { return record.id; }), _a));\n        case CRUD_GET_MATCHING_FAILURE:\n            return __assign(__assign({}, previousState), (_b = {}, _b[action.meta.relatedTo] = { error: action.error }, _b));\n        default:\n            return previousState;\n    }\n};\nexport var getPossibleReferenceValues = function (state, props) {\n    return state[props.referenceSource(props.resource, props.source)];\n};\nexport var getPossibleReferences = function (referenceState, possibleValues, selectedIds) {\n    if (selectedIds === void 0) { selectedIds = []; }\n    if (!possibleValues) {\n        return null;\n    }\n    if (possibleValues.error) {\n        return possibleValues;\n    }\n    possibleValues = Array.from(possibleValues);\n    selectedIds.forEach(function (id) {\n        return possibleValues.some(function (value) { return value === id; }) ||\n            possibleValues.unshift(id);\n    });\n    return possibleValues\n        .map(function (id) { return referenceState.data[id]; })\n        .filter(function (r) { return typeof r !== 'undefined'; });\n};\nexport default possibleValuesreducer;\n","import { combineReducers } from 'redux';\nimport oneToMany from './oneToMany';\nimport possibleValues, { getPossibleReferences as pvGetPossibleReferences, getPossibleReferenceValues as pvGetPossibleReferenceValues, } from './possibleValues';\nvar defaultReducer = function () { return null; };\nexport default combineReducers({\n    /**\n     * ts-jest does some aggressive module mocking when unit testing reducers individually.\n     * To avoid 'No reducer provided for key \"...\"' warnings,\n     * we pass default reducers. Sorry for legibility.\n     *\n     * @see https://stackoverflow.com/questions/43375079/redux-warning-only-appearing-in-tests\n     */\n    oneToMany: oneToMany || defaultReducer,\n    possibleValues: possibleValues || defaultReducer,\n});\nexport var getPossibleReferenceValues = function (state, props) {\n    return pvGetPossibleReferenceValues(state.possibleValues, props);\n};\nexport var getPossibleReferences = pvGetPossibleReferences;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { TOGGLE_SIDEBAR, SET_SIDEBAR_VISIBILITY, REFRESH_VIEW, START_OPTIMISTIC_MODE, STOP_OPTIMISTIC_MODE, } from '../../actions';\nvar defaultState = {\n    sidebarOpen: false,\n    optimistic: false,\n    viewVersion: 0,\n};\nvar uiReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = defaultState; }\n    switch (action.type) {\n        case TOGGLE_SIDEBAR:\n            return __assign(__assign({}, previousState), { sidebarOpen: !previousState.sidebarOpen });\n        case SET_SIDEBAR_VISIBILITY:\n            return __assign(__assign({}, previousState), { sidebarOpen: action.payload });\n        case REFRESH_VIEW:\n            return __assign(__assign({}, previousState), { viewVersion: previousState.viewVersion + 1 });\n        case START_OPTIMISTIC_MODE:\n            return __assign(__assign({}, previousState), { optimistic: true });\n        case STOP_OPTIMISTIC_MODE:\n            return __assign(__assign({}, previousState), { optimistic: false });\n        default:\n            return previousState;\n    }\n};\nexport default uiReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n// reducer for queries called via useQueryWithStore and without a custom action name\nvar customQueriesReducer = function (previousState, _a) {\n    var _b;\n    if (previousState === void 0) { previousState = {}; }\n    var type = _a.type, requestPayload = _a.requestPayload, payload = _a.payload, meta = _a.meta;\n    if (type !== 'CUSTOM_QUERY_SUCCESS') {\n        return previousState;\n    }\n    var key = JSON.stringify({\n        type: meta.fetchResponse,\n        resource: meta.resource,\n        payload: requestPayload,\n    });\n    return __assign(__assign({}, previousState), (_b = {}, _b[key] = payload, _b));\n};\nexport default customQueriesReducer;\n","import { combineReducers } from 'redux';\nimport resources, { getResources as resourceGetResources, getReferenceResource as resourceGetReferenceResource, } from './resource';\nimport loading from './loading';\nimport notifications from './notifications';\nimport references, { getPossibleReferenceValues as referencesGetPossibleReferenceValues, } from './references';\nimport ui from './ui';\nimport customQueries from './customQueries';\nvar defaultReducer = function () { return null; };\nexport default combineReducers({\n    /**\n     * ts-jest does some aggressive module mocking when unit testing reducers individually.\n     * To avoid 'No reducer provided for key \"...\"' warnings,\n     * we pass default reducers. Sorry for legibility.\n     *\n     * @see https://stackoverflow.com/questions/43375079/redux-warning-only-appearing-in-tests\n     */\n    resources: resources || defaultReducer,\n    customQueries: customQueries || defaultReducer,\n    loading: loading || defaultReducer,\n    notifications: notifications || defaultReducer,\n    references: references || defaultReducer,\n    ui: ui || defaultReducer,\n});\nexport var getPossibleReferenceValues = function (state, props) {\n    return referencesGetPossibleReferenceValues(state.references, props);\n};\nexport var getResources = function (state) { return resourceGetResources(state.resources); };\nexport var getReferenceResource = function (state, props) {\n    return resourceGetReferenceResource(state.resources, props);\n};\nexport { getPossibleReferences } from './references';\n","export var REGISTER_RESOURCE = 'RA/REGISTER_RESOURCE';\nexport var registerResource = function (resource) { return ({\n    type: REGISTER_RESOURCE,\n    payload: resource,\n}); };\nexport var UNREGISTER_RESOURCE = 'RA/UNREGISTER_RESOURCE';\nexport var unregisterResource = function (resourceName) { return ({\n    type: UNREGISTER_RESOURCE,\n    payload: resourceName,\n}); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\nimport admin, { getResources as adminGetResources, getReferenceResource as adminGetReferenceResource, getPossibleReferenceValues as adminGetPossibleReferenceValues, } from './admin';\nexport { getNotification } from './admin/notifications';\nexport default (function (customReducers, history) {\n    return combineReducers(__assign({ admin: admin, router: connectRouter(history) }, customReducers));\n});\nexport var getPossibleReferenceValues = function (state, props) {\n    return adminGetPossibleReferenceValues(state.admin, props);\n};\nexport var getResources = function (state) { return adminGetResources(state.admin); };\nexport var getReferenceResource = function (state, props) {\n    return adminGetReferenceResource(state.admin, props);\n};\nexport { getPossibleReferences } from './admin';\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { all, put, call, select, takeLatest, takeEvery, } from 'redux-saga/effects';\nimport { push, replace } from 'connected-react-router';\nimport { showNotification, hideNotification, } from '../actions/notificationActions';\nimport { USER_LOGIN, USER_LOGIN_LOADING, USER_LOGIN_SUCCESS, USER_LOGIN_FAILURE, USER_CHECK, USER_LOGOUT, } from '../actions/authActions';\nimport { FETCH_ERROR } from '../actions/fetchActions';\nimport { clearState } from '../actions/clearActions';\nexport default (function (authProvider) {\n    if (!authProvider) {\n        return function () { return null; };\n    }\n    return function watchAuthActions() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, all([\n                        takeEvery(USER_LOGIN, handleLogin(authProvider)),\n                        takeEvery(USER_CHECK, handleCheck(authProvider)),\n                        takeEvery(USER_LOGOUT, handleLogout(authProvider)),\n                        takeLatest(FETCH_ERROR, handleFetchError(authProvider)),\n                    ])];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n});\nvar nextPathnameSelector = function (state) {\n    var locationState = state.router.location.state;\n    return locationState && locationState.nextPathname;\n};\nvar currentPathnameSelector = function (state) { return state.router.location; };\nvar getErrorMessage = function (error, defaultMessage) {\n    return typeof error === 'string'\n        ? error\n        : typeof error === 'undefined' || !error.message\n            ? defaultMessage\n            : error.message;\n};\nexport var handleLogin = function (authProvider) {\n    return function (action) {\n        var payload, meta, authPayload, redirectTo, e_1, errorMessage;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    payload = action.payload, meta = action.meta;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 7, , 10]);\n                    return [4 /*yield*/, put({ type: USER_LOGIN_LOADING })];\n                case 2:\n                    _a.sent();\n                    return [4 /*yield*/, call([authProvider, 'login'], payload)];\n                case 3:\n                    authPayload = _a.sent();\n                    return [4 /*yield*/, put({\n                            type: USER_LOGIN_SUCCESS,\n                            payload: authPayload,\n                        })];\n                case 4:\n                    _a.sent();\n                    return [4 /*yield*/, meta.pathName ||\n                            select(nextPathnameSelector)];\n                case 5:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(push(redirectTo || '/'))];\n                case 6:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 7:\n                    e_1 = _a.sent();\n                    return [4 /*yield*/, put({\n                            type: USER_LOGIN_FAILURE,\n                            error: e_1,\n                            meta: { auth: true },\n                        })];\n                case 8:\n                    _a.sent();\n                    errorMessage = getErrorMessage(e_1, 'ra.auth.sign_in_error');\n                    return [4 /*yield*/, put(showNotification(errorMessage, 'warning'))];\n                case 9:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 10: return [2 /*return*/];\n            }\n        });\n    };\n};\nexport var handleCheck = function (authProvider) {\n    return function (action) {\n        var payload, meta, error_1, redirectTo, errorMessage;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    payload = action.payload, meta = action.meta;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 8]);\n                    return [4 /*yield*/, call([authProvider, 'checkAuth'], payload)];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 8];\n                case 3:\n                    error_1 = _a.sent();\n                    return [4 /*yield*/, call([authProvider, 'logout'], undefined)];\n                case 4:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(replace({\n                            pathname: (error_1 && error_1.redirectTo) || redirectTo || '/login',\n                            state: { nextPathname: meta.pathName },\n                        }))];\n                case 5:\n                    _a.sent();\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    return [4 /*yield*/, put(clearState())];\n                case 6:\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    _a.sent();\n                    errorMessage = getErrorMessage(error_1, 'ra.auth.auth_check_error');\n                    return [4 /*yield*/, put(showNotification(errorMessage, 'warning'))];\n                case 7:\n                    _a.sent();\n                    return [3 /*break*/, 8];\n                case 8: return [2 /*return*/];\n            }\n        });\n    };\n};\nexport var handleLogout = function (authProvider) {\n    return function (action) {\n        var payload, redirectTo;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    payload = action.payload;\n                    return [4 /*yield*/, call([authProvider, 'logout'], undefined)];\n                case 1:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(push((payload && payload.redirectTo) || redirectTo || '/login'))];\n                case 2:\n                    _a.sent();\n                    return [4 /*yield*/, put(clearState())];\n                case 3:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\nexport var handleFetchError = function (authProvider) {\n    return function (action) {\n        var error, e_2, nextPathname, redirectTo;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    error = action.error;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 10]);\n                    return [4 /*yield*/, call([authProvider, 'checkError'], error)];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 3:\n                    e_2 = _a.sent();\n                    return [4 /*yield*/, select(currentPathnameSelector)];\n                case 4:\n                    nextPathname = _a.sent();\n                    return [4 /*yield*/, call([authProvider, 'logout'], undefined)];\n                case 5:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(push({\n                            pathname: redirectTo || '/login',\n                            state: { nextPathname: nextPathname },\n                        }))];\n                case 6:\n                    _a.sent();\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    return [4 /*yield*/, put(clearState())];\n                case 7:\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    _a.sent();\n                    return [4 /*yield*/, put(hideNotification())];\n                case 8:\n                    _a.sent();\n                    return [4 /*yield*/, put(showNotification('ra.notification.logged_out', 'warning'))];\n                case 9:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 10: return [2 /*return*/];\n            }\n        });\n    };\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var USER_LOGIN = 'RA/USER_LOGIN';\nexport var USER_LOGIN_LOADING = 'RA/USER_LOGIN_LOADING';\nexport var USER_LOGIN_FAILURE = 'RA/USER_LOGIN_FAILURE';\nexport var USER_LOGIN_SUCCESS = 'RA/USER_LOGIN_SUCCESS';\nexport var userLogin = function (payload, pathName) { return ({\n    type: USER_LOGIN,\n    payload: payload,\n    meta: { auth: true, pathName: pathName },\n}); };\nexport var USER_CHECK = 'RA/USER_CHECK';\nexport var USER_CHECK_SUCCESS = 'RA/USER_CHECK_SUCCESS';\nexport var userCheck = function (payload, pathName, routeParams) {\n    if (routeParams === void 0) { routeParams = {}; }\n    return ({\n        type: USER_CHECK,\n        payload: __assign(__assign({}, payload), { routeParams: routeParams }),\n        meta: { auth: true, pathName: pathName },\n    });\n};\nexport var USER_LOGOUT = 'RA/USER_LOGOUT';\n/**\n * Action to trigger logout of the current user. The entire redux state will be cleared\n * thanks to the resettableAppReducer in Admin.\n * @see: Admin.js\n * @param redirectTo Path to direct to after logout\n * @return {{type: string, payload: {redirectTo: string}, meta: {auth: boolean}}}\n */\nexport var userLogout = function (redirectTo) { return ({\n    type: USER_LOGOUT,\n    payload: { redirectTo: redirectTo },\n    meta: { auth: true },\n}); };\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { call, takeEvery } from 'redux-saga/effects';\n/**\n * Callback Side Effects\n */\nfunction handleCallback(_a) {\n    var payload = _a.payload, requestPayload = _a.requestPayload, error = _a.error, callback = _a.meta.callback;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0: return [4 /*yield*/, call(callback, { payload: payload, requestPayload: requestPayload, error: error })];\n            case 1:\n                _b.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(function (action) { return action.meta && action.meta.callback; }, handleCallback)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { all, call, cancelled, put, select, takeEvery, } from 'redux-saga/effects';\nimport { FETCH_CANCEL, FETCH_END, FETCH_ERROR, FETCH_START } from '../actions';\nimport { fetchActionsWithRecordResponse, fetchActionsWithArrayOfIdentifiedRecordsResponse, fetchActionsWithArrayOfRecordsResponse, fetchActionsWithTotalResponse, sanitizeFetchType, } from '../core';\nfunction validateResponseFormat(response, type, logger // eslint-disable-line no-console\n) {\n    if (logger === void 0) { logger = console.error; }\n    if (!response.hasOwnProperty('data')) {\n        logger(\"The response to '\" + type + \"' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '\" + type + \"'.\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithArrayOfRecordsResponse.includes(type) &&\n        !Array.isArray(response.data)) {\n        logger(\"The response to '\" + type + \"' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) &&\n        Array.isArray(response.data) &&\n        response.data.length > 0 &&\n        response.data.some(function (d) { return !d.hasOwnProperty('id'); })) {\n        logger(\"The response to '\" + type + \"' must be like { data : [{ id: 123, ...}, ...] }, but at least one received data item do not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithRecordResponse.includes(type) &&\n        !response.data.hasOwnProperty('id')) {\n        logger(\"The response to '\" + type + \"' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithTotalResponse.includes(type) &&\n        !response.hasOwnProperty('total')) {\n        logger(\"The response to '\" + type + \"' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n}\nexport function handleFetch(dataProvider, action) {\n    var type, payload, _a, fetchMeta, onSuccess, onFailure, meta, restType, successSideEffects, failureSideEffects, isOptimistic, response, error_1;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                type = action.type, payload = action.payload, _a = action.meta, fetchMeta = _a.fetch, onSuccess = _a.onSuccess, onFailure = _a.onFailure, meta = __rest(_a, [\"fetch\", \"onSuccess\", \"onFailure\"]);\n                restType = fetchMeta;\n                successSideEffects = onSuccess instanceof Function ? {} : onSuccess;\n                failureSideEffects = onFailure instanceof Function ? {} : onFailure;\n                _b.label = 1;\n            case 1:\n                _b.trys.push([1, 7, 10, 14]);\n                return [4 /*yield*/, select(function (state) { return state.admin.ui.optimistic; })];\n            case 2:\n                isOptimistic = _b.sent();\n                if (isOptimistic) {\n                    // in optimistic mode, all fetch actions are canceled,\n                    // so the admin uses the store without synchronization\n                    return [2 /*return*/];\n                }\n                return [4 /*yield*/, all([\n                        put({ type: type + \"_LOADING\", payload: payload, meta: meta }),\n                        put({ type: FETCH_START }),\n                    ])];\n            case 3:\n                _b.sent();\n                return [4 /*yield*/, call(dataProvider[sanitizeFetchType(restType)], meta.resource, payload)];\n            case 4:\n                response = _b.sent();\n                if (process.env.NODE_ENV !== 'production') {\n                    validateResponseFormat(response, restType);\n                }\n                return [4 /*yield*/, put({\n                        type: type + \"_SUCCESS\",\n                        payload: response,\n                        requestPayload: payload,\n                        meta: __assign(__assign(__assign({}, meta), successSideEffects), { fetchResponse: restType, fetchStatus: FETCH_END }),\n                    })];\n            case 5:\n                _b.sent();\n                return [4 /*yield*/, put({ type: FETCH_END })];\n            case 6:\n                _b.sent();\n                return [3 /*break*/, 14];\n            case 7:\n                error_1 = _b.sent();\n                return [4 /*yield*/, put({\n                        type: type + \"_FAILURE\",\n                        error: error_1.message ? error_1.message : error_1,\n                        payload: error_1.body ? error_1.body : null,\n                        requestPayload: payload,\n                        meta: __assign(__assign(__assign({}, meta), failureSideEffects), { fetchResponse: restType, fetchStatus: FETCH_ERROR }),\n                    })];\n            case 8:\n                _b.sent();\n                return [4 /*yield*/, put({ type: FETCH_ERROR, error: error_1 })];\n            case 9:\n                _b.sent();\n                return [3 /*break*/, 14];\n            case 10: return [4 /*yield*/, cancelled()];\n            case 11:\n                if (!_b.sent()) return [3 /*break*/, 13];\n                return [4 /*yield*/, put({ type: FETCH_CANCEL })];\n            case 12:\n                _b.sent();\n                return [2 /*return*/];\n            case 13: return [7 /*endfinally*/];\n            case 14: return [2 /*return*/];\n        }\n    });\n}\nexport var takeFetchAction = function (action) { return action.meta && action.meta.fetch; };\nvar fetch = function (dataProvider) {\n    return function watchFetch() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, takeEvery(takeFetchAction, handleFetch, dataProvider)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\nexport default fetch;\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { showNotification, } from '../actions/notificationActions';\n/**\n * Notification Side Effects\n */\nfunction handleNotification(_a) {\n    var body, level, _b, messageArgs;\n    var error = _a.error, _c = _a.meta, notification = _c.notification, optimistic = _c.optimistic;\n    return __generator(this, function (_d) {\n        switch (_d.label) {\n            case 0:\n                body = notification.body, level = notification.level, _b = notification.messageArgs, messageArgs = _b === void 0 ? {} : _b;\n                if (!error) return [3 /*break*/, 2];\n                return [4 /*yield*/, put(showNotification(typeof error === 'string' ? error : error.message || body, level || 'warning', {\n                        messageArgs: messageArgs,\n                        undoable: false,\n                    }))];\n            case 1: return [2 /*return*/, _d.sent()];\n            case 2: return [4 /*yield*/, put(showNotification(body, level || 'info', {\n                    messageArgs: messageArgs,\n                    undoable: optimistic,\n                }))];\n            case 3:\n                _d.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(\n                // @ts-ignore\n                function (action) { return action.meta && action.meta.notification; }, handleNotification)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { push } from 'connected-react-router';\nimport resolveRedirectTo from '../util/resolveRedirectTo';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Redirection Side Effects\n */\nexport function handleRedirection(_a) {\n    var payload = _a.payload, requestPayload = _a.requestPayload, _b = _a.meta, basePath = _b.basePath, redirectTo = _b.redirectTo;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                if (!!redirectTo) return [3 /*break*/, 2];\n                return [4 /*yield*/, put(refreshView())];\n            case 1:\n                _c.sent();\n                return [2 /*return*/];\n            case 2: return [4 /*yield*/, put(push(resolveRedirectTo(redirectTo, basePath, payload\n                    ? payload.id || (payload.data ? payload.data.id : null)\n                    : requestPayload\n                        ? requestPayload.id\n                        : null, payload && payload.data\n                    ? payload.data\n                    : requestPayload && requestPayload.data\n                        ? requestPayload.data\n                        : null)))];\n            case 3:\n                _c.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(\n                // @ts-ignore\n                function (action) { return action.meta && typeof action.meta.redirectTo !== 'undefined'; }, handleRedirection)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { cancel, delay, fork, put, takeEvery } from 'redux-saga/effects';\n/**\n * Distinct reducer on ids\n *\n * @example\n * addIds([1, 2, 3], { payload: { ids: [3, 4] } })\n *   => [1, 2, 3, 4]\n */\nvar addIds = function (oldIds, _a) {\n    var ids = _a.payload.ids;\n    // Using a Set ensure we only keep distinct values\n    var oldIdsSet = new Set(oldIds);\n    ids.forEach(function (id) { return oldIdsSet.add(id); });\n    return Array.from(oldIdsSet);\n};\n// We need a factory for this saga in order to unit test it by providing its context (current tasks and accumulations)\nexport var finalizeFactory = function (tasks, accumulations) {\n    /**\n     * Fetch the accumulated value after a delay\n     *\n     * As this gets canceled by subsequent calls to accumulate(), only the last\n     * call to finalize() will not be canceled. The delay acts as a\n     * debounce.\n     *\n     * @see https://redux-saga.js.org/docs/recipes/#debouncing\n     */\n    return function finalize(key, actionCreator) {\n        var accumulatedValue, action;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: \n                // combined with cancel(), this debounces the calls\n                return [4 /*yield*/, delay(50)];\n                case 1:\n                    // combined with cancel(), this debounces the calls\n                    _a.sent();\n                    accumulatedValue = accumulations[key];\n                    // Remove the latest accumulated value so that they do not interfere with later calls\n                    delete accumulations[key];\n                    action = actionCreator(key, accumulatedValue);\n                    return [4 /*yield*/, put(action)];\n                case 2:\n                    _a.sent();\n                    delete tasks[key];\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\n// We need a factory for this saga in order to unit test it by providing its context (current tasks and accumulations)\nexport var accumulateFactory = function (tasks, accumulations, finalize) {\n    /**\n     * Accumulate actions and eventually redispatch an action with the accumulated payload\n     *\n     * @example\n     * accumulate({\n     *    type: CRUD_GET_MANY_ACCUMULATE,\n     *    payload: { ids: [1, 2, 3], resource: 'posts' },\n     *    meta: { accumulate: crudGetMany }\n     * });\n     * accumulate({\n     *    type: CRUD_GET_MANY_ACCUMULATE,\n     *    payload: { ids: [4, 5], resource: 'posts' },\n     *    meta: { accumulate: crudGetMany }\n     * });\n     *   => crudGetMany({ ids: [1, 2, 3, 4, 5], resource: 'posts' })\n     *\n     * @example\n     * accumulate({\n     *    type: CRUD_GET_MATCHING_ACCUMULATE,\n     *    meta: {\n     *      accumulate: crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {}),\n     *      accumulateValues: () => true,\n     *      accumulateKey: '{\"resource\":\"authors\", \"pagination\":{\"page\":1,\"perPage\":10},\"sort\":{\"field\":\"id\",\"order\":\"DESC\"},\"filter\":{}}'\n     *    }\n     * });\n     * accumulate({\n     *    type: CRUD_GET_MATCHING_ACCUMULATE,\n     *    meta: {\n     *      accumulate: crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {}),\n     *      accumulateValues: () => true,\n     *      accumulateKey: '{\"resource\":\"authors\", \"pagination\":{\"page\":1,\"perPage\":10},\"sort\":{\"field\":\"id\",\"order\":\"DESC\"},\"filter\":{}}'\n     *    }\n     * });\n     *   => crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {})\n     */\n    return function accumulate(action) {\n        var key, accumulateValues, _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    key = action.meta.accumulateKey || action.payload.resource;\n                    if (!tasks[key]) return [3 /*break*/, 2];\n                    return [4 /*yield*/, cancel(tasks[key])];\n                case 1:\n                    _c.sent();\n                    _c.label = 2;\n                case 2:\n                    accumulateValues = action.meta.accumulateValues || addIds;\n                    // accumulateValues is a reducer function, it receives the previous accumulatedValues for\n                    // the provided key, and must return the updated accumulatedValues\n                    accumulations[key] = accumulateValues(accumulations[key], action);\n                    _a = tasks;\n                    _b = key;\n                    return [4 /*yield*/, fork(finalize, key, action.meta.accumulate)];\n                case 3:\n                    _a[_b] = _c.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\nexport default function () {\n    var accumulations, tasks;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                accumulations = {};\n                tasks = {};\n                return [4 /*yield*/, takeEvery(function (action) { return action.meta && action.meta.accumulate; }, accumulateFactory(tasks, accumulations, finalizeFactory(tasks, accumulations)))];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Refresh Side Effects\n */\nfunction handleRefresh() {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, put(refreshView())];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(function (action) { return action.meta && action.meta.refresh; }, handleRefresh)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { take, takeEvery, put, race } from 'redux-saga/effects';\nimport { showNotification } from '../actions/notificationActions';\nimport { UNDOABLE, UNDO, COMPLETE, startOptimisticMode, stopOptimisticMode, } from '../actions/undoActions';\nimport { refreshView } from '../actions/uiActions';\nexport function handleUndoRace(undoableAction) {\n    var action, _a, onSuccess, onFailure, metaWithoutSideEffects, complete;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                action = undoableAction.payload.action;\n                _a = action.meta, onSuccess = _a.onSuccess, onFailure = _a.onFailure, metaWithoutSideEffects = __rest(_a, [\"onSuccess\", \"onFailure\"]);\n                return [4 /*yield*/, put(startOptimisticMode())];\n            case 1:\n                _b.sent();\n                // dispatch action in optimistic mode (no fetch), with success side effects\n                return [4 /*yield*/, put(__assign(__assign({}, action), { type: action.type + \"_OPTIMISTIC\", meta: __assign(__assign(__assign({}, metaWithoutSideEffects), onSuccess), { optimistic: true }) }))];\n            case 2:\n                // dispatch action in optimistic mode (no fetch), with success side effects\n                _b.sent();\n                return [4 /*yield*/, race({\n                        undo: take(UNDO),\n                        complete: take(COMPLETE),\n                    })];\n            case 3:\n                complete = (_b.sent()).complete;\n                return [4 /*yield*/, put(stopOptimisticMode())];\n            case 4:\n                _b.sent();\n                if (!complete) return [3 /*break*/, 6];\n                // if not cancelled, redispatch the action, this time immediate, and without success side effect\n                return [4 /*yield*/, put(__assign(__assign({}, action), { meta: __assign(__assign({}, metaWithoutSideEffects), { onSuccess: { refresh: true }, onFailure: __assign(__assign({}, onFailure), { refresh: true }) }) }))];\n            case 5:\n                // if not cancelled, redispatch the action, this time immediate, and without success side effect\n                _b.sent();\n                return [3 /*break*/, 9];\n            case 6: return [4 /*yield*/, put(showNotification('ra.notification.canceled'))];\n            case 7:\n                _b.sent();\n                return [4 /*yield*/, put(refreshView())];\n            case 8:\n                _b.sent();\n                _b.label = 9;\n            case 9: return [2 /*return*/];\n        }\n    });\n}\nexport default function watchUndoable() {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: \n            // @ts-ignore\n            return [4 /*yield*/, takeEvery(UNDOABLE, handleUndoRace)];\n            case 1:\n                // @ts-ignore\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { all } from 'redux-saga/effects';\nimport auth from './auth';\nimport callback from './callback';\nimport fetch from './fetch';\nimport notification from './notification';\nimport redirection from './redirection';\nimport accumulate from './accumulate';\nimport refresh from './refresh';\nimport undo from './undo';\n/**\n * @param {Object} dataProvider A Data Provider function\n * @param {Function} authProvider An Authentication Provider object\n */\nexport default (function (dataProvider, authProvider) {\n    return function admin() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, all([\n                        auth(authProvider)(),\n                        undo(),\n                        fetch(dataProvider)(),\n                        accumulate(),\n                        redirection(),\n                        refresh(),\n                        notification(),\n                        callback(),\n                    ])];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { routerMiddleware } from 'connected-react-router';\nimport createSagaMiddleware from 'redux-saga';\nimport { all, fork } from 'redux-saga/effects';\nimport createAppReducer from '../reducer';\nimport { adminSaga } from '../sideEffect';\nimport { CLEAR_STATE } from '../actions/clearActions';\nexport default (function (_a) {\n    var dataProvider = _a.dataProvider, history = _a.history, _b = _a.customReducers, customReducers = _b === void 0 ? {} : _b, _c = _a.authProvider, authProvider = _c === void 0 ? null : _c, _d = _a.customSagas, customSagas = _d === void 0 ? [] : _d, initialState = _a.initialState;\n    var appReducer = createAppReducer(customReducers, history);\n    var resettableAppReducer = function (state, action) {\n        return appReducer(action.type !== CLEAR_STATE\n            ? state\n            : // Erase data from the store but keep location, notifications, ui prefs, etc.\n             __assign(__assign({}, state), { admin: __assign(__assign({}, state.admin), { loading: 0, resources: {}, customQueries: {}, references: { oneToMany: {}, possibleValues: {} } }) }), action);\n    };\n    var saga = function rootSaga() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, all(__spreadArrays([adminSaga(dataProvider, authProvider)], customSagas).map(fork))];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n    var sagaMiddleware = createSagaMiddleware();\n    var typedWindow = window;\n    var composeEnhancers = (process.env.NODE_ENV === 'development' &&\n        typeof typedWindow !== 'undefined' &&\n        typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\n        typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n            trace: true,\n            traceLimit: 25,\n        })) ||\n        compose;\n    var store = createStore(resettableAppReducer, typeof initialState === 'function' ? initialState() : initialState, composeEnhancers(applyMiddleware(sagaMiddleware, routerMiddleware(history))));\n    sagaMiddleware.run(saga);\n    return store;\n});\n","import { createContext } from 'react';\nvar TranslationContext = createContext({\n    locale: 'en',\n    setLocale: function () { return Promise.resolve(); },\n    i18nProvider: {\n        translate: function (x) { return x; },\n        changeLocale: function () { return Promise.resolve(); },\n        getLocale: function () { return 'en'; },\n    },\n});\nTranslationContext.displayName = 'TranslationContext';\nexport { TranslationContext };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useCallback, useMemo, Children, } from 'react';\nimport { useSafeSetState } from '../util/hooks';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Creates a translation context, available to its children\n *\n * @example\n *     const MyApp = () => (\n *         <Provider store={store}>\n *             <TranslationProvider i18nProvider={i18nProvider}>\n *                 <!-- Child components go here -->\n *             </TranslationProvider>\n *         </Provider>\n *     );\n */\nvar TranslationProvider = function (props) {\n    var i18nProvider = props.i18nProvider, children = props.children;\n    var _a = useSafeSetState({\n        locale: i18nProvider ? i18nProvider.getLocale() : 'en',\n        i18nProvider: i18nProvider,\n    }), state = _a[0], setState = _a[1];\n    var setLocale = useCallback(function (newLocale) {\n        return setState({\n            locale: newLocale,\n            i18nProvider: i18nProvider,\n        });\n    }, [i18nProvider, setState]);\n    // Allow locale modification by including setLocale in the context\n    // This can't be done in the initial state because setState doesn't exist yet\n    var value = useMemo(function () { return (__assign(__assign({}, state), { setLocale: setLocale })); }, [setLocale, state]);\n    return (React.createElement(TranslationContext.Provider, { value: value }, Children.only(children)));\n};\nexport default TranslationProvider;\n","import React, { useContext } from 'react';\nimport { Provider, ReactReduxContext } from 'react-redux';\nimport { createHashHistory } from 'history';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { AuthContext, convertLegacyAuthProvider } from '../auth';\nimport { DataProviderContext, convertLegacyDataProvider, } from '../dataProvider';\nimport createAdminStore from './createAdminStore';\nimport TranslationProvider from '../i18n/TranslationProvider';\nvar CoreAdminContext = function (_a) {\n    var authProvider = _a.authProvider, dataProvider = _a.dataProvider, i18nProvider = _a.i18nProvider, children = _a.children, history = _a.history, customReducers = _a.customReducers, customSagas = _a.customSagas, initialState = _a.initialState;\n    var reduxIsAlreadyInitialized = !!useContext(ReactReduxContext);\n    if (!dataProvider) {\n        throw new Error(\"Missing dataProvider prop.\\nReact-admin requires a valid dataProvider function to work.\");\n    }\n    var finalAuthProvider = authProvider instanceof Function\n        ? convertLegacyAuthProvider(authProvider)\n        : authProvider;\n    var finalDataProvider = dataProvider instanceof Function\n        ? convertLegacyDataProvider(dataProvider)\n        : dataProvider;\n    var finalHistory = history || createHashHistory();\n    var renderCore = function () {\n        return (React.createElement(AuthContext.Provider, { value: finalAuthProvider },\n            React.createElement(DataProviderContext.Provider, { value: finalDataProvider },\n                React.createElement(TranslationProvider, { i18nProvider: i18nProvider }, typeof window !== 'undefined' ? (React.createElement(ConnectedRouter, { history: finalHistory }, children)) : (children)))));\n    };\n    if (reduxIsAlreadyInitialized) {\n        if (!history) {\n            throw new Error(\"Missing history prop.\\nWhen integrating react-admin inside an existing redux Provider, you must provide the same 'history' prop to the <Admin> as the one used to bootstrap your routerMiddleware.\\nReact-admin uses this history for its own ConnectedRouter.\");\n        }\n        return renderCore();\n    }\n    else {\n        return (React.createElement(Provider, { store: createAdminStore({\n                authProvider: finalAuthProvider,\n                customReducers: customReducers,\n                customSagas: customSagas,\n                dataProvider: finalDataProvider,\n                initialState: initialState,\n                history: finalHistory,\n            }) }, renderCore()));\n    }\n};\nexport default CoreAdminContext;\n","import { AUTH_LOGIN, AUTH_LOGOUT, AUTH_CHECK, AUTH_ERROR, AUTH_GET_PERMISSIONS, } from './types';\n/**\n * Turn a function-based authProvider to an object-based one\n *\n * Allows using legacy authProviders transparently.\n *\n * @param {Function} legacyAuthProvider A legacy authProvider (type, params) => Promise<any>\n *\n * @returns {Object} An authProvider that react-admin can use\n */\nexport default (function (legacyAuthProvider) {\n    var authProvider = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return legacyAuthProvider.apply(null, args);\n    };\n    authProvider.login = function (params) { return legacyAuthProvider(AUTH_LOGIN, params); };\n    authProvider.logout = function (params) { return legacyAuthProvider(AUTH_LOGOUT, params); };\n    authProvider.checkAuth = function (params) { return legacyAuthProvider(AUTH_CHECK, params); };\n    authProvider.checkError = function (error) { return legacyAuthProvider(AUTH_ERROR, error); };\n    authProvider.getPermissions = function (params) {\n        return legacyAuthProvider(AUTH_GET_PERMISSIONS, params);\n    };\n    return authProvider;\n});\n","export var AUTH_LOGIN = 'AUTH_LOGIN';\nexport var AUTH_CHECK = 'AUTH_CHECK';\nexport var AUTH_ERROR = 'AUTH_ERROR';\nexport var AUTH_LOGOUT = 'AUTH_LOGOUT';\nexport var AUTH_GET_PERMISSIONS = 'AUTH_GET_PERMISSIONS';\n","var englishMessages = {\n    ra: {\n        action: {\n            add_filter: 'Add filter',\n            add: 'Add',\n            back: 'Go Back',\n            bulk_actions: '1 item selected |||| %{smart_count} items selected',\n            cancel: 'Cancel',\n            clear_input_value: 'Clear value',\n            clone: 'Clone',\n            confirm: 'Confirm',\n            create: 'Create',\n            delete: 'Delete',\n            edit: 'Edit',\n            export: 'Export',\n            list: 'List',\n            refresh: 'Refresh',\n            remove_filter: 'Remove this filter',\n            remove: 'Remove',\n            save: 'Save',\n            search: 'Search',\n            show: 'Show',\n            sort: 'Sort',\n            undo: 'Undo',\n            expand: 'Expand',\n            close: 'Close',\n            open_menu: 'Open menu',\n            close_menu: 'Close menu',\n        },\n        boolean: {\n            true: 'Yes',\n            false: 'No',\n            null: '',\n        },\n        page: {\n            create: 'Create %{name}',\n            dashboard: 'Dashboard',\n            edit: '%{name} #%{id}',\n            error: 'Something went wrong',\n            list: '%{name}',\n            loading: 'Loading',\n            not_found: 'Not Found',\n            show: '%{name} #%{id}',\n            empty: 'No %{name} yet.',\n            invite: 'Do you want to add one?',\n        },\n        input: {\n            file: {\n                upload_several: 'Drop some files to upload, or click to select one.',\n                upload_single: 'Drop a file to upload, or click to select it.',\n            },\n            image: {\n                upload_several: 'Drop some pictures to upload, or click to select one.',\n                upload_single: 'Drop a picture to upload, or click to select it.',\n            },\n            references: {\n                all_missing: 'Unable to find references data.',\n                many_missing: 'At least one of the associated references no longer appears to be available.',\n                single_missing: 'Associated reference no longer appears to be available.',\n            },\n            password: {\n                toggle_visible: 'Hide password',\n                toggle_hidden: 'Show password',\n            },\n        },\n        message: {\n            about: 'About',\n            are_you_sure: 'Are you sure?',\n            bulk_delete_content: 'Are you sure you want to delete this %{name}? |||| Are you sure you want to delete these %{smart_count} items?',\n            bulk_delete_title: 'Delete %{name} |||| Delete %{smart_count} %{name}',\n            delete_content: 'Are you sure you want to delete this item?',\n            delete_title: 'Delete %{name} #%{id}',\n            details: 'Details',\n            error: \"A client error occurred and your request couldn't be completed.\",\n            invalid_form: 'The form is not valid. Please check for errors',\n            loading: 'The page is loading, just a moment please',\n            no: 'No',\n            not_found: 'Either you typed a wrong URL, or you followed a bad link.',\n            yes: 'Yes',\n            unsaved_changes: \"Some of your changes weren't saved. Are you sure you want to ignore them?\",\n        },\n        navigation: {\n            no_results: 'No results found',\n            no_more_results: 'The page number %{page} is out of boundaries. Try the previous page.',\n            page_out_of_boundaries: 'Page number %{page} out of boundaries',\n            page_out_from_end: 'Cannot go after last page',\n            page_out_from_begin: 'Cannot go before page 1',\n            page_range_info: '%{offsetBegin}-%{offsetEnd} of %{total}',\n            page_rows_per_page: 'Rows per page:',\n            next: 'Next',\n            prev: 'Prev',\n        },\n        auth: {\n            auth_check_error: 'Please login to continue',\n            user_menu: 'Profile',\n            username: 'Username',\n            password: 'Password',\n            sign_in: 'Sign in',\n            sign_in_error: 'Authentication failed, please retry',\n            logout: 'Logout',\n        },\n        notification: {\n            updated: 'Element updated |||| %{smart_count} elements updated',\n            created: 'Element created',\n            deleted: 'Element deleted |||| %{smart_count} elements deleted',\n            bad_item: 'Incorrect element',\n            item_doesnt_exist: 'Element does not exist',\n            http_error: 'Server communication error',\n            data_provider_error: 'dataProvider error. Check the console for details.',\n            i18n_error: 'Cannot load the translations for the specified language',\n            canceled: 'Action cancelled',\n            logged_out: 'Your session has ended, please reconnect.',\n        },\n        validation: {\n            required: 'Required',\n            minLength: 'Must be %{min} characters at least',\n            maxLength: 'Must be %{max} characters or less',\n            minValue: 'Must be at least %{min}',\n            maxValue: 'Must be %{max} or less',\n            number: 'Must be a number',\n            email: 'Must be a valid email',\n            oneOf: 'Must be one of: %{options}',\n            regex: 'Must match a specific format (regexp): %{pattern}',\n        },\n    },\n};\nexport default englishMessages;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport Polyglot from 'node-polyglot';\n/**\n * Build a polyglot-based i18nProvider based on a function returning the messages for a locale\n *\n * @example\n *\n * import { Admin, Resource, polyglotI18nProvider } from 'react-admin';\n * import englishMessages from 'ra-language-english';\n * import frenchMessages from 'ra-language-french';\n *\n * const messages = {\n *     fr: frenchMessages,\n *     en: englishMessages,\n * };\n * const i18nProvider = polyglotI18nProvider(locale => messages[locale])\n */\nexport default (function (getMessages, initialLocale, polyglotOptions) {\n    if (initialLocale === void 0) { initialLocale = 'en'; }\n    if (polyglotOptions === void 0) { polyglotOptions = {}; }\n    var locale = initialLocale;\n    var messages = getMessages(initialLocale);\n    if (messages instanceof Promise) {\n        throw new Error(\"The i18nProvider returned a Promise for the messages of the default locale (\" + initialLocale + \"). Please update your i18nProvider to return the messages of the default locale in a synchronous way.\");\n    }\n    var polyglot = new Polyglot(__assign({ locale: locale, phrases: __assign({ '': '' }, messages) }, polyglotOptions));\n    var translate = polyglot.t.bind(polyglot);\n    return {\n        translate: function (key, options) {\n            if (options === void 0) { options = {}; }\n            return translate(key, options);\n        },\n        changeLocale: function (newLocale) {\n            return new Promise(function (resolve) {\n                // so we systematically return a Promise for the messages\n                // i18nProvider may return a Promise for language changes,\n                return resolve(getMessages(newLocale));\n            }).then(function (messages) {\n                locale = newLocale;\n                var newPolyglot = new Polyglot(__assign({ locale: newLocale, phrases: __assign({ '': '' }, messages) }, polyglotOptions));\n                translate = newPolyglot.t.bind(newPolyglot);\n            });\n        },\n        getLocale: function () { return locale; },\n    };\n});\n","import defaultMessages from 'ra-language-english';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\nexport default polyglotI18nProvider(function () { return defaultMessages; });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { CoreAdminContext } from 'ra-core';\nimport defaultI18nProvider from './defaultI18nProvider';\nvar AdminContext = function (props) { return (React.createElement(CoreAdminContext, __assign({}, props))); };\nAdminContext.defaultProps = {\n    i18nProvider: defaultI18nProvider,\n};\nAdminContext.displayName = 'AdminContext';\nexport default AdminContext;\n","import { useCallback } from 'react';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport useLogout from './useLogout';\nimport useNotify from '../sideEffect/useNotify';\n/**\n * Get a callback for calling the authProvider.checkAuth() method.\n * In case of rejection, redirects to the login page, displays a notification,\n * and throws an error.\n *\n * This is a low level hook. See those more specialized hooks\n * for common authentication tasks, based on useAuthCheck.\n *\n * @see useAuthenticated\n * @see useAuthState\n *\n * @returns {Function} checkAuth callback\n *\n * @example\n *\n * import { useCheckAuth } from 'react-admin';\n *\n * const MyProtectedPage = () => {\n *     const checkAuth = useCheckAuth();\n *     useEffect(() => {\n *         checkAuth().catch(() => {});\n *     }, []);\n *     return <p>Private content: EZAEZEZAET</p>\n * } // tip: use useAuthenticated() hook instead\n *\n * const MyPage = () => {\n *     const checkAuth = useCheckAuth();\n *     const [authenticated, setAuthenticated] = useState(true); // optimistic auth\n *     useEffect(() => {\n *         checkAuth({}, false)\n *              .then() => setAuthenticated(true))\n *              .catch(() => setAuthenticated(false));\n *     }, []);\n *     return authenticated ? <Bar /> : <BarNotAuthenticated />;\n * } // tip: use useAuthState() hook instead\n */\nvar useCheckAuth = function () {\n    var authProvider = useAuthProvider();\n    var notify = useNotify();\n    var logout = useLogout();\n    var checkAuth = useCallback(function (params, logoutOnFailure, redirectTo) {\n        if (params === void 0) { params = {}; }\n        if (logoutOnFailure === void 0) { logoutOnFailure = true; }\n        if (redirectTo === void 0) { redirectTo = defaultAuthParams.loginUrl; }\n        return authProvider.checkAuth(params).catch(function (error) {\n            if (logoutOnFailure) {\n                logout({}, error && error.redirectTo\n                    ? error.redirectTo\n                    : redirectTo);\n                notify(getErrorMessage(error, 'ra.auth.auth_check_error'), 'warning');\n            }\n            throw error;\n        });\n    }, [authProvider, logout, notify]);\n    return authProvider ? checkAuth : checkAuthWithoutAuthProvider;\n};\nvar checkAuthWithoutAuthProvider = function () { return Promise.resolve(); };\nvar getErrorMessage = function (error, defaultMessage) {\n    return typeof error === 'string'\n        ? error\n        : typeof error === 'undefined' || !error.message\n            ? defaultMessage\n            : error.message;\n};\nexport default useCheckAuth;\n","import { useEffect } from 'react';\nimport useCheckAuth from './useCheckAuth';\nvar emptyParams = {};\n/**\n * Restrict access to authenticated users.\n * Redirect anonymous users to the login page.\n *\n * Use it in your custom page components to require\n * authentication.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { useAuthenticated } from 'react-admin';\n *     const FooPage = () => {\n *         useAuthenticated();\n *         return <Foo />;\n *     }\n *     const CustomRoutes = [\n *         <Route path=\"/foo\" render={() => <FooPage />} />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\nexport default (function (params) {\n    if (params === void 0) { params = emptyParams; }\n    var checkAuth = useCheckAuth();\n    useEffect(function () {\n        checkAuth(params).catch(function () { });\n    }, [checkAuth, params]);\n});\n","import { useCallback } from 'react';\nimport useAuthProvider from './useAuthProvider';\nvar getPermissionsWithoutProvider = function () { return Promise.resolve([]); };\n/**\n * Get a callback for calling the authProvider.getPermissions() method.\n *\n * @see useAuthProvider\n *\n * @returns {Function} getPermissions callback\n *\n * This is a low level hook. See those more specialized hooks\n * offering state handling.\n *\n * @see usePermissions\n *\n * @example\n *\n * import { useGetPermissions } from 'react-admin';\n *\n * const Roles = () => {\n *     const [permissions, setPermissions] = useState([]);\n *     const getPermissions = useGetPermissions();\n *     useEffect(() => {\n *         getPermissions().then(permissions => setPermissions(permissions))\n *     }, [])\n *     return (\n *         <ul>\n *             {permissions.map((permission, key) => (\n *                 <li key={key}>{permission}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n */\nvar useGetPermissions = function () {\n    var authProvider = useAuthProvider();\n    var getPermissions = useCallback(function (params) {\n        if (params === void 0) { params = {}; }\n        return authProvider.getPermissions(params);\n    }, [authProvider]);\n    return authProvider ? getPermissions : getPermissionsWithoutProvider;\n};\nexport default useGetPermissions;\n","import { useEffect } from 'react';\nimport useGetPermissions from './useGetPermissions';\nimport { useSafeSetState } from '../util/hooks';\nvar emptyParams = {};\n/**\n * Hook for getting user permissions\n *\n * Calls the authProvider.getPrmissions() method asynchronously.\n * If the authProvider returns a rejected promise, returns empty permissions.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { permissions: [any], loading: false, loaded: true }\n * - error: { error: [error from provider], loading: false, loaded: true }\n *\n * Useful to enable features based on user permissions\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { permissions, error, loading, loaded }.\n *\n * @example\n *     import { usePermissions } from 'react-admin';\n *\n *     const PostDetail = props => {\n *         const { loaded, permissions } = usePermissions();\n *         if (loaded && permissions == 'editor') {\n *             return <PostEdit {...props} />\n *         } else {\n *             return <PostShow {...props} />\n *         }\n *     };\n */\nvar usePermissions = function (params) {\n    if (params === void 0) { params = emptyParams; }\n    var _a = useSafeSetState({\n        loading: true,\n        loaded: false,\n    }), state = _a[0], setState = _a[1];\n    var getPermissions = useGetPermissions();\n    useEffect(function () {\n        getPermissions(params)\n            .then(function (permissions) {\n            setState({ loading: false, loaded: true, permissions: permissions });\n        })\n            .catch(function (error) {\n            setState({\n                loading: false,\n                loaded: true,\n                error: error,\n            });\n        });\n    }, [getPermissions, params, setState]);\n    return state;\n};\nexport default usePermissions;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Children, createElement, } from 'react';\nimport warning from '../util/warning';\nimport useAuthenticated from './useAuthenticated';\nimport usePermissions from './usePermissions';\nvar isEmptyChildren = function (children) { return Children.count(children) === 0; };\n/**\n * After checking that the user is authenticated,\n * retrieves the user's permissions for a specific context.\n *\n * Useful for Route components ; used internally by Resource.\n * Use it to decorate your custom page components to require\n * a custom role. It will pass the permissions as a prop to your\n * component.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { WithPermissions } from 'react-admin';\n *\n *     const Foo = ({ permissions }) => (\n *         {permissions === 'admin' ? <p>Sensitive data</p> : null}\n *         <p>Not sensitive data</p>\n *     );\n *\n *     const customRoutes = [\n *         <Route path=\"/foo\" render={() =>\n *             <WithPermissions\n *                  authParams={{ foo: 'bar' }}\n *                  render={({ permissions, ...props }) => <Foo permissions={permissions} {...props} />}\n *              />\n *         } />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\nvar WithPermissions = function (_a) {\n    var authParams = _a.authParams, children = _a.children, render = _a.render, component = _a.component, staticContext = _a.staticContext, props = __rest(_a, [\"authParams\", \"children\", \"render\", \"component\", \"staticContext\"]);\n    warning((render && children && !isEmptyChildren(children)) ||\n        (render && component) ||\n        (component && children && !isEmptyChildren(children)), 'You should only use one of the `component`, `render` and `children` props in <WithPermissions>');\n    useAuthenticated(authParams);\n    var permissions = usePermissions(authParams).permissions;\n    // render even though the usePermissions() call isn't finished (optimistic rendering)\n    if (component) {\n        return createElement(component, __assign({ permissions: permissions }, props));\n    }\n    // @deprecated\n    if (render) {\n        return render(__assign({ permissions: permissions }, props));\n    }\n    // @deprecated\n    if (children) {\n        return children(__assign({ permissions: permissions }, props));\n    }\n};\nexport default WithPermissions;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { Children, cloneElement, createElement, } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport WithPermissions from '../auth/WithPermissions';\nvar RoutesWithLayout = function (_a) {\n    var catchAll = _a.catchAll, children = _a.children, customRoutes = _a.customRoutes, dashboard = _a.dashboard, title = _a.title;\n    var childrenAsArray = React.Children.toArray(children);\n    var firstChild = childrenAsArray.length > 0\n        ? childrenAsArray[0]\n        : null;\n    return (React.createElement(Switch, null,\n        customRoutes &&\n            customRoutes.map(function (route, key) { return cloneElement(route, { key: key }); }),\n        Children.map(children, function (child) { return (React.createElement(Route, { key: child.props.name, path: \"/\" + child.props.name, render: function (props) {\n                return cloneElement(child, __assign({ \n                    // The context prop instruct the Resource component to\n                    // render itself as a standard component\n                    intent: 'route' }, props));\n            } })); }),\n        dashboard ? (React.createElement(Route, { exact: true, path: \"/\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ authParams: {\n                    route: 'dashboard',\n                }, component: dashboard }, routeProps))); } })) : firstChild ? (React.createElement(Route, { exact: true, path: \"/\", render: function () { return React.createElement(Redirect, { to: \"/\" + firstChild.props.name }); } })) : null,\n        React.createElement(Route, { render: function (routeProps) {\n                return createElement(catchAll, __assign(__assign({}, routeProps), { title: title }));\n            } })));\n};\nexport default RoutesWithLayout;\n","import { useEffect } from 'react';\nimport useCheckAuth from './useCheckAuth';\nimport { useSafeSetState } from '../util/hooks';\nvar emptyParams = {};\n/**\n * Hook for getting the authentication status and restricting access to authenticated users\n *\n * Calls the authProvider.checkAuth() method asynchronously.\n * If the authProvider returns a rejected promise, logs the user out.\n *\n * The return value updates according to the authProvider request state:\n *\n * - start:   { authenticated: false, loading: true, loaded: false }\n * - success: { authenticated: true,  loading: false, loaded: true }\n * - error:   { authenticated: false, loading: false, loaded: true }\n *\n * Useful in custom page components that can work both for connected and\n * anonymous users. For pages that can only work for connected users,\n * prefer the useAuthenticated() hook.\n *\n * @see useAuthenticated()\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { authenticated, error, loading, loaded }.\n *\n * @example\n *     import { useAuthState } from 'react-admin';\n *\n *     const CustomRoutes = [\n *         <Route path=\"/bar\" render={() => {\n *              const { authenticated } = useAuthState({ myContext: 'foobar' });\n *              return authenticated ? <Bar /> : <BarNotAuthenticated />;\n *          }} />,\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\nvar useAuthState = function (params) {\n    if (params === void 0) { params = emptyParams; }\n    var _a = useSafeSetState({\n        loading: true,\n        loaded: false,\n        authenticated: true,\n    }), state = _a[0], setState = _a[1];\n    var checkAuth = useCheckAuth();\n    useEffect(function () {\n        checkAuth(params, false)\n            .then(function () {\n            return setState({ loading: false, loaded: true, authenticated: true });\n        })\n            .catch(function () {\n            return setState({ loading: false, loaded: true, authenticated: false });\n        });\n    }, [checkAuth, params, setState]);\n    return state;\n};\nexport default useAuthState;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport React, { Children, useEffect, cloneElement, createElement, } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport RoutesWithLayout from './RoutesWithLayout';\nimport { useLogout, useGetPermissions, useAuthState } from '../auth';\nimport { Ready, useTimeout, useSafeSetState } from '../util';\nvar CoreAdminRouter = function (props) {\n    var getPermissions = useGetPermissions();\n    var doLogout = useLogout();\n    var authenticated = useAuthState().authenticated;\n    var oneSecondHasPassed = useTimeout(1000);\n    var _a = useSafeSetState([]), computedChildren = _a[0], setComputedChildren = _a[1];\n    useEffect(function () {\n        if (typeof props.children === 'function') {\n            initializeResources();\n        }\n    }, [authenticated]); // eslint-disable-line react-hooks/exhaustive-deps\n    var initializeResources = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var permissions, resolveChildren, childrenFuncResult, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, getPermissions()];\n                case 1:\n                    permissions = _a.sent();\n                    resolveChildren = props.children;\n                    childrenFuncResult = resolveChildren(permissions);\n                    if (childrenFuncResult.then) {\n                        childrenFuncResult.then(function (resolvedChildren) {\n                            return setComputedChildren(resolvedChildren\n                                .filter(function (child) { return child; })\n                                .map(function (child) { return (__assign(__assign({}, child), { props: __assign(__assign({}, child.props), { key: child.props.name }) })); }));\n                        });\n                    }\n                    else {\n                        setComputedChildren(childrenFuncResult.filter(function (child) { return child; }));\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_1 = _a.sent();\n                    console.error(error_1);\n                    doLogout();\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); };\n    var renderCustomRoutesWithoutLayout = function (route, routeProps) {\n        if (route.props.render) {\n            return route.props.render(__assign(__assign({}, routeProps), { title: props.title }));\n        }\n        if (route.props.component) {\n            return createElement(route.props.component, __assign(__assign({}, routeProps), { title: props.title }));\n        }\n    };\n    var layout = props.layout, catchAll = props.catchAll, children = props.children, customRoutes = props.customRoutes, dashboard = props.dashboard, loading = props.loading, logout = props.logout, menu = props.menu, theme = props.theme, title = props.title;\n    if (process.env.NODE_ENV !== 'production' &&\n        typeof children !== 'function' &&\n        !children) {\n        return React.createElement(Ready, null);\n    }\n    if (typeof children === 'function' &&\n        (!computedChildren || computedChildren.length === 0)) {\n        if (oneSecondHasPassed) {\n            return React.createElement(Route, { path: \"/\", key: \"loading\", component: loading });\n        }\n        else {\n            return null;\n        }\n    }\n    var childrenToRender = (typeof children === 'function'\n        ? computedChildren\n        : children);\n    return (React.createElement(\"div\", null,\n        // as we need all of them and not just the one rendered\n        Children.map(childrenToRender, function (child) {\n            return cloneElement(child, {\n                key: child.props.name,\n                // The context prop instructs the Resource component to not render anything\n                // but simply to register itself as a known resource\n                intent: 'registration',\n            });\n        }),\n        React.createElement(Switch, null,\n            customRoutes\n                .filter(function (route) { return route.props.noLayout; })\n                .map(function (route, key) {\n                return cloneElement(route, {\n                    key: key,\n                    render: function (routeProps) {\n                        return renderCustomRoutesWithoutLayout(route, routeProps);\n                    },\n                });\n            }),\n            React.createElement(Route, { path: \"/\", render: function () {\n                    return createElement(layout, {\n                        dashboard: dashboard,\n                        logout: logout,\n                        menu: menu,\n                        theme: theme,\n                        title: title,\n                    }, React.createElement(RoutesWithLayout, { catchAll: catchAll, customRoutes: customRoutes.filter(function (route) { return !route.props.noLayout; }), dashboard: dashboard, title: title }, Children.map(childrenToRender, function (child) {\n                        return cloneElement(child, {\n                            key: child.props.name,\n                            intent: 'route',\n                        });\n                    })));\n                } }))));\n};\nCoreAdminRouter.defaultProps = {\n    customRoutes: [],\n};\nexport default CoreAdminRouter;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { createElement } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport CoreAdminRouter from './CoreAdminRouter';\nvar DefaultLayout = function (_a) {\n    var children = _a.children;\n    return (React.createElement(React.Fragment, null, children));\n};\nvar CoreAdminUI = function (_a) {\n    var _b = _a.catchAll, catchAll = _b === void 0 ? Noop : _b, children = _a.children, _c = _a.customRoutes, customRoutes = _c === void 0 ? [] : _c, dashboard = _a.dashboard, _d = _a.layout, layout = _d === void 0 ? DefaultLayout : _d, _e = _a.loading, loading = _e === void 0 ? Noop : _e, _f = _a.loginPage, loginPage = _f === void 0 ? false : _f, logout = _a.logout, menu = _a.menu, // deprecated, use a custom layout instead\n    theme = _a.theme, _g = _a.title, title = _g === void 0 ? 'React Admin' : _g;\n    return (React.createElement(Switch, null,\n        loginPage !== false && loginPage !== true ? (React.createElement(Route, { exact: true, path: \"/login\", render: function (props) {\n                return createElement(loginPage, __assign(__assign({}, props), { title: title,\n                    theme: theme }));\n            } })) : null,\n        React.createElement(Route, { path: \"/\", render: function (props) { return (React.createElement(CoreAdminRouter, __assign({ catchAll: catchAll, customRoutes: customRoutes, dashboard: dashboard, layout: layout, loading: loading, logout: logout && createElement(logout), menu: menu, theme: theme, title: title }, props), children)); } })));\n};\nvar Noop = function () { return null; };\nexport default CoreAdminUI;\n","import { useContext, useCallback } from 'react';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Translate a string using the current locale and the translations from the i18nProvider\n *\n * @see Polyglot.t()\n * @link https://airbnb.io/polyglot.js/#polyglotprototypetkey-interpolationoptions\n *\n * @return {Function} A translation function, accepting two arguments\n *   - a string used as key in the translations\n *   - an interpolationOptions object\n *\n * @example\n *\n * import { useTranslate } from 'react-admin';\n *\n * const SettingsMenu = () => {\n *     const translate = useTranslate();\n *     return <MenuItem>{translate('settings')}</MenuItem>;\n * }\n */\nvar useTranslate = function () {\n    var _a = useContext(TranslationContext), i18nProvider = _a.i18nProvider, locale = _a.locale;\n    var translate = useCallback(function (key, options) {\n        return i18nProvider.translate(key, options);\n    }, \n    // update the hook each time the locale changes\n    [i18nProvider, locale] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return i18nProvider ? translate : identity;\n};\nvar identity = function (key) { return key; };\nexport default useTranslate;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport NavigationRefresh from '@material-ui/icons/Refresh';\nimport { refreshView, useTranslate } from 'ra-core';\nvar RefreshIconButton = function (_a) {\n    var _b = _a.label, label = _b === void 0 ? 'ra.action.refresh' : _b, _c = _a.icon, icon = _c === void 0 ? defaultIcon : _c, onClick = _a.onClick, className = _a.className, rest = __rest(_a, [\"label\", \"icon\", \"onClick\", \"className\"]);\n    var dispatch = useDispatch();\n    var translate = useTranslate();\n    var handleClick = useCallback(function (event) {\n        event.preventDefault();\n        dispatch(refreshView());\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [dispatch, onClick]);\n    return (React.createElement(Tooltip, { title: label && translate(label, { _: label }) },\n        React.createElement(IconButton, __assign({ \"aria-label\": label && translate(label, { _: label }), className: className, color: \"inherit\", onClick: handleClick }, rest), icon)));\n};\nvar defaultIcon = React.createElement(NavigationRefresh, null);\nRefreshIconButton.propTypes = {\n    className: PropTypes.string,\n    label: PropTypes.string,\n    icon: PropTypes.element,\n};\nexport default RefreshIconButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useRefreshWhenVisible } from 'ra-core';\nimport RefreshIconButton from '../button/RefreshIconButton';\nvar useStyles = makeStyles({\n    loader: {\n        margin: 14,\n    },\n}, { name: 'RaLoadingIndicator' });\nvar LoadingIndicator = function (props) {\n    var classesOverride = props.classes, className = props.className, rest = __rest(props, [\"classes\", \"className\"]);\n    useRefreshWhenVisible();\n    var loading = useSelector(function (state) { return state.admin.loading > 0; });\n    var classes = useStyles(props);\n    return loading ? (React.createElement(CircularProgress, __assign({ className: classNames('app-loader', classes.loader, className), color: \"inherit\", size: 18, thickness: 5 }, rest))) : (React.createElement(RefreshIconButton, null));\n};\nLoadingIndicator.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    width: PropTypes.string,\n};\nexport default LoadingIndicator;\n","import React, { Children, cloneElement, isValidElement, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslate } from 'ra-core';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nvar UserMenu = function (props) {\n    var _a = useState(null), anchorEl = _a[0], setAnchorEl = _a[1];\n    var translate = useTranslate();\n    var children = props.children, label = props.label, icon = props.icon, logout = props.logout;\n    if (!logout && !children)\n        return null;\n    var open = Boolean(anchorEl);\n    var handleMenu = function (event) { return setAnchorEl(event.currentTarget); };\n    var handleClose = function () { return setAnchorEl(null); };\n    return (React.createElement(\"div\", null,\n        React.createElement(Tooltip, { title: label && translate(label, { _: label }) },\n            React.createElement(IconButton, { \"aria-label\": label && translate(label, { _: label }), \"aria-owns\": open ? 'menu-appbar' : null, \"aria-haspopup\": true, color: \"inherit\", onClick: handleMenu }, icon)),\n        React.createElement(Menu, { id: \"menu-appbar\", anchorEl: anchorEl, anchorOrigin: {\n                vertical: 'top',\n                horizontal: 'right',\n            }, transformOrigin: {\n                vertical: 'top',\n                horizontal: 'right',\n            }, open: open, onClose: handleClose },\n            Children.map(children, function (menuItem) {\n                return isValidElement(menuItem)\n                    ? cloneElement(menuItem, {\n                        onClick: handleClose,\n                    })\n                    : null;\n            }),\n            logout)));\n};\nUserMenu.propTypes = {\n    children: PropTypes.node,\n    label: PropTypes.string.isRequired,\n    logout: PropTypes.element,\n    icon: PropTypes.node,\n};\nUserMenu.defaultProps = {\n    label: 'ra.auth.user_menu',\n    icon: React.createElement(AccountCircle, null),\n};\nexport default UserMenu;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport Slide from '@material-ui/core/Slide';\nfunction HideOnScroll(props) {\n    var children = props.children;\n    var trigger = useScrollTrigger();\n    return (React.createElement(Slide, { appear: false, direction: \"down\", in: !trigger }, children));\n}\nHideOnScroll.propTypes = {\n    children: PropTypes.node.isRequired,\n};\nexport default HideOnScroll;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport classNames from 'classnames';\nimport { AppBar as MuiAppBar, IconButton, Toolbar, Tooltip, Typography, makeStyles, useMediaQuery, } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { toggleSidebar, useTranslate } from 'ra-core';\nimport LoadingIndicator from './LoadingIndicator';\nimport DefaultUserMenu from './UserMenu';\nimport HideOnScroll from './HideOnScroll';\nvar useStyles = makeStyles(function (theme) { return ({\n    toolbar: {\n        paddingRight: 24,\n    },\n    menuButton: {\n        marginLeft: '0.5em',\n        marginRight: '0.5em',\n    },\n    menuButtonIconClosed: {\n        transition: theme.transitions.create(['transform'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        transform: 'rotate(0deg)',\n    },\n    menuButtonIconOpen: {\n        transition: theme.transitions.create(['transform'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        transform: 'rotate(180deg)',\n    },\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n    },\n}); }, { name: 'RaAppBar' });\n/**\n * The AppBar component renders a custom MuiAppBar.\n *\n * @param {ReactNode} children React node/s to be render as children of the AppBar\n * @param {Object} classes CSS class names\n * @param {string} className CSS class applied to the MuiAppBar component\n * @param {string} color The color of the AppBar\n * @param {Component} logout The logout button component that will be pass to the UserMenu component\n * @param {boolean} open State of the <Admin/> Sidebar\n * @param {Element} userMenu A custom user menu component for the AppBar. <UserMenu/> component by default\n *\n * @example\n *\n * const MyAppBar = props => {\n *   const classes = useStyles();\n *   return (\n *       <AppBar {...props}>\n *           <Typography\n *               variant=\"h6\"\n *               color=\"inherit\"\n *               className={classes.title}\n *               id=\"react-admin-title\"\n *           />\n *        </AppBar>\n *    );\n *};\n */\nvar AppBar = function (props) {\n    var children = props.children, classesOverride = props.classes, className = props.className, _a = props.color, color = _a === void 0 ? 'secondary' : _a, logo = props.logo, logout = props.logout, open = props.open, title = props.title, userMenu = props.userMenu, rest = __rest(props, [\"children\", \"classes\", \"className\", \"color\", \"logo\", \"logout\", \"open\", \"title\", \"userMenu\"]);\n    var classes = useStyles(props);\n    var dispatch = useDispatch();\n    var isXSmall = useMediaQuery(function (theme) { return theme.breakpoints.down('xs'); });\n    var translate = useTranslate();\n    return (React.createElement(HideOnScroll, null,\n        React.createElement(MuiAppBar, __assign({ className: className, color: color }, rest),\n            React.createElement(Toolbar, { disableGutters: true, variant: isXSmall ? 'regular' : 'dense', className: classes.toolbar },\n                React.createElement(Tooltip, { title: translate(open\n                        ? 'ra.action.close_menu'\n                        : 'ra.action.open_menu', {\n                        _: 'Open/Close menu',\n                    }), enterDelay: 500 },\n                    React.createElement(IconButton, { color: \"inherit\", onClick: function () { return dispatch(toggleSidebar()); }, className: classNames(classes.menuButton) },\n                        React.createElement(MenuIcon, { classes: {\n                                root: open\n                                    ? classes.menuButtonIconOpen\n                                    : classes.menuButtonIconClosed,\n                            } }))),\n                Children.count(children) === 0 ? (React.createElement(Typography, { variant: \"h6\", color: \"inherit\", className: classes.title, id: \"react-admin-title\" })) : (children),\n                React.createElement(LoadingIndicator, null),\n                cloneElement(userMenu, { logout: logout })))));\n};\nAppBar.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    color: PropTypes.oneOf([\n        'default',\n        'inherit',\n        'primary',\n        'secondary',\n        'transparent',\n    ]),\n    logout: PropTypes.element,\n    open: PropTypes.bool,\n    userMenu: PropTypes.element,\n};\nAppBar.defaultProps = {\n    userMenu: React.createElement(DefaultUserMenu, null),\n};\nexport default AppBar;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Drawer, makeStyles, useMediaQuery } from '@material-ui/core';\nimport lodashGet from 'lodash/get';\nimport { setSidebarVisibility } from 'ra-core';\nexport var DRAWER_WIDTH = 240;\nexport var CLOSED_DRAWER_WIDTH = 55;\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        drawerPaper: (_a = {\n                position: 'relative',\n                height: 'auto',\n                overflowX: 'hidden',\n                width: function (props) {\n                    return props.open\n                        ? lodashGet(theme, 'sidebar.width', DRAWER_WIDTH)\n                        : lodashGet(theme, 'sidebar.closedWidth', CLOSED_DRAWER_WIDTH);\n                },\n                transition: theme.transitions.create('width', {\n                    easing: theme.transitions.easing.sharp,\n                    duration: theme.transitions.duration.leavingScreen,\n                }),\n                backgroundColor: 'transparent',\n                marginTop: '0.5em',\n                borderRight: 'none'\n            },\n            _a[theme.breakpoints.only('xs')] = {\n                marginTop: 0,\n                height: '100vh',\n                position: 'inherit',\n                backgroundColor: theme.palette.background.default,\n            },\n            _a[theme.breakpoints.up('md')] = {\n                border: 'none',\n                marginTop: '1.5em',\n            },\n            _a.zIndex = 'inherit',\n            _a),\n    });\n}, { name: 'RaSidebar' });\nvar Sidebar = function (props) {\n    var children = props.children, closedSize = props.closedSize, size = props.size, classesOverride = props.classes, rest = __rest(props, [\"children\", \"closedSize\", \"size\", \"classes\"]);\n    var dispatch = useDispatch();\n    var isXSmall = useMediaQuery(function (theme) { return theme.breakpoints.down('xs'); });\n    var isSmall = useMediaQuery(function (theme) { return theme.breakpoints.down('sm'); });\n    // FIXME negating isXSmall and isSmall should be enough, but unfortunately\n    // mui media queries use a two pass system and are always false at first\n    // see https://github.com/mui-org/material-ui/issues/14336\n    var isDesktop = useMediaQuery(function (theme) { return theme.breakpoints.up('md'); });\n    useEffect(function () {\n        if (isDesktop) {\n            dispatch(setSidebarVisibility(true)); // FIXME renders with a closed sidebar at first\n        }\n    }, [isDesktop, dispatch]);\n    var open = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    useSelector(function (state) { return state.locale; }); // force redraw on locale change\n    var handleClose = function () { return dispatch(setSidebarVisibility(false)); };\n    var toggleSidebar = function () { return dispatch(setSidebarVisibility(!open)); };\n    var classes = useStyles(__assign(__assign({}, props), { open: open }));\n    return isXSmall ? (React.createElement(Drawer, __assign({ variant: \"temporary\", open: open, PaperProps: {\n            className: classes.drawerPaper,\n        }, onClose: toggleSidebar }, rest), cloneElement(Children.only(children), {\n        onMenuClick: handleClose,\n    }))) : isSmall ? (React.createElement(Drawer, __assign({ variant: \"permanent\", open: open, PaperProps: {\n            className: classes.drawerPaper,\n        }, onClose: toggleSidebar }, rest), cloneElement(Children.only(children), {\n        onMenuClick: handleClose,\n    }))) : (React.createElement(Drawer, __assign({ variant: \"permanent\", open: open, PaperProps: {\n            className: classes.drawerPaper,\n        }, onClose: toggleSidebar }, rest), children));\n};\nSidebar.propTypes = {\n    children: PropTypes.node.isRequired,\n};\nexport default Sidebar;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef, cloneElement, useCallback, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nvar NavLinkRef = forwardRef(function (props, ref) { return (React.createElement(NavLink, __assign({ innerRef: ref }, props))); });\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        color: theme.palette.text.secondary,\n    },\n    active: {\n        color: theme.palette.text.primary,\n    },\n    icon: { minWidth: theme.spacing(5) },\n}); }, { name: 'RaMenuItemLink' });\nvar MenuItemLink = forwardRef(function (props, ref) {\n    var classesOverride = props.classes, className = props.className, primaryText = props.primaryText, leftIcon = props.leftIcon, onClick = props.onClick, sidebarIsOpen = props.sidebarIsOpen, rest = __rest(props, [\"classes\", \"className\", \"primaryText\", \"leftIcon\", \"onClick\", \"sidebarIsOpen\"]);\n    var classes = useStyles(props);\n    var handleMenuTap = useCallback(function (e) {\n        onClick && onClick(e);\n    }, [onClick]);\n    var renderMenuItem = function () {\n        return (React.createElement(MenuItem, __assign({ className: classnames(classes.root, className), activeClassName: classes.active, component: NavLinkRef, ref: ref }, rest, { onClick: handleMenuTap }),\n            leftIcon && (React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(leftIcon, {\n                titleAccess: primaryText,\n            }))),\n            primaryText));\n    };\n    if (sidebarIsOpen) {\n        return renderMenuItem();\n    }\n    return (React.createElement(Tooltip, { title: primaryText, placement: \"right\" }, renderMenuItem()));\n});\nMenuItemLink.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    leftIcon: PropTypes.element,\n    onClick: PropTypes.func,\n    primaryText: PropTypes.node,\n    staticContext: PropTypes.object,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n    sidebarIsOpen: PropTypes.bool,\n};\nexport default MenuItemLink;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport { useTranslate } from 'ra-core';\nimport MenuItemLink from './MenuItemLink';\nvar DashboardMenuItem = function (_a) {\n    var locale = _a.locale, onClick = _a.onClick, props = __rest(_a, [\"locale\", \"onClick\"]);\n    var translate = useTranslate();\n    return (React.createElement(MenuItemLink, __assign({ onClick: onClick, to: \"/\", primaryText: translate('ra.page.dashboard'), leftIcon: React.createElement(DashboardIcon, null), exact: true }, props)));\n};\nDashboardMenuItem.propTypes = {\n    classes: PropTypes.object,\n    locale: PropTypes.string,\n    onClick: PropTypes.func,\n    dense: PropTypes.bool,\n    sidebarIsOpen: PropTypes.bool,\n};\nexport default DashboardMenuItem;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useSelector } from 'react-redux';\n// @ts-ignore\nimport inflection from 'inflection';\nimport { makeStyles, useMediaQuery } from '@material-ui/core';\nimport DefaultIcon from '@material-ui/icons/ViewList';\nimport classnames from 'classnames';\nimport { getResources, useTranslate } from 'ra-core';\nimport DashboardMenuItem from './DashboardMenuItem';\nimport MenuItemLink from './MenuItemLink';\nvar useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n    },\n}, { name: 'RaMenu' });\nvar translatedResourceName = function (resource, translate) {\n    return translate(\"resources.\" + resource.name + \".name\", {\n        smart_count: 2,\n        _: resource.options && resource.options.label\n            ? translate(resource.options.label, {\n                smart_count: 2,\n                _: resource.options.label,\n            })\n            : inflection.humanize(inflection.pluralize(resource.name)),\n    });\n};\nvar Menu = function (props) {\n    var classesOverride = props.classes, className = props.className, dense = props.dense, hasDashboard = props.hasDashboard, onMenuClick = props.onMenuClick, logout = props.logout, rest = __rest(props, [\"classes\", \"className\", \"dense\", \"hasDashboard\", \"onMenuClick\", \"logout\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var open = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var resources = useSelector(getResources, shallowEqual);\n    // Used to force redraw on navigation\n    useSelector(function (state) { return state.router.location.pathname; });\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.main, className) }, rest),\n        hasDashboard && (React.createElement(DashboardMenuItem, { onClick: onMenuClick, dense: dense, sidebarIsOpen: open })),\n        resources\n            .filter(function (r) { return r.hasList; })\n            .map(function (resource) { return (React.createElement(MenuItemLink, { key: resource.name, to: \"/\" + resource.name, primaryText: translatedResourceName(resource, translate), leftIcon: resource.icon ? React.createElement(resource.icon, null) : React.createElement(DefaultIcon, null), onClick: onMenuClick, dense: dense, sidebarIsOpen: open })); }),\n        isXSmall && logout));\n};\nMenu.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    dense: PropTypes.bool,\n    hasDashboard: PropTypes.bool,\n    logout: PropTypes.element,\n    onMenuClick: PropTypes.func,\n};\nMenu.defaultProps = {\n    onMenuClick: function () { return null; },\n};\nexport default Menu;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { hideNotification, getNotification, undo, complete, undoableEventEmitter, useTranslate, } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    error: {\n        backgroundColor: theme.palette.error.dark,\n        color: theme.palette.error.contrastText,\n    },\n    warning: {\n        backgroundColor: theme.palette.error.light,\n        color: theme.palette.error.contrastText,\n    },\n    undo: {\n        color: theme.palette.primary.light,\n    },\n}); }, { name: 'RaNotification' });\nvar Notification = function (props) {\n    var classesOverride = props.classes, type = props.type, className = props.className, autoHideDuration = props.autoHideDuration, rest = __rest(props, [\"classes\", \"type\", \"className\", \"autoHideDuration\"]);\n    var _a = useState(false), open = _a[0], setOpen = _a[1];\n    var notification = useSelector(getNotification);\n    var dispatch = useDispatch();\n    var translate = useTranslate();\n    var styles = useStyles(props);\n    useEffect(function () {\n        setOpen(!!notification);\n    }, [notification]);\n    var handleRequestClose = useCallback(function () {\n        setOpen(false);\n    }, [setOpen]);\n    var handleExited = useCallback(function () {\n        if (notification && notification.undoable) {\n            dispatch(complete());\n            undoableEventEmitter.emit('end', { isUndo: false });\n        }\n        dispatch(hideNotification());\n    }, [dispatch, notification]);\n    var handleUndo = useCallback(function () {\n        dispatch(undo());\n        undoableEventEmitter.emit('end', { isUndo: true });\n    }, [dispatch]);\n    return (React.createElement(Snackbar, __assign({ open: open, message: notification &&\n            notification.message &&\n            translate(notification.message, notification.messageArgs), autoHideDuration: (notification && notification.autoHideDuration) ||\n            autoHideDuration, disableWindowBlurListener: notification && notification.undoable, onExited: handleExited, onClose: handleRequestClose, ContentProps: {\n            className: classnames(styles[(notification && notification.type) || type], className),\n        }, action: notification && notification.undoable ? (React.createElement(Button, { color: \"primary\", className: styles.undo, size: \"small\", onClick: handleUndo }, translate('ra.action.undo'))) : null }, rest)));\n};\nNotification.propTypes = {\n    type: PropTypes.string,\n};\nNotification.defaultProps = {\n    type: 'info',\n    autoHideDuration: 4000,\n};\nexport default Notification;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { cloneElement } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { useTranslate, warning } from 'ra-core';\nvar Title = function (_a) {\n    var className = _a.className, defaultTitle = _a.defaultTitle, locale = _a.locale, record = _a.record, title = _a.title, rest = __rest(_a, [\"className\", \"defaultTitle\", \"locale\", \"record\", \"title\"]);\n    var translate = useTranslate();\n    var container = typeof document !== 'undefined'\n        ? document.getElementById('react-admin-title')\n        : null;\n    if (!container)\n        return null;\n    warning(!defaultTitle && !title, 'Missing title prop in <Title> element');\n    var titleElement = !title ? (React.createElement(\"span\", __assign({ className: className }, rest), defaultTitle)) : typeof title === 'string' ? (React.createElement(\"span\", __assign({ className: className }, rest), translate(title, { _: title }))) : (cloneElement(title, __assign({ className: className, record: record }, rest)));\n    return createPortal(titleElement, container);\n};\nexport var TitlePropType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n]);\nTitle.propTypes = {\n    defaultTitle: PropTypes.string,\n    className: PropTypes.string,\n    locale: PropTypes.string,\n    record: PropTypes.object,\n    title: TitlePropType,\n};\nexport default Title;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Button from '@material-ui/core/Button';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ErrorIcon from '@material-ui/icons/Report';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport History from '@material-ui/icons/History';\nimport Title, { TitlePropType } from './Title';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        container: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'center'\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                padding: '1em',\n            },\n            _a.fontFamily = 'Roboto, sans-serif',\n            _a.opacity = 0.5,\n            _a),\n        title: {\n            display: 'flex',\n            alignItems: 'center',\n        },\n        icon: {\n            width: '2em',\n            height: '2em',\n            marginRight: '0.5em',\n        },\n        panel: {\n            marginTop: '1em',\n        },\n        panelDetails: {\n            whiteSpace: 'pre-wrap',\n        },\n        toolbar: {\n            marginTop: '2em',\n        },\n    });\n}, { name: 'RaError' });\nfunction goBack() {\n    window.history.go(-1);\n}\nvar Error = function (props) {\n    var error = props.error, errorInfo = props.errorInfo, classesOverride = props.classes, className = props.className, title = props.title, rest = __rest(props, [\"error\", \"errorInfo\", \"classes\", \"className\", \"title\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(Fragment, null,\n        React.createElement(Title, { defaultTitle: title }),\n        React.createElement(\"div\", __assign({ className: classnames(classes.container, className) }, rest),\n            React.createElement(\"h1\", { className: classes.title, role: \"alert\" },\n                React.createElement(ErrorIcon, { className: classes.icon }),\n                translate('ra.page.error')),\n            React.createElement(\"div\", null, translate('ra.message.error')),\n            process.env.NODE_ENV !== 'production' && (React.createElement(ExpansionPanel, { className: classes.panel },\n                React.createElement(ExpansionPanelSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) }, translate('ra.message.details')),\n                React.createElement(ExpansionPanelDetails, { className: classes.panelDetails },\n                    React.createElement(\"div\", null,\n                        React.createElement(\"h2\", null, translate(error.toString())),\n                        errorInfo.componentStack)))),\n            React.createElement(\"div\", { className: classes.toolbar },\n                React.createElement(Button, { variant: \"contained\", icon: React.createElement(History, null), onClick: goBack }, translate('ra.action.back'))))));\n};\nError.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    error: PropTypes.object.isRequired,\n    errorInfo: PropTypes.object,\n    title: TitlePropType,\n};\nexport default Error;\n","export default {\n    palette: {\n        secondary: {\n            light: '#6ec6ff',\n            main: '#2196f3',\n            dark: '#0069c0',\n            contrastText: '#fff',\n        },\n    },\n    typography: {\n        title: {\n            fontWeight: 400,\n        },\n    },\n    sidebar: {\n        width: 240,\n        closedWidth: 55,\n    },\n    overrides: {\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n    },\n};\n","import { isValidElementType } from 'react-is';\nexport default (function (props, propName, componentName) {\n    if (props[propName] && !isValidElementType(props[propName])) {\n        return new Error(\"Invalid prop '\" + propName + \"' supplied to '\" + componentName + \"': the prop is not a valid React component\");\n    }\n});\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Component, createElement, useEffect, useRef, useState, } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport classnames from 'classnames';\nimport { withRouter } from 'react-router-dom';\nimport { createMuiTheme, withStyles, createStyles, } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport compose from 'recompose/compose';\nimport DefaultAppBar from './AppBar';\nimport DefaultSidebar from './Sidebar';\nimport DefaultMenu from './Menu';\nimport DefaultNotification from './Notification';\nimport DefaultError from './Error';\nimport defaultTheme from '../defaultTheme';\nimport { ComponentPropType } from 'ra-core';\nvar styles = function (theme) {\n    var _a, _b;\n    return createStyles({\n        root: {\n            display: 'flex',\n            flexDirection: 'column',\n            zIndex: 1,\n            minHeight: '100vh',\n            backgroundColor: theme.palette.background.default,\n            position: 'relative',\n            minWidth: 'fit-content',\n            width: '100%',\n        },\n        appFrame: (_a = {\n                display: 'flex',\n                flexDirection: 'column'\n            },\n            _a[theme.breakpoints.up('xs')] = {\n                marginTop: theme.spacing(6),\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                marginTop: theme.spacing(7),\n            },\n            _a),\n        contentWithSidebar: {\n            display: 'flex',\n            flexGrow: 1,\n        },\n        content: (_b = {\n                display: 'flex',\n                flexDirection: 'column',\n                flexGrow: 1,\n                flexBasis: 0,\n                padding: theme.spacing(3),\n                paddingTop: theme.spacing(1),\n                paddingLeft: 0\n            },\n            _b[theme.breakpoints.up('xs')] = {\n                paddingLeft: 5,\n            },\n            _b[theme.breakpoints.down('sm')] = {\n                padding: 0,\n            },\n            _b),\n    });\n};\nvar sanitizeRestProps = function (_a) {\n    var staticContext = _a.staticContext, history = _a.history, location = _a.location, match = _a.match, props = __rest(_a, [\"staticContext\", \"history\", \"location\", \"match\"]);\n    return props;\n};\nvar Layout = /** @class */ (function (_super) {\n    __extends(Layout, _super);\n    function Layout(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = { hasError: false, errorMessage: null, errorInfo: null };\n        /**\n         * Reset the error state upon navigation\n         *\n         * @see https://stackoverflow.com/questions/48121750/browser-navigation-broken-by-use-of-react-error-boundaries\n         */\n        props.history.listen(function () {\n            if (_this.state.hasError) {\n                _this.setState({ hasError: false });\n            }\n        });\n        return _this;\n    }\n    Layout.prototype.componentDidCatch = function (errorMessage, errorInfo) {\n        this.setState({ hasError: true, errorMessage: errorMessage, errorInfo: errorInfo });\n    };\n    Layout.prototype.render = function () {\n        var _a = this.props, appBar = _a.appBar, children = _a.children, classes = _a.classes, className = _a.className, customRoutes = _a.customRoutes, error = _a.error, dashboard = _a.dashboard, logout = _a.logout, menu = _a.menu, notification = _a.notification, open = _a.open, sidebar = _a.sidebar, title = _a.title, props = __rest(_a, [\"appBar\", \"children\", \"classes\", \"className\", \"customRoutes\", \"error\", \"dashboard\", \"logout\", \"menu\", \"notification\", \"open\", \"sidebar\", \"title\"]);\n        var _b = this.state, hasError = _b.hasError, errorMessage = _b.errorMessage, errorInfo = _b.errorInfo;\n        return (React.createElement(\"div\", __assign({ className: classnames('layout', classes.root, className) }, sanitizeRestProps(props)),\n            React.createElement(\"div\", { className: classes.appFrame },\n                createElement(appBar, { title: title, open: open, logout: logout }),\n                React.createElement(\"main\", { className: classes.contentWithSidebar },\n                    createElement(sidebar, {\n                        children: createElement(menu, {\n                            logout: logout,\n                            hasDashboard: !!dashboard,\n                        }),\n                    }),\n                    React.createElement(\"div\", { className: classes.content }, hasError\n                        ? createElement(error, {\n                            error: errorMessage,\n                            errorInfo: errorInfo,\n                            title: title,\n                        })\n                        : children)),\n                createElement(notification))));\n    };\n    return Layout;\n}(Component));\nLayout.propTypes = {\n    appBar: ComponentPropType,\n    children: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    customRoutes: PropTypes.array,\n    dashboard: ComponentPropType,\n    error: ComponentPropType,\n    history: PropTypes.object.isRequired,\n    logout: PropTypes.element,\n    menu: ComponentPropType,\n    notification: ComponentPropType,\n    open: PropTypes.bool,\n    sidebar: ComponentPropType,\n    title: PropTypes.node.isRequired,\n};\nLayout.defaultProps = {\n    appBar: DefaultAppBar,\n    error: DefaultError,\n    menu: DefaultMenu,\n    notification: DefaultNotification,\n    sidebar: DefaultSidebar,\n};\nvar mapStateToProps = function (state) { return ({\n    open: state.admin.ui.sidebarOpen,\n}); };\nvar EnhancedLayout = compose(connect(mapStateToProps, {} // Avoid connect passing dispatch in props\n), withRouter, withStyles(styles, { name: 'RaLayout' }))(Layout);\nvar LayoutWithTheme = function (_a) {\n    var themeOverride = _a.theme, props = __rest(_a, [\"theme\"]);\n    var themeProp = useRef(themeOverride);\n    var _b = useState(createMuiTheme(themeOverride)), theme = _b[0], setTheme = _b[1];\n    useEffect(function () {\n        if (themeProp.current !== themeOverride) {\n            themeProp.current = themeOverride;\n            setTheme(createMuiTheme(themeOverride));\n        }\n    }, [themeOverride, themeProp, theme, setTheme]);\n    return (React.createElement(ThemeProvider, { theme: theme },\n        React.createElement(EnhancedLayout, __assign({}, props))));\n};\nLayoutWithTheme.propTypes = {\n    theme: PropTypes.object,\n};\nLayoutWithTheme.defaultProps = {\n    theme: defaultTheme,\n};\nexport default LayoutWithTheme;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport HotTub from '@material-ui/icons/HotTub';\nimport History from '@material-ui/icons/History';\nimport classnames from 'classnames';\nimport { useAuthenticated, useTranslate } from 'ra-core';\nimport Title from './Title';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        container: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center'\n            },\n            _a[theme.breakpoints.up('md')] = {\n                height: '100%',\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                height: '100vh',\n                marginTop: '-3em',\n            },\n            _a),\n        icon: {\n            width: '9em',\n            height: '9em',\n        },\n        message: {\n            textAlign: 'center',\n            fontFamily: 'Roboto, sans-serif',\n            opacity: 0.5,\n            margin: '0 1em',\n        },\n        toolbar: {\n            textAlign: 'center',\n            marginTop: '2em',\n        },\n    });\n}, { name: 'RaNotFound' });\nfunction goBack() {\n    window.history.go(-1);\n}\nvar NotFound = function (props) {\n    var className = props.className, classesOverride = props.classes, title = props.title, rest = __rest(props, [\"className\", \"classes\", \"title\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    useAuthenticated();\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.container, className) }, sanitizeRestProps(rest)),\n        React.createElement(Title, { defaultTitle: title }),\n        React.createElement(\"div\", { className: classes.message },\n            React.createElement(HotTub, { className: classes.icon }),\n            React.createElement(\"h1\", null, translate('ra.page.not_found')),\n            React.createElement(\"div\", null,\n                translate('ra.message.not_found'),\n                \".\")),\n        React.createElement(\"div\", { className: classes.toolbar },\n            React.createElement(Button, { variant: \"contained\", icon: React.createElement(History, null), onClick: goBack }, translate('ra.action.back')))));\n};\nvar sanitizeRestProps = function (_a) {\n    var staticContext = _a.staticContext, history = _a.history, location = _a.location, match = _a.match, rest = __rest(_a, [\"staticContext\", \"history\", \"location\", \"match\"]);\n    return rest;\n};\nNotFound.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    title: PropTypes.string,\n    location: PropTypes.object,\n};\nexport default NotFound;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        container: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center'\n            },\n            _a[theme.breakpoints.up('md')] = {\n                height: '100%',\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                height: '100vh',\n                marginTop: '-3em',\n            },\n            _a),\n        icon: {\n            width: '9em',\n            height: '9em',\n        },\n        message: {\n            textAlign: 'center',\n            fontFamily: 'Roboto, sans-serif',\n            opacity: 0.5,\n            margin: '0 1em',\n        },\n    });\n}, { name: 'RaLoading' });\nvar Loading = function (props) {\n    var className = props.className, _a = props.loadingPrimary, loadingPrimary = _a === void 0 ? 'ra.page.loading' : _a, _b = props.loadingSecondary, loadingSecondary = _b === void 0 ? 'ra.message.loading' : _b;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(\"div\", { className: classnames(classes.container, className) },\n        React.createElement(\"div\", { className: classes.message },\n            React.createElement(CircularProgress, { className: classes.icon, color: \"primary\" }),\n            React.createElement(\"h1\", null, translate(loadingPrimary)),\n            React.createElement(\"div\", null,\n                translate(loadingSecondary),\n                \".\"))));\n};\nLoading.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    loadingPrimary: PropTypes.string,\n    loadingSecondary: PropTypes.string,\n};\nLoading.defaultProps = {\n    loadingPrimary: 'ra.page.loading',\n    loadingSecondary: 'ra.message.loading',\n};\nexport default Loading;\n","import { useCallback } from 'react';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { useLocation, useHistory } from 'react-router-dom';\n/**\n * Get a callback for calling the authProvider.login() method\n * and redirect to the previous authenticated page (or the home page) on success.\n *\n * @see useAuthProvider\n *\n * @returns {Function} login callback\n *\n * @example\n *\n * import { useLogin } from 'react-admin';\n *\n * const LoginButton = () => {\n *     const [loading, setLoading] = useState(false);\n *     const login = useLogin();\n *     const handleClick = {\n *         setLoading(true);\n *         login({ username: 'john', password: 'p@ssw0rd' }, '/posts')\n *             .then(() => setLoading(false));\n *     }\n *     return <button onClick={handleClick}>Login</button>;\n * }\n */\nvar useLogin = function () {\n    var authProvider = useAuthProvider();\n    var location = useLocation();\n    var locationState = location.state;\n    var history = useHistory();\n    var nextPathName = locationState && locationState.nextPathname;\n    var login = useCallback(function (params, pathName) {\n        if (params === void 0) { params = {}; }\n        if (pathName === void 0) { pathName = defaultAuthParams.afterLoginUrl; }\n        return authProvider.login(params).then(function (ret) {\n            history.push(nextPathName || pathName);\n            return ret;\n        });\n    }, [authProvider, history, nextPathName]);\n    var loginWithoutProvider = useCallback(function (_, __) {\n        history.push(defaultAuthParams.afterLoginUrl);\n        return Promise.resolve();\n    }, [history]);\n    return authProvider ? login : loginWithoutProvider;\n};\nexport default useLogin;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, Form } from 'react-final-form';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useLogin, useNotify, useSafeSetState } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    button: {\n        width: '100%',\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n    },\n}); }, { name: 'RaLoginForm' });\nvar Input = function (_a) {\n    var _b = _a.meta, touched = _b.touched, error = _b.error, // eslint-disable-line react/prop-types\n    inputProps = _a.input, // eslint-disable-line react/prop-types\n    props = __rest(_a, [\"meta\", \"input\"]);\n    return (React.createElement(TextField, __assign({ error: !!(touched && error), helperText: touched && error }, inputProps, props, { fullWidth: true })));\n};\nvar LoginForm = function (props) {\n    var redirectTo = props.redirectTo;\n    var _a = useSafeSetState(false), loading = _a[0], setLoading = _a[1];\n    var login = useLogin();\n    var translate = useTranslate();\n    var notify = useNotify();\n    var classes = useStyles(props);\n    var validate = function (values) {\n        var errors = { username: undefined, password: undefined };\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n    var submit = function (values) {\n        setLoading(true);\n        login(values, redirectTo)\n            .then(function () {\n            setLoading(false);\n        })\n            .catch(function (error) {\n            setLoading(false);\n            notify(typeof error === 'string'\n                ? error\n                : typeof error === 'undefined' || !error.message\n                    ? 'ra.auth.sign_in_error'\n                    : error.message, 'warning');\n        });\n    };\n    return (React.createElement(Form, { onSubmit: submit, validate: validate, render: function (_a) {\n            var handleSubmit = _a.handleSubmit;\n            return (React.createElement(\"form\", { onSubmit: handleSubmit, noValidate: true },\n                React.createElement(\"div\", { className: classes.form },\n                    React.createElement(\"div\", { className: classes.input },\n                        React.createElement(Field, { autoFocus: true, id: \"username\", name: \"username\", component: Input, label: translate('ra.auth.username'), disabled: loading })),\n                    React.createElement(\"div\", { className: classes.input },\n                        React.createElement(Field, { id: \"password\", name: \"password\", component: Input, label: translate('ra.auth.password'), type: \"password\", disabled: loading, autoComplete: \"current-password\" }))),\n                React.createElement(CardActions, null,\n                    React.createElement(Button, { variant: \"contained\", type: \"submit\", color: \"primary\", disabled: loading, className: classes.button },\n                        loading && (React.createElement(CircularProgress, { className: classes.icon, size: 18, thickness: 2 })),\n                        translate('ra.auth.sign_in')))));\n        } }));\n};\nLoginForm.propTypes = {\n    redirectTo: PropTypes.string,\n};\nexport default LoginForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useRef, useEffect, useMemo, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Card, Avatar, createMuiTheme, makeStyles, } from '@material-ui/core';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { useHistory } from 'react-router-dom';\nimport { useCheckAuth } from 'ra-core';\nimport defaultTheme from '../defaultTheme';\nimport Notification from '../layout/Notification';\nimport DefaultLoginForm from './LoginForm';\nvar useStyles = makeStyles(function (theme) { return ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        height: '1px',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        backgroundImage: 'radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary[500],\n    },\n}); }, { name: 'RaLogin' });\n/**\n * A standalone login page, to serve as authentication gate to the admin\n *\n * Expects the user to enter a login and a password, which will be checked\n * by the `authProvider.login()` method. Redirects to the root page (/)\n * upon success, otherwise displays an authentication error message.\n *\n * Copy and adapt this component to implement your own login logic\n * (e.g. to authenticate via email or facebook or anything else).\n *\n * @example\n *     import MyLoginPage from './MyLoginPage';\n *     const App = () => (\n *         <Admin loginPage={MyLoginPage} authProvider={authProvider}>\n *             ...\n *        </Admin>\n *     );\n */\nvar Login = function (props) {\n    var theme = props.theme, classesOverride = props.classes, className = props.className, children = props.children, staticContext = props.staticContext, backgroundImage = props.backgroundImage, rest = __rest(props, [\"theme\", \"classes\", \"className\", \"children\", \"staticContext\", \"backgroundImage\"]);\n    var containerRef = useRef();\n    var classes = useStyles(props);\n    var muiTheme = useMemo(function () { return createMuiTheme(theme); }, [theme]);\n    var backgroundImageLoaded = false;\n    var checkAuth = useCheckAuth();\n    var history = useHistory();\n    useEffect(function () {\n        checkAuth({}, false)\n            .then(function () {\n            // already authenticated, redirect to the home page\n            history.push('/');\n        })\n            .catch(function () {\n            // not authenticated, stay on the login page\n        });\n    }, [checkAuth, history]);\n    var updateBackgroundImage = function () {\n        if (!backgroundImageLoaded && containerRef.current) {\n            containerRef.current.style.backgroundImage = \"url(\" + backgroundImage + \")\";\n            backgroundImageLoaded = true;\n        }\n    };\n    // Load background image asynchronously to speed up time to interactive\n    var lazyLoadBackgroundImage = function () {\n        if (backgroundImage) {\n            var img = new Image();\n            img.onload = updateBackgroundImage;\n            img.src = backgroundImage;\n        }\n    };\n    useEffect(function () {\n        if (!backgroundImageLoaded) {\n            lazyLoadBackgroundImage();\n        }\n    });\n    return (React.createElement(ThemeProvider, { theme: muiTheme },\n        React.createElement(\"div\", __assign({ className: classnames(classes.main, className) }, rest, { ref: containerRef }),\n            React.createElement(Card, { className: classes.card },\n                React.createElement(\"div\", { className: classes.avatar },\n                    React.createElement(Avatar, { className: classes.icon },\n                        React.createElement(LockIcon, null))),\n                children),\n            React.createElement(Notification, null))));\n};\nLogin.propTypes = {\n    backgroundImage: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    theme: PropTypes.object,\n    staticContext: PropTypes.object,\n};\nLogin.defaultProps = {\n    theme: defaultTheme,\n    children: React.createElement(DefaultLoginForm, null),\n};\nexport default Login;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { ListItemIcon, MenuItem, makeStyles } from '@material-ui/core';\nimport ExitIcon from '@material-ui/icons/PowerSettingsNew';\nimport classnames from 'classnames';\nimport { useTranslate, useLogout } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    menuItem: {\n        color: theme.palette.text.secondary,\n    },\n    icon: { minWidth: theme.spacing(5) },\n}); }, { name: 'RaLogout' });\n/**\n * Logout button component, to be passed to the Admin component\n *\n * Used for the Logout Menu item in the sidebar\n */\nvar LogoutWithRef = React.forwardRef(function Logout(props, ref) {\n    var className = props.className, classesOverride = props.classes, redirectTo = props.redirectTo, icon = props.icon, rest = __rest(props, [\"className\", \"classes\", \"redirectTo\", \"icon\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var logout = useLogout();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var handleClick = useCallback(function () { return logout(redirectTo); }, [\n        redirectTo,\n        logout,\n    ]);\n    return (React.createElement(MenuItem, __assign({ className: classnames('logout', classes.menuItem, className), onClick: handleClick, ref: ref }, rest),\n        React.createElement(ListItemIcon, { className: classes.icon }, icon ? icon : React.createElement(ExitIcon, null)),\n        translate('ra.auth.logout')));\n});\nLogoutWithRef.propTypes = {\n    className: PropTypes.string,\n    redirectTo: PropTypes.string,\n    icon: PropTypes.element,\n};\nexport default LogoutWithRef;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { CoreAdminUI } from 'ra-core';\nimport { Layout as DefaultLayout, Loading, Login, Logout, NotFound, } from 'ra-ui-materialui';\nvar AdminUI = function (props) { return React.createElement(CoreAdminUI, __assign({}, props)); };\nAdminUI.defaultProps = {\n    layout: DefaultLayout,\n    catchAll: NotFound,\n    loading: Loading,\n    loginPage: Login,\n    logout: Logout,\n};\nexport default AdminUI;\n","import React from 'react';\nimport AdminContext from './AdminContext';\nimport AdminUI from './AdminUI';\n/**\n * Main admin component, entry point to the application.\n *\n * Initializes the various contexts (auth, data, i18n, redux, router)\n * and defines the main routes.\n *\n * Expects a list of resources as children, or a function returning a list of\n * resources based on the permissions.\n *\n * @example\n *\n * // static list of resources\n *\n * import {\n *     Admin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <Admin dataProvider={myDataProvider}>\n *         <Resource name=\"posts\" list={ListGuesser} />\n *     </Admin>\n * );\n *\n * // dynamic list of resources based on permissions\n *\n * import {\n *     Admin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <Admin dataProvider={myDataProvider}>\n *         {permissions => [\n *             <Resource name=\"posts\" key=\"posts\" list={ListGuesser} />,\n *         ]}\n *     </Admin>\n * );\n *\n * // If you have to build a dynamic list of resources using a side effect,\n * // you can't use <Admin>. But as it delegates to sub components,\n * // it's relatively straightforward to replace it:\n *\n * import React, { useEffect, useState } from 'react';\n * import {\n *     AdminContext,\n *     AdminUI,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <AdminContext dataProvider={myDataProvider}>\n *         <Resources />\n *     </AdminContext>\n * );\n *\n * const Resources = () => {\n *     const [resources, setResources] = useState([]);\n *     const dataProvider = useDataProvider();\n *     useEffect(() => {\n *         dataProvider.introspect().then(r => setResources(r));\n *     }, []);\n *\n *     return (\n *         <AdminUI>\n *             {resources.map(resource => (\n *                 <Resource name={resource.name} key={resource.key} list={ListGuesser} />\n *             ))}\n *         </AdminUI>\n *     );\n * };\n */\nvar Admin = function (_a) {\n    var appLayout = _a.appLayout, authProvider = _a.authProvider, catchAll = _a.catchAll, children = _a.children, customReducers = _a.customReducers, _b = _a.customRoutes, customRoutes = _b === void 0 ? [] : _b, customSagas = _a.customSagas, dashboard = _a.dashboard, dataProvider = _a.dataProvider, history = _a.history, i18nProvider = _a.i18nProvider, initialState = _a.initialState, layout = _a.layout, loading = _a.loading, locale = _a.locale, loginPage = _a.loginPage, logoutButton = _a.logoutButton, menu = _a.menu, // deprecated, use a custom layout instead\n    theme = _a.theme, _c = _a.title, title = _c === void 0 ? 'React Admin' : _c;\n    if (appLayout && process.env.NODE_ENV !== 'production') {\n        console.warn('You are using deprecated prop \"appLayout\", it was replaced by \"layout\", see https://github.com/marmelab/react-admin/issues/2918');\n    }\n    if (loginPage === true && process.env.NODE_ENV !== 'production') {\n        console.warn('You passed true to the loginPage prop. You must either pass false to disable it or a component class to customize it');\n    }\n    if (locale && process.env.NODE_ENV !== 'production') {\n        console.warn('You are using deprecated prop \"locale\". You must now pass the initial locale to your i18nProvider');\n    }\n    return (React.createElement(AdminContext, { authProvider: authProvider, dataProvider: dataProvider, i18nProvider: i18nProvider, history: history, customReducers: customReducers, customSagas: customSagas, initialState: initialState },\n        React.createElement(AdminUI, { layout: appLayout || layout, customRoutes: customRoutes, dashboard: dashboard, menu: menu, catchAll: catchAll, theme: theme, title: title, loading: loading, loginPage: loginPage, logout: authProvider ? logoutButton : undefined }, children)));\n};\nexport default Admin;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\nimport WithPermissions from '../auth/WithPermissions';\nimport { registerResource, unregisterResource } from '../actions';\nvar defaultOptions = {};\nvar ResourceRegister = function (_a) {\n    var name = _a.name, list = _a.list, create = _a.create, edit = _a.edit, show = _a.show, icon = _a.icon, _b = _a.options, options = _b === void 0 ? defaultOptions : _b;\n    var dispatch = useDispatch();\n    useEffect(function () {\n        dispatch(registerResource({\n            name: name,\n            options: options,\n            hasList: !!list,\n            hasEdit: !!edit,\n            hasShow: !!show,\n            hasCreate: !!create,\n            icon: icon,\n        }));\n        return function () { return dispatch(unregisterResource(name)); };\n    }, [dispatch, name, create, edit, icon, list, show, options]);\n    return null;\n};\nvar ResourceRoutes = function (_a) {\n    var name = _a.name, match = _a.match, list = _a.list, create = _a.create, edit = _a.edit, show = _a.show, _b = _a.options, options = _b === void 0 ? defaultOptions : _b;\n    var isRegistered = useSelector(function (state) { return !!state.admin.resources[name]; });\n    var basePath = match ? match.path : '';\n    // match tends to change even on the same route ; using memo to avoid an extra render\n    return useMemo(function () {\n        // if the registration hasn't finished, no need to render\n        if (!isRegistered) {\n            return null;\n        }\n        var props = {\n            resource: name,\n            options: options,\n            hasList: !!list,\n            hasEdit: !!edit,\n            hasShow: !!show,\n            hasCreate: !!create,\n        };\n        return (React.createElement(Switch, null,\n            create && (React.createElement(Route, { path: basePath + \"/create\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: create, basePath: basePath }, routeProps, props))); } })),\n            show && (React.createElement(Route, { path: basePath + \"/:id/show\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: show, basePath: basePath, id: decodeURIComponent(routeProps.match.params\n                        .id) }, routeProps, props))); } })),\n            edit && (React.createElement(Route, { path: basePath + \"/:id\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: edit, basePath: basePath, id: decodeURIComponent(routeProps.match.params\n                        .id) }, routeProps, props))); } })),\n            list && (React.createElement(Route, { path: \"\" + basePath, render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: list, basePath: basePath }, routeProps, props))); } }))));\n    }, [basePath, name, create, edit, list, show, options, isRegistered]); // eslint-disable-line react-hooks/exhaustive-deps\n};\nvar Resource = function (_a) {\n    var _b = _a.intent, intent = _b === void 0 ? 'route' : _b, props = __rest(_a, [\"intent\"]);\n    return intent === 'registration' ? (React.createElement(ResourceRegister, __assign({}, props))) : (React.createElement(ResourceRoutes, __assign({}, props)));\n};\nexport default Resource;\n","import { AuthProvider } from 'ra-core';\n\nconst authProvider: AuthProvider = {\n    login: ({ username }) => {\n        localStorage.setItem('username', username);\n        // accept all username/password combinations\n        return Promise.resolve();\n    },\n    logout: () => {\n        localStorage.removeItem('username');\n        return Promise.resolve();\n    },\n    checkError: () => Promise.resolve(),\n    checkAuth: () =>\n        localStorage.getItem('username') ? Promise.resolve() : Promise.reject(),\n    getPermissions: () => Promise.reject('Unknown method'),\n};\n\nexport default authProvider;\n","import { ThemeName } from '../types';\n\nexport const CHANGE_THEME = 'CHANGE_THEME';\n\nexport const changeTheme = (theme: ThemeName) => ({\n    type: CHANGE_THEME,\n    payload: theme,\n});\n","import { CHANGE_THEME } from './configuration/actions';\n\nexport default (previousState = 'light', { type, payload }) => {\n    if (type === CHANGE_THEME) {\n        return payload;\n    }\n    return previousState;\n};\n","import React, { SVGProps } from 'react';\n\nconst Logo = (props: SVGProps<SVGSVGElement>) => (\n    <svg width={234.532} height={20.475} viewBox=\"0 0 62.053 5.417\" {...props}>\n        <g\n            aria-label=\"~Posters Galore~\"\n            style={{\n                lineHeight: 1.25,\n            }}\n            fontWeight={400}\n            fontSize={7.056}\n            fontFamily=\"Permanent Marker\"\n            letterSpacing={0}\n            wordSpacing={0}\n            strokeWidth={0.265}\n            fill=\"#fff\"\n        >\n            <path d=\"M.227 3.659Q.124 3.652.062 3.61 0 3.562 0 3.486q0-.068.062-.124.041-.103.083-.165L.24 3.06q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.103.048.165.09.07.04.131.096.076.04.118.09.048.04.082.089.02.027.083.09.062.061.151.061.083 0 .138-.075.062-.076.124-.131.055-.145.18-.22.055-.028.089-.035l.076-.014q.02-.007.041-.007l.035-.014.075-.007h.09q.117-.034.207-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.09.131l-.137.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.056.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035zM4.417 3.225q.007-.028.027-.021.028 0 .048-.007-.055-.055-.068-.145-.014-.096-.07-.158.014-.035.021-.069.014-.034.062-.028-.02-.151.007-.282.028-.131.083-.248.062-.117.138-.228.082-.117.158-.234.062-.014.076.014.014.02.048-.014.11-.076.152-.165.041-.097.041-.207.062-.179.138-.351.083-.18.186-.331.103-.152.22-.262.118-.117.255-.179.097-.083.242-.152.151-.068.316-.103.173-.041.352-.041.179-.007.33.034.035.014.042-.014Q7.228 0 7.255 0q.345.041.614.138.275.096.468.269.131.206.248.447.117.235.18.496.068.255.061.531-.007.276-.117.551-.241.303-.585.49-.345.179-.745.303-.392.117-.82.193-.42.075-.82.165.007.186 0 .4-.006.206-.048.42-.034.207-.11.406-.069.2-.193.372-.138-.006-.29.028-.144.034-.261.069l-.11-.069q-.049-.028-.124-.034.02-.083-.042-.173-.055-.09-.117-.172-.055-.09-.076-.172-.013-.09.083-.159-.055-.048-.055-.151.028.027.069.027-.014-.124.027-.296.049-.172.076-.338.035-.172.014-.31-.02-.144-.165-.206zm1.791-1.613l-.048.138q-.014.055-.035.103-.02.049-.048.097l-.048.11q.014.042.055.062.041.02.055.062.097-.048.193-.069.097-.027.193-.041.096-.014.193-.035.096-.02.2-.068.103-.049.213-.076l.228-.07q.11-.034.213-.075.104-.048.18-.124-.097-.09-.29-.158-.193-.07-.42-.083-.22-.02-.448.028-.22.048-.386.2zM12.506 3.1q-.007.083.013.16.021.075.049.15.034.07.062.145.027.076.041.152.014.096 0 .214-.014.11-.048.22-.035.103-.09.193-.055.083-.13.124-.097.124-.235.193-.138.069-.255.165-.076.048-.172.07l-.186.04q-.076.042-.18.09l-.213.083q-.11.034-.22.055-.11.014-.193.007-.207.076-.407.096-.193.028-.455-.027-.248.034-.461-.021-.207-.055-.372-.172-.159-.124-.283-.29-.117-.172-.193-.358-.055-.393.028-.71.083-.323.234-.592.159-.276.358-.503.2-.234.386-.455.042.014.062 0 .028-.02.048-.048.021-.035.042-.062.027-.028.062-.035.048-.103.138-.151.096-.055.151-.152.062-.014.104-.041.04-.028.075-.062.042-.035.083-.062.041-.035.097-.048v-.076q.124-.055.179-.124l.144-.18q.062-.006.097-.006.041 0 .117-.014.055-.096.096-.145.049-.048.138-.103.083.041.18.055.103.014.178.09.007.069.042.11.034.034.076.069.041.027.075.062.042.034.056.096.027.007.034-.007.014-.013.041-.007.021.097.049.131.027.028.055.117-.035.07-.055.145-.014.07-.083.104-.007.048.027.055.035 0 .042.034.007.062-.02.09.164.268.295.572.131.296.297.565zm-.862.655q.028-.076.07-.124.048-.048.054-.145-.034-.055-.04-.082-.008-.035-.008-.104-.151-.213-.262-.454-.11-.248-.248-.462-.013.028-.048.055-.034.028-.076-.014-.013.055-.048.083-.034.02-.076.02-.041-.006-.09-.02-.04-.02-.075-.048-.2.158-.4.31-.2.151-.358.351-.028.014-.034.014-.007-.007-.042.007-.055.13-.138.241-.075.103-.151.214-.076.11-.131.234-.055.124-.062.29.117.096.276.116.158.021.323.007.173-.013.331-.041.165-.034.303-.034.29-.07.496-.18.207-.117.434-.234zM12.898 2.067q.049-.145.152-.248.11-.103.234-.172.131-.076.269-.124t.262-.083q.275-.117.585-.22.317-.11.641-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.07.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.076.096.104 0 .18.049.075.048.124.117.048.069.069.151.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.082.09.13.2.014.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.138.007-.075 0-.158-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.44-.014.215-.048.4-.13.187-.083.352-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.076-.02q-.13-.076-.296-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.414-.124-.013-.035-.034-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145z\" />\n            <path d=\"M19.988 1.853q-.172 0-.372.028-.2.02-.392.048-.138.02-.27.035-.123.013-.226.02-.049.152-.097.27-.048.116-.103.226-.055.118-.104.242-.041.117-.082.255-.07.11-.117.206-.042.09-.07.207-.082.103-.123.22-.042.11-.062.193l-.028.083q-.041.041-.048.069-.007.02-.035.041-.007.076-.048.152-.014.034-.02.069-.007.027-.007.041 0 .069-.035.09.007.034 0 .075l-.014.07q-.02.082-.013.13l.034.049q.02.02.028.055.04.027.062.034.027.02.082.048l.062.07q.035.199-.062.316-.103.131-.351.131h-.083q-.034-.034-.041-.055l-.09-.034q-.034-.014-.062-.056-.09-.04-.144-.068l-.062-.035v-.083q-.049-.062-.076-.137-.02-.076-.035-.152-.013-.062-.034-.117-.014-.055-.041-.097-.014-.4.075-.675.09-.275.186-.53l.11-.276q.056-.145.097-.296l.062-.07.076-.178.069-.152q.02-.048.034-.09l.035-.082q-.042 0-.076.007-.035 0-.069.007l-.076.013h-.069q-.048 0-.069-.006-.075.034-.165.034H17.019q-.014-.007-.028-.007-.069 0-.11.02h-.228q-.013 0-.034.008h-.034q-.049 0-.104-.007-.055-.014-.117-.048-.082-.11-.11-.118l-.062-.082q-.007-.042-.02-.076-.014-.041-.028-.09-.028-.069-.055-.144-.021-.083-.021-.193.007-.055.028-.083l.034-.048.02-.104.09.007h.193q.22 0 .448-.013l.469-.042.275-.027.296-.028q.028-.062.056-.117l.068-.034q.124-.007.173.034.055.034.09.069l.302-.028q.159-.02.317-.048.235-.034.469-.062.241-.027.462-.027.096 0 .186.006.09.007.165.021l.069.048q.02.042.055.076l.083.069q.082.076.165.18.083.103.062.302-.055.083-.083.097l-.062.082-.069-.006q-.04 0-.075.013-.035.007-.07.021l-.054.028-.062.013h-.104q-.034-.007-.076-.007z\" />\n            <path d=\"M23.303 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.338.324-.186.082-.407.124-.22.034-.454.075-.228.042-.455.18-.09-.035-.166 0-.068.034-.206.02-.042.042-.104.062-.062.014-.124.035.028.062.021.13 0 .063.02.104.242.02.531-.007.297-.028.58-.034.006.034-.008.048-.014.007-.007.034.049.035.097.09l.096.096q.048.049.097.083.055.028.124.02.027.056.034.125.014.062-.014.13-.11.076-.22.159-.11.076-.234.138-.118.062-.255.103-.131.035-.297.028h-.055q-.014 0-.041-.02-.055.034-.159.02-.096-.014-.151.02-.076-.034-.186-.027-.104 0-.186-.028-.11.145-.2.31-.09.166-.159.352.235.034.386.027.159-.007.297-.02.137-.021.282-.035.145-.02.365-.014.138-.075.324-.096.193-.028.352-.083.055.021.096.076.041.048.076.097.041.04.082.075.042.035.104.028.027.027.034.069.014.034.02.069.008.034.022.062.02.02.062.013-.104.228-.242.352-.13.117-.303.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.04-.014-.096-.014-.158.035-.379.062-.22.028-.448.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.075-.11-.014-.07-.09-.104-.007-.09-.027-.2l-.042-.227q-.02-.124-.034-.24-.007-.118.014-.215.02-.103.082-.186.07-.082.048-.179.035-.007.042-.034.007-.035.055-.028.041-.124.09-.234.048-.11.096-.214.055-.103.103-.206.055-.11.104-.241-.097-.09-.145-.193-.041-.11-.062-.214-.02-.11-.035-.22-.013-.118-.048-.235.07-.103.166-.165.103-.069.22-.11.117-.042.255-.07.138-.027.29-.061.275-.09.489-.138.22-.048.427-.076.213-.034.44-.062.228-.027.518-.083.062.062.117.062.027-.062.062-.034.041.02.034-.041.07.117.172.2.11.075.242.13zM24.185 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.125.02-.034.035-.075.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.014-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.035 0-.056-.048-.02-.049-.048-.097.02-.124.042-.234.02-.11.048-.207.034-.096.055-.193.02-.096-.02-.2.027.021.04-.007.014-.034.021-.082.007-.055.007-.104 0-.055-.007-.09.07-.178.11-.364.049-.193.083-.38.041-.185.083-.364.041-.18.11-.331.076-.014.165.02.097.028.118.076.179-.138.317-.33.137-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.172.104.282.276.056.027.09.062.041.028.097.062v.083q.082.075.13.179.056.096.097.213l.083.228q.04.11.096.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.008.027 0 .076-.02.303-.199.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .02.035.166.103.262.165.097.062.18.103.09.042.186.076.103.028.282.07.18.04.276.068.103.02.186.041l.165.028.248.02q.062.063.104.152.048.083.062.172.013.083.006.166-.006.076-.048.124.007.02.028.02.027-.006.055 0-.041.028-.069.07l-.055.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.406-.165-.152-.076-.27-.145-.11-.075-.206-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.151.206-.069.11-.097.262.242-.027.503-.13.262-.111.496-.208-.027-.213-.151-.344-.117-.13-.248-.172zM27.01 2.067q.048-.145.151-.248.11-.103.234-.172.131-.076.27-.124.137-.048.26-.083.277-.117.587-.22.317-.11.64-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.069.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.077.096.103 0 .179.049.076.048.124.117t.069.151q.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.083.09.13.2.015.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.137.007-.076 0-.159-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.441-.014.214-.048.4-.13.186-.083.351-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.075-.02q-.131-.076-.297-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.413-.124-.014-.035-.035-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145zM32.797 3.535q0-.076.021-.138.02-.062.007-.159.213-.454.482-.84.276-.393.655-.69.062-.047.096-.096.042-.055.076-.103.041-.048.09-.083.048-.041.124-.055.172-.2.413-.365.241-.165.503-.317t.524-.31q.268-.159.482-.345.076.049.117.035.048-.02.097-.007.062.13.158.186.103.048.207.103.11.049.2.124.096.07.144.193-.048 0-.048.035.007.034.02.076.014.04.014.075 0 .035-.062.035 0 .048.049.048.048 0 .048.048 0 .042-.02.07-.015.02 0 .075-.166.11-.373.214l-.427.206q-.22.11-.455.241-.227.124-.455.29-.227.165-.461.365-.228.2-.441.427-.214.22-.4.462-.186.234-.317.461.014.035.035.062.027.028.041.063.262.013.49 0 .227-.021.454.027.028-.02.034-.055.007-.035.042-.048.468-.049.875-.152.406-.11.827-.22-.124-.049-.22-.076-.042-.041 0-.069.047-.034.075-.069-.11-.062-.186-.165-.069-.104-.083-.269.049-.041.049-.096 0-.056-.049-.09-.034-.014-.041 0l-.014.027q0 .014-.014.028-.007.014-.034 0 .007-.076.034-.124.028-.048.042-.117l.572-.38q.09.07.22.146.131.075.276.151.144.076.296.159.152.075.282.151.125.055.214.138.09.076.172.165l.166.166q.082.082.2.138-.014.11.013.179.028.069.014.165-.13.234-.317.4-.186.158-.42.275-.228.117-.49.2-.261.076-.537.152-.275.069-.558.151-.276.076-.544.18-.117 0-.2.006-.083.007-.159.021l-.151.028q-.076.013-.165.02-.035-.007-.049.014-.007.02-.027.035-.138.02-.248.02h-.186q-.097 0-.2.028-.104.027-.193.02-.62-.027-.972-.44-.351-.414-.385-1.137.006-.035-.014-.042-.02-.014-.035-.027z\" />\n            <path d=\"M42.01 4.589q-.042.117-.125.241-.075.117-.186.214-.103.09-.234.151-.13.062-.275.07-.09-.022-.124-.05-.028-.02-.062-.04-.021-.014-.042-.021-.014-.014-.027-.02l-.083-.035.028-.09q.013-.055-.007-.083-.021-.034-.083-.09l-.041-.04q-.021-.021-.035-.042l-.117-.13.186-.049q.172-.048.227-.124.062-.076.049-.255-.138-.027-.235-.007-.09.02-.186.048-.124.035-.255.062-.124.021-.275.021h-.104l-.103-.014-.069-.013q-.014-.076-.027-.083l-.028-.028q-.034-.034-.076-.09-.034-.061-.013-.15-.035-.063-.042-.125-.041.083-.062.172l-.027.07-.07.013q-.013.007-.02.035-.007.02-.007.034l-.034.117-.028.028q-.014.007-.027.02-.014.062-.035.124-.02.062-.041.118-.035.09-.062.179-.02.082-.014.165l-.028.076q-.034.041-.075.069l-.083.041q-.014.014-.041.028l-.035.013-.02.076-.083.014-.11.02q-.028.008-.07.008l-.068-.007-.117-.097q-.042-.041-.097-.076-.062-.082-.069-.124l-.014-.075q-.013-.042-.013-.07-.007-.027-.021-.04l-.09-.083.076-.062.007-.117q.138-.352.29-.676l.323-.661q.056-.11.104-.22l.11-.221q-.007-.02-.007-.048t.014-.062q.076-.118.124-.207l.096-.193q.055-.117.11-.227.063-.11.152-.228l.11-.048.049-.014q.027-.014.062-.014l.103.014q.193-.09.338-.248.144-.165.296-.393l.069-.096.09.055q.034.02.096.041.062.014.13.035.125.027.235.062.11.034.18.103.04.11.047.166.007.055.021.11.02.117.035.234.02.117.027.262.035.117.055.234.028.11.048.228l.07.323q.034.152.089.29.055 0 .069.007.034-.014.069-.021l.09-.014.075-.007.028.07q.007.034.069.068.09.007.13.042.042.027.076.062.028.027.055.04l.104.042-.055.104q-.07.124-.2.24-.124.111-.283.187.007.041.007.082.007.035.02.076.022.117.035.241.014.124 0 .255zm-1.992-1.192q.207-.014.372-.028.173-.02.38-.062-.049-.206-.104-.427-.055-.227-.117-.448l-.042.07q-.137.144-.268.323-.124.18-.214.338l-.083.124q-.04.062-.075.124.041-.007.075-.007.042 0 .076-.007zM44.29 5.092q-.193.062-.42.124-.228.062-.455.062-.344 0-.544-.172-.035-.076-.062-.104l-.042-.055q-.013-.034-.02-.09-.083-.096-.131-.22-.048-.13-.07-.262-.013-.138-.006-.275.014-.138.048-.262.014-.028.014-.055l.014-.062q.027-.11.055-.214.034-.103.09-.179-.028-.062 0-.138.027-.076.061-.138.097-.261.159-.44.069-.187.138-.366.117-.31.22-.613.104-.303.186-.655.055-.034.083-.048.041-.014.069-.02.124.062.29.124.165.055.275.055.055.034.069.055l.027.027q.076.09.131.186.055.09.035.242-.042.062-.062.062-.035.137-.076.234-.035.096-.076.193-.048.103-.09.206-.04.104-.068.255-.028.035-.042.062-.007.028-.02.062-.014.035-.035.076-.014.035-.048.062-.02.18-.069.29-.041.11-.09.22-.082.2-.151.4-.062.2-.076.454.035-.013.062-.013h.062q.062 0 .145.02.207-.11.448-.13.248-.021.489-.028H45q.096 0 .179-.014.062.035.076.041h.055q.048 0 .083.007.082.076.158.11.076.035.159.063.075.027.144.062.076.027.145.082l.048.297q.048.062.041.082 0 .055-.027.083l.014.076q-.104.02-.145.048-.034.027-.069.062-.055.007-.083.007h-.04q-.097 0-.235.034-.186-.062-.386-.062-.076 0-.159.007l-.165.014q-.083.014-.172.02-.083.008-.172.008zM50.25 3.1q-.007.083.014.16.02.075.048.15.035.07.062.145.028.076.041.152.014.096 0 .214-.013.11-.048.22-.034.103-.09.193-.054.083-.13.124-.097.124-.235.193-.137.069-.254.165-.076.048-.173.07l-.186.04q-.076.042-.179.09l-.213.083q-.11.034-.221.055-.11.014-.193.007-.207.076-.406.096-.193.028-.455-.027-.248.034-.462-.021-.207-.055-.372-.172-.158-.124-.282-.29-.118-.172-.193-.358-.055-.393.027-.71.083-.323.235-.592.158-.276.358-.503.2-.234.386-.455.041.014.062 0 .027-.02.048-.048.02-.035.041-.062.028-.028.062-.035.048-.103.138-.151.097-.055.152-.152.062-.014.103-.041.041-.028.076-.062.041-.035.082-.062.042-.035.097-.048v-.076q.124-.055.18-.124l.144-.18q.062-.006.096-.006.042 0 .117-.014.056-.096.097-.145.048-.048.138-.103.082.041.179.055.103.014.179.09.007.069.041.11.035.034.076.069.041.027.076.062.041.034.055.096.028.007.034-.007.014-.013.042-.007.02.097.048.131.028.028.055.117-.034.07-.055.145-.014.07-.083.104-.007.048.028.055.034 0 .041.034.007.062-.02.09.165.268.296.572.13.296.296.565zm-.861.655q.027-.076.069-.124.048-.048.055-.145-.035-.055-.041-.082-.007-.035-.007-.104-.152-.213-.262-.454-.11-.248-.248-.462-.014.028-.048.055-.035.028-.076-.014-.014.055-.048.083-.035.02-.076.02-.042-.006-.09-.02-.041-.02-.076-.048-.2.158-.4.31-.2.151-.358.351-.027.014-.034.014-.007-.007-.041.007-.055.13-.138.241-.076.103-.152.214-.076.11-.13.234-.056.124-.063.29.118.096.276.116.158.021.324.007.172-.013.33-.041.166-.034.304-.034.29-.07.496-.18.207-.117.434-.234zM51.78 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.124.02-.035.035-.076.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.013-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.034 0-.055-.048-.02-.049-.048-.097.02-.124.04-.234.022-.11.05-.207.034-.096.054-.193.02-.096-.02-.2.027.021.04-.007.015-.034.022-.082.007-.055.007-.104 0-.055-.007-.09.068-.178.11-.364.048-.193.082-.38l.083-.364q.041-.18.11-.331.076-.014.166.02.096.028.117.076.179-.138.317-.33.138-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.173.104.283.276.055.027.09.062.04.028.096.062v.083q.083.075.13.179.056.096.097.213.042.11.083.228.041.11.097.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.007.027 0 .076-.02.303-.2.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .021.035.166.103.262.165.097.062.18.103.089.042.185.076.104.028.283.07.179.04.275.068.104.02.186.041l.166.028.248.02q.062.063.103.152.048.083.062.172.014.083.007.166-.007.076-.048.124.007.02.028.02.027-.006.055 0-.042.028-.07.07l-.054.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.407-.165-.151-.076-.268-.145-.11-.075-.207-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.15.206-.07.11-.097.262.24-.027.503-.13.261-.111.496-.208-.028-.213-.152-.344-.117-.13-.248-.172zM58.332 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.337.324-.186.082-.407.124-.22.034-.455.075-.227.042-.454.18-.09-.035-.166 0-.069.034-.207.02-.04.042-.103.062-.062.014-.124.035.028.062.02.13 0 .063.021.104.242.02.531-.007.296-.028.579-.034.007.034-.007.048-.014.007-.007.034.048.035.096.09l.097.096q.048.049.096.083.055.028.124.02.028.056.035.125.014.062-.014.13-.11.076-.22.159-.11.076-.235.138-.117.062-.255.103-.13.035-.296.028h-.055q-.014 0-.041-.02-.056.034-.159.02-.096-.014-.152.02-.075-.034-.186-.027-.103 0-.186-.028-.11.145-.2.31-.089.166-.158.352.234.034.386.027.158-.007.296-.02.138-.021.283-.035.144-.02.365-.014.138-.075.324-.096.193-.028.351-.083.055.021.097.076.041.048.075.097.042.04.083.075.041.035.104.028.027.027.034.069.014.034.02.069.008.034.021.062.021.02.062.013-.103.228-.24.352-.132.117-.304.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.041-.014-.096-.014-.159.035-.38.062-.22.028-.447.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.076-.11-.013-.07-.09-.104-.006-.09-.027-.2l-.041-.227q-.02-.124-.035-.24-.007-.118.014-.215.02-.103.083-.186.069-.082.048-.179.035-.007.041-.034.007-.035.056-.028.04-.124.09-.234.047-.11.096-.214.055-.103.103-.206.055-.11.103-.241-.096-.09-.144-.193-.042-.11-.062-.214-.021-.11-.035-.22-.014-.118-.048-.235.069-.103.165-.165.104-.069.22-.11.118-.042.256-.07.138-.027.29-.061.275-.09.488-.138.22-.048.427-.076.214-.034.441-.062.228-.027.517-.083.062.062.117.062.028-.062.062-.034.042.02.035-.041.069.117.172.2.11.075.241.13zM58.394 3.659q-.103-.007-.165-.049-.062-.048-.062-.124 0-.068.062-.124.041-.103.083-.165l.096-.138q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.104.048.166.09.068.04.13.096.076.04.118.09.048.04.082.089.021.027.083.09.062.061.152.061.082 0 .137-.075.062-.076.124-.131.056-.145.18-.22.055-.028.09-.035l.075-.014q.02-.007.041-.007.021-.007.035-.014l.076-.007h.09q.116-.034.206-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.089.131l-.138.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.055.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035z\" />\n        </g>\n    </svg>\n);\n\nexport default Logo;\n","import React, { forwardRef } from 'react';\nimport { AppBar, UserMenu, MenuItemLink, useTranslate } from 'react-admin';\nimport Typography from '@material-ui/core/Typography';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Logo from './Logo';\n\nconst useStyles = makeStyles({\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n    },\n    spacer: {\n        flex: 1,\n    },\n});\n\nconst ConfigurationMenu = forwardRef<any, any>((props, ref) => {\n    const translate = useTranslate();\n    return (\n        <MenuItemLink\n            ref={ref}\n            to=\"/configuration\"\n            primaryText={translate('pos.configuration')}\n            leftIcon={<SettingsIcon />}\n            onClick={props.onClick}\n        />\n    );\n});\n\nconst CustomUserMenu = (props: any) => (\n    <UserMenu {...props}>\n        <ConfigurationMenu />\n    </UserMenu>\n);\n\nconst CustomAppBar = (props: any) => {\n    const classes = useStyles();\n    return (\n        <AppBar {...props} userMenu={<CustomUserMenu />}>\n            <Typography\n                variant=\"h6\"\n                color=\"inherit\"\n                className={classes.title}\n                id=\"react-admin-title\"\n            />\n            <Logo />\n            <span className={classes.spacer} />\n        </AppBar>\n    );\n};\n\nexport default CustomAppBar;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nvar checkMinimumRequiredProps = function (displayName, requiredProps) { return function (WrappedComponent) { return function (props) {\n    useCheckMinimumRequiredProps(displayName, requiredProps, props);\n    return React.createElement(WrappedComponent, __assign({}, props));\n}; }; };\nexport default checkMinimumRequiredProps;\n// Not a hook but named that way to avoid conflicts with the old one\nexport var useCheckMinimumRequiredProps = function (displayName, requiredProps, props) {\n    var propNames = Object.keys(props);\n    var missingProps = requiredProps.filter(function (prop) { return !propNames.includes(prop); });\n    if (missingProps.length > 0) {\n        throw new Error(\"<\" + displayName + \"> component is not properly configured, some essential props are missing.\\nBe sure to pass the props from the parent. Example:\\n\\nconst My\" + displayName + \" = props => (\\n    <\" + displayName + \" {...props}></\" + displayName + \">\\n);\\n\\nThe missing props are: \" + missingProps.join(', '));\n    }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var SET_SORT = 'SET_SORT';\nexport var SORT_ASC = 'ASC';\nexport var SORT_DESC = 'DESC';\nexport var SET_PAGE = 'SET_PAGE';\nexport var SET_PER_PAGE = 'SET_PER_PAGE';\nexport var SET_FILTER = 'SET_FILTER';\nvar oppositeOrder = function (direction) {\n    return direction === SORT_DESC ? SORT_ASC : SORT_DESC;\n};\n/**\n * This reducer is for the react-router query string, NOT for redux.\n */\nvar queryReducer = function (previousState, _a) {\n    var type = _a.type, payload = _a.payload;\n    switch (type) {\n        case SET_SORT:\n            if (payload.sort === previousState.sort) {\n                return __assign(__assign({}, previousState), { order: oppositeOrder(previousState.order), page: 1 });\n            }\n            return __assign(__assign({}, previousState), { sort: payload.sort, order: payload.order || SORT_ASC, page: 1 });\n        case SET_PAGE:\n            return __assign(__assign({}, previousState), { page: payload });\n        case SET_PER_PAGE:\n            return __assign(__assign({}, previousState), { page: 1, perPage: payload });\n        case SET_FILTER: {\n            return __assign(__assign({}, previousState), { page: 1, filter: payload.filter, displayedFilters: payload.displayedFilters\n                    ? payload.displayedFilters\n                    : previousState.displayedFilters });\n        }\n        default:\n            return previousState;\n    }\n};\nexport default queryReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { shallowEqual } from 'recompose';\nvar isObject = function (obj) {\n    return obj && Object.prototype.toString.call(obj) === '[object Object]';\n};\nvar isEmpty = function (obj) {\n    return obj instanceof Date\n        ? false\n        : obj === '' || obj === null || shallowEqual(obj, {});\n};\nvar removeEmpty = function (object) {\n    return Object.keys(object).reduce(function (acc, key) {\n        var _a;\n        var child = object[key];\n        if (isObject(object[key])) {\n            child = removeEmpty(object[key]);\n        }\n        return isEmpty(child) ? acc : __assign(__assign({}, acc), (_a = {}, _a[key] = child, _a));\n    }, {});\n};\nexport default removeEmpty;\n","var removeKey = function (target, path) {\n    return Object.keys(target).reduce(function (acc, key) {\n        var _a;\n        if (key !== path) {\n            return Object.assign({}, acc, (_a = {}, _a[key] = target[key], _a));\n        }\n        return acc;\n    }, {});\n};\nvar deepRemoveKey = function (target, path) {\n    var _a;\n    var paths = path.split('.');\n    if (paths.length === 1) {\n        return removeKey(target, path);\n    }\n    var deepKey = paths[0];\n    if (target[deepKey] === undefined) {\n        return target;\n    }\n    var deep = deepRemoveKey(target[deepKey], paths.slice(1).join('.'));\n    if (Object.keys(deep).length === 0) {\n        return removeKey(target, deepKey);\n    }\n    return Object.assign({}, target, (_a = {}, _a[deepKey] = deep, _a));\n};\nexport default deepRemoveKey;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback, useMemo } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { parse, stringify } from 'query-string';\nimport lodashDebounce from 'lodash/debounce';\nimport set from 'lodash/set';\nimport pickBy from 'lodash/pickBy';\nimport queryReducer, { SET_FILTER, SET_PAGE, SET_PER_PAGE, SET_SORT, SORT_ASC, } from '../reducer/admin/resource/list/queryReducer';\nimport { changeListParams } from '../actions/listActions';\nimport removeEmpty from '../util/removeEmpty';\nimport removeKey from '../util/removeKey';\nimport { useHistory } from 'react-router-dom';\nvar emptyObject = {};\nvar defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\nvar defaultParams = {};\n/**\n * Get the list parameters (page, sort, filters) and modifiers.\n *\n * These parameters are merged from 3 sources:\n *   - the query string from the URL\n *   - the params stored in the state (from previous navigation)\n *   - the options passed to the hook (including the filter defaultValues)\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [listParams, listParamsActions] = useListParams({\n *      resource: 'posts',\n *      location: location // From react-router. Injected to your component by react-admin inside a List\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = listParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = listParamsActions;\n */\nvar useListParams = function (_a) {\n    var resource = _a.resource, location = _a.location, filterDefaultValues = _a.filterDefaultValues, _b = _a.sort, sort = _b === void 0 ? defaultSort : _b, _c = _a.perPage, perPage = _c === void 0 ? 10 : _c, _d = _a.debounce, debounce = _d === void 0 ? 500 : _d;\n    var dispatch = useDispatch();\n    var history = useHistory();\n    var params = useSelector(function (reduxState) {\n        return reduxState.admin.resources[resource]\n            ? reduxState.admin.resources[resource].list.params\n            : defaultParams;\n    }, shallowEqual);\n    var requestSignature = [\n        location.search,\n        resource,\n        params,\n        filterDefaultValues,\n        JSON.stringify(sort),\n        perPage,\n    ];\n    var query = useMemo(function () {\n        return getQuery({\n            location: location,\n            params: params,\n            filterDefaultValues: filterDefaultValues,\n            sort: sort,\n            perPage: perPage,\n        });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var changeParams = useCallback(function (action) {\n        var newParams = queryReducer(query, action);\n        history.push({\n            search: \"?\" + stringify(__assign(__assign({}, newParams), { filter: JSON.stringify(newParams.filter), displayedFilters: JSON.stringify(newParams.displayedFilters) })),\n        });\n        dispatch(changeListParams(resource, newParams));\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    var setSort = useCallback(function (newSort) {\n        return changeParams({ type: SET_SORT, payload: { sort: newSort } });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var setPage = useCallback(function (newPage) { return changeParams({ type: SET_PAGE, payload: newPage }); }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var setPerPage = useCallback(function (newPerPage) {\n        return changeParams({ type: SET_PER_PAGE, payload: newPerPage });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var filterValues = query.filter || emptyObject;\n    var displayedFilterValues = query.displayedFilters || emptyObject;\n    var debouncedSetFilters = lodashDebounce(function (newFilters, newDisplayedFilters) {\n        var payload = {\n            filter: removeEmpty(newFilters),\n            displayedFilters: undefined,\n        };\n        if (newDisplayedFilters) {\n            payload.displayedFilters = Object.keys(newDisplayedFilters).reduce(function (filters, filter) {\n                var _a;\n                return newDisplayedFilters[filter]\n                    ? __assign(__assign({}, filters), (_a = {}, _a[filter] = true, _a)) : filters;\n            }, {});\n        }\n        changeParams({\n            type: SET_FILTER,\n            payload: payload,\n        });\n    }, debounce);\n    var setFilters = useCallback(function (filters, displayedFilters) {\n        return debouncedSetFilters(filters, displayedFilters);\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var hideFilter = useCallback(function (filterName) {\n        var _a;\n        var newFilters = removeKey(filterValues, filterName);\n        var newDisplayedFilters = __assign(__assign({}, displayedFilterValues), (_a = {}, _a[filterName] = undefined, _a));\n        setFilters(newFilters, newDisplayedFilters);\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    var showFilter = useCallback(function (filterName, defaultValue) {\n        var _a;\n        var newFilters = set(filterValues, filterName, defaultValue);\n        var newDisplayedFilters = __assign(__assign({}, displayedFilterValues), (_a = {}, _a[filterName] = true, _a));\n        setFilters(newFilters, newDisplayedFilters);\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    return [\n        __assign({ displayedFilters: displayedFilterValues, filterValues: filterValues,\n            requestSignature: requestSignature }, query),\n        {\n            changeParams: changeParams,\n            setPage: setPage,\n            setPerPage: setPerPage,\n            setSort: setSort,\n            setFilters: setFilters,\n            hideFilter: hideFilter,\n            showFilter: showFilter,\n        },\n    ];\n};\nexport var validQueryParams = [\n    'page',\n    'perPage',\n    'sort',\n    'order',\n    'filter',\n    'displayedFilters',\n];\nvar parseObject = function (query, field) {\n    if (query[field] && typeof query[field] === 'string') {\n        try {\n            query[field] = JSON.parse(query[field]);\n        }\n        catch (err) {\n            delete query[field];\n        }\n    }\n};\nexport var parseQueryFromLocation = function (_a) {\n    var search = _a.search;\n    var query = pickBy(parse(search), function (v, k) { return validQueryParams.indexOf(k) !== -1; });\n    parseObject(query, 'filter');\n    parseObject(query, 'displayedFilters');\n    return query;\n};\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the Redux store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\nexport var hasCustomParams = function (params) {\n    return (params &&\n        params.filter &&\n        (Object.keys(params.filter).length > 0 ||\n            params.order != null ||\n            params.page !== 1 ||\n            params.perPage != null ||\n            params.sort != null));\n};\n/**\n * Merge list params from 3 different sources:\n *   - the query string\n *   - the params stored in the state (from previous navigation)\n *   - the props passed to the List component (including the filter defaultValues)\n */\nexport var getQuery = function (_a) {\n    var location = _a.location, params = _a.params, filterDefaultValues = _a.filterDefaultValues, sort = _a.sort, perPage = _a.perPage;\n    var queryFromLocation = parseQueryFromLocation(location);\n    var query = Object.keys(queryFromLocation).length > 0\n        ? queryFromLocation\n        : hasCustomParams(params)\n            ? __assign({}, params) : { filter: filterDefaultValues || {} };\n    if (!query.sort) {\n        query.sort = sort.field;\n        query.order = sort.order;\n    }\n    if (!query.perPage) {\n        query.perPage = perPage;\n    }\n    if (!query.page) {\n        query.page = 1;\n    }\n    return __assign(__assign({}, query), { page: getNumberOrDefault(query.page, 1), perPage: getNumberOrDefault(query.perPage, 10) });\n};\nexport var getNumberOrDefault = function (possibleNumber, defaultValue) {\n    return (typeof possibleNumber === 'string'\n        ? parseInt(possibleNumber, 10)\n        : possibleNumber) || defaultValue;\n};\nexport default useListParams;\n","import { useCallback } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { setListSelectedIds, toggleListItem } from '../actions/listActions';\nvar defaultRecords = [];\n/**\n * Get the list of selected items for a resource, and callbacks to change the selection\n *\n * @param resource The resource name, e.g. 'posts'\n *\n * @returns {Object} Destructure as [selectedIds, { select, toggle, clearSelection }].\n */\nvar useSelectItems = function (resource) {\n    var dispatch = useDispatch();\n    var selectedIds = useSelector(function (reduxState) {\n        return reduxState.admin.resources[resource]\n            ? reduxState.admin.resources[resource].list.selectedIds\n            : defaultRecords;\n    }, shallowEqual);\n    var selectionModifiers = {\n        select: useCallback(function (newIds) {\n            dispatch(setListSelectedIds(resource, newIds));\n        }, [resource] // eslint-disable-line react-hooks/exhaustive-deps\n        ),\n        toggle: useCallback(function (id) {\n            dispatch(toggleListItem(resource, id));\n        }, [resource] // eslint-disable-line react-hooks/exhaustive-deps\n        ),\n        clearSelection: useCallback(function () {\n            dispatch(setListSelectedIds(resource, []));\n        }, [resource]),\n    };\n    return [selectedIds, selectionModifiers];\n};\nexport default useSelectItems;\n","import { useSelector } from 'react-redux';\n/**\n * Get the UI version from the store\n *\n * The UI version is an integer incremented by the refresh button;\n * it serves to force running fetch hooks again.\n */\nvar useVersion = function () {\n    return useSelector(function (reduxState) { return reduxState.admin.ui.viewVersion; });\n};\nexport default useVersion;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isValidElement, useEffect, useMemo } from 'react';\nimport inflection from 'inflection';\nimport { useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport get from 'lodash/get';\nimport { useCheckMinimumRequiredProps } from './checkMinimumRequiredProps';\nimport useListParams from './useListParams';\nimport useRecordSelection from './useRecordSelection';\nimport useVersion from './useVersion';\nimport { useTranslate } from '../i18n';\nimport { SORT_ASC } from '../reducer/admin/resource/list/queryReducer';\nimport { CRUD_GET_LIST } from '../actions';\nimport { useNotify } from '../sideEffect';\nimport useGetList from '../dataProvider/useGetList';\nvar defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\nvar defaultData = {};\n/**\n * Prepare data for the List view\n *\n * @param {Object} props The props passed to the List component.\n *\n * @return {Object} controllerProps Fetched and computed data for the List view\n *\n * @example\n *\n * import { useListController } from 'react-admin';\n * import ListView from './ListView';\n *\n * const MyList = props => {\n *     const controllerProps = useListController(props);\n *     return <ListView {...controllerProps} {...props} />;\n * }\n */\nvar useListController = function (props) {\n    useCheckMinimumRequiredProps('List', ['basePath', 'resource'], props);\n    var basePath = props.basePath, resource = props.resource, hasCreate = props.hasCreate, filterDefaultValues = props.filterDefaultValues, _a = props.sort, sort = _a === void 0 ? defaultSort : _a, _b = props.perPage, perPage = _b === void 0 ? 10 : _b, filter = props.filter, _c = props.debounce, debounce = _c === void 0 ? 500 : _c;\n    if (filter && isValidElement(filter)) {\n        throw new Error('<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.');\n    }\n    var location = useLocation();\n    var translate = useTranslate();\n    var notify = useNotify();\n    var version = useVersion();\n    var _d = useListParams({\n        resource: resource,\n        location: location,\n        filterDefaultValues: filterDefaultValues,\n        sort: sort,\n        perPage: perPage,\n        debounce: debounce,\n    }), query = _d[0], queryModifiers = _d[1];\n    var _e = useRecordSelection(resource), selectedIds = _e[0], selectionModifiers = _e[1];\n    /**\n     * We want the list of ids to be always available for optimistic rendering,\n     * and therefore we need a custom action (CRUD_GET_LIST) that will be used.\n     */\n    var _f = useGetList(resource, {\n        page: query.page,\n        perPage: query.perPage,\n    }, { field: query.sort, order: query.order }, __assign(__assign({}, query.filter), filter), {\n        action: CRUD_GET_LIST,\n        version: version,\n        onFailure: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning');\n        },\n    }), ids = _f.ids, total = _f.total, loading = _f.loading, loaded = _f.loaded;\n    var data = useSelector(function (state) {\n        return get(state.admin.resources, [resource, 'data'], defaultData);\n    });\n    // When the user changes the page/sort/filter, this controller runs the\n    // useGetList hook again. While the result of this new call is loading,\n    // the ids and total are empty. To avoid rendering an empty list at that\n    // moment, we override the ids and total with the latest loaded ones.\n    var defaultIds = useSelector(function (state) {\n        return get(state.admin.resources, [resource, 'list', 'ids'], []);\n    });\n    var defaultTotal = useSelector(function (state) {\n        return get(state.admin.resources, [resource, 'list', 'total'], 0);\n    });\n    useEffect(function () {\n        if (query.page <= 0 ||\n            (!loading && query.page > 1 && (ids || []).length === 0)) {\n            // query for a page that doesn't exist, set page to 1\n            queryModifiers.setPage(1);\n        }\n    }, [loading, query.page, ids, queryModifiers]);\n    var currentSort = useMemo(function () { return ({\n        field: query.sort,\n        order: query.order,\n    }); }, [query.sort, query.order]);\n    var resourceName = translate(\"resources.\" + resource + \".name\", {\n        smart_count: 2,\n        _: inflection.humanize(inflection.pluralize(resource)),\n    });\n    var defaultTitle = translate('ra.page.list', {\n        name: resourceName,\n    });\n    return {\n        basePath: basePath,\n        currentSort: currentSort,\n        data: data,\n        defaultTitle: defaultTitle,\n        displayedFilters: query.displayedFilters,\n        filterValues: query.filterValues,\n        hasCreate: hasCreate,\n        hideFilter: queryModifiers.hideFilter,\n        ids: typeof total === 'undefined' ? defaultIds : ids,\n        loaded: loaded || defaultIds.length > 0,\n        loading: loading,\n        onSelect: selectionModifiers.select,\n        onToggleItem: selectionModifiers.toggle,\n        onUnselectItems: selectionModifiers.clearSelection,\n        page: query.page,\n        perPage: query.perPage,\n        resource: resource,\n        selectedIds: selectedIds,\n        setFilters: queryModifiers.setFilters,\n        setPage: queryModifiers.setPage,\n        setPerPage: queryModifiers.setPerPage,\n        setSort: queryModifiers.setSort,\n        showFilter: queryModifiers.showFilter,\n        total: typeof total === 'undefined' ? defaultTotal : total,\n        version: version,\n    };\n};\nexport var injectedProps = [\n    'basePath',\n    'currentSort',\n    'data',\n    'defaultTitle',\n    'displayedFilters',\n    'filterValues',\n    'hasCreate',\n    'hideFilter',\n    'ids',\n    'loading',\n    'loaded',\n    'onSelect',\n    'onToggleItem',\n    'onUnselectItems',\n    'page',\n    'perPage',\n    'refresh',\n    'resource',\n    'selectedIds',\n    'setFilters',\n    'setPage',\n    'setPerPage',\n    'setSort',\n    'showFilter',\n    'total',\n    'version',\n];\n/**\n * Select the props injected by the useListController hook\n * to be passed to the List children need\n * This is an implementation of pick()\n */\nexport var getListControllerProps = function (props) {\n    return injectedProps.reduce(function (acc, key) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[key] = props[key], _a)));\n    }, {});\n};\n/**\n * Select the props not injected by the useListController hook\n * to be used inside the List children to sanitize props injected by List\n * This is an implementation of omit()\n */\nexport var sanitizeListRestProps = function (props) {\n    return Object.keys(props)\n        .filter(function (propName) { return !injectedProps.includes(propName); })\n        .reduce(function (acc, key) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[key] = props[key], _a)));\n    }, {});\n};\nexport default useListController;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport ActionHide from '@material-ui/icons/HighlightOff';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\nvar emptyRecord = {};\nvar useStyles = makeStyles(function (theme) { return ({\n    body: { display: 'flex', alignItems: 'flex-end' },\n    spacer: { width: theme.spacing(2) },\n    hideButton: {},\n}); }, { name: 'RaFilterFormInput' });\nvar FilterFormInput = function (props) {\n    var filterElement = props.filterElement, handleHide = props.handleHide, resource = props.resource, variant = props.variant, margin = props.margin;\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    return (React.createElement(\"div\", { \"data-source\": filterElement.props.source, className: classnames('filter-field', classes.body) },\n        !filterElement.props.alwaysOn && (React.createElement(IconButton, { className: classnames('hide-filter', classes.hideButton), onClick: handleHide, \"data-key\": filterElement.props.source, title: translate('ra.action.remove_filter') },\n            React.createElement(ActionHide, null))),\n        React.cloneElement(filterElement, {\n            allowEmpty: filterElement.props.allowEmpty === undefined\n                ? true\n                : filterElement.props.allowEmpty,\n            resource: resource,\n            record: emptyRecord,\n            variant: variant,\n            margin: margin,\n            helperText: false,\n            // ignore defaultValue in Field because it was already set in Form (via mergedInitialValuesWithDefaultValues)\n            defaultValue: undefined,\n        }),\n        React.createElement(\"div\", { className: classes.spacer }, \"\\u00A0\")));\n};\nFilterFormInput.propTypes = {\n    filterElement: PropTypes.node,\n    handleHide: PropTypes.func,\n    classes: PropTypes.object,\n    resource: PropTypes.string,\n};\nexport default FilterFormInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, FormSpy } from 'react-final-form';\nimport arrayMutators from 'final-form-arrays';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport lodashSet from 'lodash/set';\nimport lodashGet from 'lodash/get';\nimport FilterFormInput from './FilterFormInput';\nvar useStyles = makeStyles(function (theme) { return ({\n    form: {\n        marginTop: -theme.spacing(2),\n        paddingTop: 0,\n        display: 'flex',\n        alignItems: 'flex-end',\n        flexWrap: 'wrap',\n        minHeight: theme.spacing(10),\n    },\n    clearFix: { clear: 'right' },\n}); }, { name: 'RaFilterForm' });\nvar sanitizeRestProps = function (_a) {\n    var anyTouched = _a.anyTouched, asyncValidate = _a.asyncValidate, asyncValidating = _a.asyncValidating, autofill = _a.autofill, blur = _a.blur, change = _a.change, clearAsyncError = _a.clearAsyncError, clearFields = _a.clearFields, clearSubmit = _a.clearSubmit, clearSubmitErrors = _a.clearSubmitErrors, destroy = _a.destroy, dirty = _a.dirty, dirtyFields = _a.dirtyFields, dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit, dirtySinceLastSubmit = _a.dirtySinceLastSubmit, dispatch = _a.dispatch, displayedFilters = _a.displayedFilters, errors = _a.errors, filters = _a.filters, filterValues = _a.filterValues, form = _a.form, handleSubmit = _a.handleSubmit, hasSubmitErrors = _a.hasSubmitErrors, hasValidationErrors = _a.hasValidationErrors, hideFilter = _a.hideFilter, initialize = _a.initialize, initialized = _a.initialized, initialValues = _a.initialValues, invalid = _a.invalid, modified = _a.modified, pristine = _a.pristine, pure = _a.pure, reset = _a.reset, resetSection = _a.resetSection, save = _a.save, setFilter = _a.setFilter, setFilters = _a.setFilters, submit = _a.submit, submitAsSideEffect = _a.submitAsSideEffect, submitError = _a.submitError, submitErrors = _a.submitErrors, submitFailed = _a.submitFailed, submitSucceeded = _a.submitSucceeded, submitting = _a.submitting, touch = _a.touch, touched = _a.touched, triggerSubmit = _a.triggerSubmit, untouch = _a.untouch, valid = _a.valid, validate = _a.validate, validating = _a.validating, values = _a.values, visited = _a.visited, __versions = _a.__versions, props = __rest(_a, [\"anyTouched\", \"asyncValidate\", \"asyncValidating\", \"autofill\", \"blur\", \"change\", \"clearAsyncError\", \"clearFields\", \"clearSubmit\", \"clearSubmitErrors\", \"destroy\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"dispatch\", \"displayedFilters\", \"errors\", \"filters\", \"filterValues\", \"form\", \"handleSubmit\", \"hasSubmitErrors\", \"hasValidationErrors\", \"hideFilter\", \"initialize\", \"initialized\", \"initialValues\", \"invalid\", \"modified\", \"pristine\", \"pure\", \"reset\", \"resetSection\", \"save\", \"setFilter\", \"setFilters\", \"submit\", \"submitAsSideEffect\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touch\", \"touched\", \"triggerSubmit\", \"untouch\", \"valid\", \"validate\", \"validating\", \"values\", \"visited\", \"__versions\"]);\n    return props;\n};\nexport var FilterForm = function (_a) {\n    var _b = _a.classes, classes = _b === void 0 ? {} : _b, className = _a.className, resource = _a.resource, margin = _a.margin, variant = _a.variant, filters = _a.filters, _c = _a.displayedFilters, displayedFilters = _c === void 0 ? {} : _c, hideFilter = _a.hideFilter, initialValues = _a.initialValues, rest = __rest(_a, [\"classes\", \"className\", \"resource\", \"margin\", \"variant\", \"filters\", \"displayedFilters\", \"hideFilter\", \"initialValues\"]);\n    useEffect(function () {\n        filters.forEach(function (filter) {\n            if (filter.props.alwaysOn && filter.props.defaultValue) {\n                throw new Error('Cannot use alwaysOn and defaultValue on a filter input. Please set the filterDefaultValues props on the <List> element instead.');\n            }\n        });\n    }, [filters]);\n    var getShownFilters = function () {\n        return filters.filter(function (filterElement) {\n            return filterElement.props.alwaysOn ||\n                displayedFilters[filterElement.props.source] ||\n                typeof lodashGet(initialValues, filterElement.props.source) !==\n                    'undefined';\n        });\n    };\n    var handleHide = useCallback(function (event) { return hideFilter(event.currentTarget.dataset.key); }, [hideFilter]);\n    return (React.createElement(\"form\", __assign({ className: classnames(className, classes.form) }, sanitizeRestProps(rest), { onSubmit: handleSubmit }),\n        getShownFilters().map(function (filterElement) { return (React.createElement(FilterFormInput, { key: filterElement.props.source, filterElement: filterElement, handleHide: handleHide, resource: resource, margin: margin, variant: variant })); }),\n        React.createElement(\"div\", { className: classes.clearFix })));\n};\nvar handleSubmit = function (event) {\n    event.preventDefault();\n    return false;\n};\nFilterForm.propTypes = {\n    resource: PropTypes.string.isRequired,\n    filters: PropTypes.arrayOf(PropTypes.node).isRequired,\n    displayedFilters: PropTypes.object,\n    hideFilter: PropTypes.func.isRequired,\n    initialValues: PropTypes.object,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n};\nexport var mergeInitialValuesWithDefaultValues = function (_a) {\n    var initialValues = _a.initialValues, filters = _a.filters;\n    return (__assign(__assign({}, filters\n        .filter(function (filterElement) {\n        return filterElement.props.alwaysOn && filterElement.props.defaultValue;\n    })\n        .reduce(function (acc, filterElement) {\n        return lodashSet(__assign({}, acc), filterElement.props.source, filterElement.props.defaultValue);\n    }, {})), initialValues));\n};\nvar EnhancedFilterForm = function (props) {\n    var classesOverride = props.classes, rest = __rest(props, [\"classes\"]);\n    var classes = useStyles(props);\n    var mergedInitialValuesWithDefaultValues = mergeInitialValuesWithDefaultValues(props);\n    var initialValues = rest.initialValues, rest2 = __rest(rest, [\"initialValues\"]);\n    return (React.createElement(Form, { onSubmit: handleFinalFormSubmit, initialValues: mergedInitialValuesWithDefaultValues, mutators: __assign({}, arrayMutators), render: function (formProps) { return (React.createElement(React.Fragment, null,\n            React.createElement(FormSpy, { subscription: FormSpySubscription, onChange: function (_a) {\n                    var pristine = _a.pristine, values = _a.values;\n                    if (pristine) {\n                        return;\n                    }\n                    rest && rest.setFilters(values);\n                } }),\n            React.createElement(FilterForm, __assign({ classes: classes }, formProps, rest2)))); } }));\n};\nvar handleFinalFormSubmit = function () { };\n// Options to instruct the FormSpy that it should only listen to the values and pristine changes\nvar FormSpySubscription = { values: true, pristine: true };\nexport default EnhancedFilterForm;\n","import React from 'react';\nimport pure from 'recompose/pure';\nimport useTranslate from '../i18n/useTranslate';\nimport getFieldLabelTranslationArgs from './getFieldLabelTranslationArgs';\nexport var FieldTitle = function (_a) {\n    var resource = _a.resource, source = _a.source, label = _a.label, isRequired = _a.isRequired;\n    var translate = useTranslate();\n    return (React.createElement(\"span\", null,\n        translate.apply(void 0, getFieldLabelTranslationArgs({ label: label, resource: resource, source: source })),\n        isRequired && ' *'));\n};\n// wat? TypeScript looses the displayName if we don't set it explicitly\nFieldTitle.displayName = 'FieldTitle';\nexport default pure(FieldTitle);\n","import inflection from 'inflection';\n/**\n * Returns an array of arguments to use with the translate function for the label of a field.\n * The label will be the one specified by the label prop or one computed from the resource and source props.\n *\n * Usage:\n *  <span>\n *      {translate(...getFieldLabelTranslationArgs({ label, resource, source }))}\n *  </span>\n */\nexport default (function (options) {\n    if (!options) {\n        return [''];\n    }\n    var label = options.label, resource = options.resource, source = options.source;\n    return typeof label !== 'undefined'\n        ? [label, { _: label }]\n        : typeof source !== 'undefined'\n            ? [\n                \"resources.\" + resource + \".fields.\" + source,\n                {\n                    _: inflection.transform(source, ['underscore', 'humanize']),\n                },\n            ]\n            : [''];\n});\n","import React, { forwardRef, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { FieldTitle } from 'ra-core';\nvar FilterButtonMenuItem = forwardRef(function (_a, ref) {\n    var filter = _a.filter, onShow = _a.onShow, resource = _a.resource;\n    var handleShow = useCallback(function () {\n        onShow({ source: filter.source, defaultValue: filter.defaultValue });\n    }, [filter.defaultValue, filter.source, onShow]);\n    return (React.createElement(MenuItem, { className: \"new-filter-item\", \"data-key\": filter.source, \"data-default-value\": filter.defaultValue, key: filter.source, onClick: handleShow, ref: ref },\n        React.createElement(FieldTitle, { label: filter.label, source: filter.source, resource: resource })));\n});\nFilterButtonMenuItem.propTypes = {\n    filter: PropTypes.object.isRequired,\n    onShow: PropTypes.func.isRequired,\n    resource: PropTypes.string.isRequired,\n};\nexport default FilterButtonMenuItem;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button as MuiButton, Tooltip, IconButton, useMediaQuery, makeStyles, } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\n/**\n * A generic Button with side icon. Only the icon is displayed on small screens.\n *\n * The component translates the label. Pass the icon as child.\n * The icon displays on the left side of the button by default. Set alignIcon prop to 'right' to inverse.\n *\n * @example\n *\n * <Button label=\"Edit\" color=\"secondary\" onClick={doEdit}>\n *   <ContentCreate />\n * </Button>\n *\n */\nvar Button = function (props) {\n    var _a;\n    var _b = props.alignIcon, alignIcon = _b === void 0 ? 'left' : _b, children = props.children, classesOverride = props.classes, className = props.className, color = props.color, disabled = props.disabled, label = props.label, size = props.size, rest = __rest(props, [\"alignIcon\", \"children\", \"classes\", \"className\", \"color\", \"disabled\", \"label\", \"size\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var restProps = sanitizeButtonRestProps(rest);\n    return isXSmall ? (label && !disabled ? (React.createElement(Tooltip, { title: translate(label, { _: label }) },\n        React.createElement(IconButton, __assign({ \"aria-label\": translate(label, { _: label }), className: className, color: color }, restProps), children))) : (React.createElement(IconButton, __assign({ className: className, color: color, disabled: disabled }, restProps), children))) : (React.createElement(MuiButton, __assign({ className: classnames(classes.button, className), color: color, size: size, \"aria-label\": label ? translate(label, { _: label }) : undefined, disabled: disabled }, restProps),\n        alignIcon === 'left' &&\n            children &&\n            React.cloneElement(children, {\n                className: classes[size + \"Icon\"],\n            }),\n        label && (React.createElement(\"span\", { className: classnames((_a = {},\n                _a[classes.label] = alignIcon === 'left',\n                _a[classes.labelRightIcon] = alignIcon !== 'left',\n                _a)) }, translate(label, { _: label }))),\n        alignIcon === 'right' &&\n            children &&\n            React.cloneElement(children, {\n                className: classes[size + \"Icon\"],\n            })));\n};\nvar useStyles = makeStyles({\n    button: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n    label: {\n        paddingLeft: '0.5em',\n    },\n    labelRightIcon: {\n        paddingRight: '0.5em',\n    },\n    smallIcon: {\n        fontSize: 20,\n    },\n    mediumIcon: {\n        fontSize: 22,\n    },\n    largeIcon: {\n        fontSize: 24,\n    },\n}, { name: 'RaButton' });\nexport var sanitizeButtonRestProps = function (_a) {\n    var \n    // The next props are injected by Toolbar\n    basePath = _a.basePath, handleSubmit = _a.handleSubmit, handleSubmitWithRedirect = _a.handleSubmitWithRedirect, invalid = _a.invalid, onSave = _a.onSave, pristine = _a.pristine, record = _a.record, redirect = _a.redirect, resource = _a.resource, saving = _a.saving, submitOnEnter = _a.submitOnEnter, undoable = _a.undoable, rest = __rest(_a, [\"basePath\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"onSave\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"undoable\"]);\n    return rest;\n};\nButton.propTypes = {\n    alignIcon: PropTypes.oneOf(['left', 'right']),\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n    disabled: PropTypes.bool,\n    label: PropTypes.string,\n    size: PropTypes.oneOf(['small', 'medium', 'large']),\n};\nButton.defaultProps = {\n    color: 'primary',\n    size: 'small',\n};\nexport default Button;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useState, useCallback, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Menu from '@material-ui/core/Menu';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentFilter from '@material-ui/icons/FilterList';\nimport classnames from 'classnames';\nimport lodashGet from 'lodash/get';\nimport FilterButtonMenuItem from './FilterButtonMenuItem';\nimport Button from '../button/Button';\nvar useStyles = makeStyles({\n    root: { display: 'inline-block' },\n}, { name: 'RaFilterButton' });\nvar FilterButton = function (props) {\n    var filters = props.filters, _a = props.displayedFilters, displayedFilters = _a === void 0 ? {} : _a, filterValues = props.filterValues, showFilter = props.showFilter, classesOverride = props.classes, className = props.className, resource = props.resource, rest = __rest(props, [\"filters\", \"displayedFilters\", \"filterValues\", \"showFilter\", \"classes\", \"className\", \"resource\"]);\n    var _b = useState(false), open = _b[0], setOpen = _b[1];\n    var anchorEl = useRef();\n    var classes = useStyles(props);\n    var hiddenFilters = filters.filter(function (filterElement) {\n        return !filterElement.props.alwaysOn &&\n            !displayedFilters[filterElement.props.source] &&\n            typeof lodashGet(filterValues, filterElement.props.source) ===\n                'undefined';\n    });\n    var handleClickButton = useCallback(function (event) {\n        // This prevents ghost click.\n        event.preventDefault();\n        setOpen(true);\n        anchorEl.current = event.currentTarget;\n    }, [anchorEl, setOpen]);\n    var handleRequestClose = useCallback(function () {\n        setOpen(false);\n    }, [setOpen]);\n    var handleShow = useCallback(function (_a) {\n        var source = _a.source, defaultValue = _a.defaultValue;\n        showFilter(source, defaultValue);\n        setOpen(false);\n    }, [showFilter, setOpen]);\n    if (hiddenFilters.length === 0)\n        return null;\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.root, className) }, rest),\n        React.createElement(Button, { className: \"add-filter\", label: \"ra.action.add_filter\", onClick: handleClickButton },\n            React.createElement(ContentFilter, null)),\n        React.createElement(Menu, { open: open, anchorEl: anchorEl.current, onClose: handleRequestClose }, hiddenFilters.map(function (filterElement) { return (React.createElement(FilterButtonMenuItem, { key: filterElement.props.source, filter: filterElement.props, resource: resource, onShow: handleShow })); }))));\n};\nFilterButton.propTypes = {\n    resource: PropTypes.string.isRequired,\n    filters: PropTypes.arrayOf(PropTypes.node).isRequired,\n    displayedFilters: PropTypes.object,\n    filterValues: PropTypes.object.isRequired,\n    showFilter: PropTypes.func.isRequired,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n};\nexport default FilterButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { sanitizeListRestProps } from 'ra-core';\nimport FilterForm from './FilterForm';\nimport FilterButton from './FilterButton';\nvar useStyles = makeStyles({\n    button: {},\n    form: {},\n}, { name: 'RaFilter' });\nvar Filter = function (props) {\n    var classes = useStyles(props);\n    var renderButton = function () {\n        var classesOverride = props.classes, context = props.context, resource = props.resource, children = props.children, showFilter = props.showFilter, hideFilter = props.hideFilter, displayedFilters = props.displayedFilters, filterValues = props.filterValues, variant = props.variant, rest = __rest(props, [\"classes\", \"context\", \"resource\", \"children\", \"showFilter\", \"hideFilter\", \"displayedFilters\", \"filterValues\", \"variant\"]);\n        return (React.createElement(FilterButton, __assign({ className: classes.button, resource: resource, filters: React.Children.toArray(children), showFilter: showFilter, displayedFilters: displayedFilters, filterValues: filterValues }, sanitizeListRestProps(rest))));\n    };\n    var renderForm = function () {\n        var classesOverride = props.classes, context = props.context, resource = props.resource, children = props.children, hideFilter = props.hideFilter, displayedFilters = props.displayedFilters, showFilter = props.showFilter, filterValues = props.filterValues, setFilters = props.setFilters, rest = __rest(props, [\"classes\", \"context\", \"resource\", \"children\", \"hideFilter\", \"displayedFilters\", \"showFilter\", \"filterValues\", \"setFilters\"]);\n        return (React.createElement(FilterForm, __assign({ className: classes.form, resource: resource, filters: React.Children.toArray(children), hideFilter: hideFilter, displayedFilters: displayedFilters, initialValues: filterValues, setFilters: setFilters }, sanitizeListRestProps(rest))));\n    };\n    return props.context === 'button' ? renderButton() : renderForm();\n};\nFilter.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    context: PropTypes.oneOf(['form', 'button']),\n    displayedFilters: PropTypes.object,\n    filterValues: PropTypes.object,\n    hideFilter: PropTypes.func,\n    setFilters: PropTypes.func,\n    showFilter: PropTypes.func,\n    resource: PropTypes.string.isRequired,\n};\nexport default Filter;\n","import lodashMemoize from 'lodash/memoize';\n/* eslint-disable no-underscore-dangle */\n/* @link http://stackoverflow.com/questions/46155/validate-email-address-in-javascript */\nvar EMAIL_REGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // eslint-disable-line no-useless-escape\nvar isEmpty = function (value) {\n    return typeof value === 'undefined' ||\n        value === null ||\n        value === '' ||\n        (Array.isArray(value) && value.length === 0);\n};\nvar getMessage = function (message, messageArgs, value, values) {\n    return typeof message === 'function'\n        ? message({\n            args: messageArgs,\n            value: value,\n            values: values,\n        })\n        : messageArgs\n            ? {\n                message: message,\n                args: messageArgs,\n            }\n            : message;\n};\n// If we define validation functions directly in JSX, it will\n// result in a new function at every render, and then trigger infinite re-render.\n// Hence, we memoize every built-in validator to prevent a \"Maximum call stack\" error.\nvar memoize = function (fn) {\n    return lodashMemoize(fn, function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return JSON.stringify(args);\n    });\n};\n// Compose multiple validators into a single one for use with final-form\nexport var composeValidators = function () {\n    var validators = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        validators[_i] = arguments[_i];\n    }\n    return function (value, values, meta) {\n        var allValidators = Array.isArray(validators[0])\n            ? validators[0]\n            : validators;\n        return allValidators.reduce(function (error, validator) {\n            return error ||\n                (typeof validator === 'function' && validator(value, values, meta));\n        }, undefined);\n    };\n};\n/**\n * Required validator\n *\n * Returns an error if the value is null, undefined, or empty\n *\n * @param {string|function} message\n *\n * @example\n *\n * const titleValidators = [required('The title is required')];\n * <TextInput name=\"title\" validate={titleValidators} />\n */\nexport var required = memoize(function (message) {\n    if (message === void 0) { message = 'ra.validation.required'; }\n    return Object.assign(function (value, values) {\n        return isEmpty(value)\n            ? getMessage(message, undefined, value, values)\n            : undefined;\n    }, { isRequired: true });\n});\n/**\n * Minimum length validator\n *\n * Returns an error if the value has a length less than the parameter\n *\n * @param {integer} min\n * @param {string|function} message\n *\n * @example\n *\n * const passwordValidators = [minLength(10, 'Should be at least 10 characters')];\n * <TextInput type=\"password\" name=\"password\" validate={passwordValidators} />\n */\nexport var minLength = memoize(function (min, message) {\n    if (message === void 0) { message = 'ra.validation.minLength'; }\n    return function (value, values) {\n        return !isEmpty(value) && value.length < min\n            ? getMessage(message, { min: min }, value, values)\n            : undefined;\n    };\n});\n/**\n * Maximum length validator\n *\n * Returns an error if the value has a length higher than the parameter\n *\n * @param {integer} max\n * @param {string|function} message\n *\n * @example\n *\n * const nameValidators = [maxLength(10, 'Should be at most 10 characters')];\n * <TextInput name=\"name\" validate={nameValidators} />\n */\nexport var maxLength = memoize(function (max, message) {\n    if (message === void 0) { message = 'ra.validation.maxLength'; }\n    return function (value, values) {\n        return !isEmpty(value) && value.length > max\n            ? getMessage(message, { max: max }, value, values)\n            : undefined;\n    };\n});\n/**\n * Minimum validator\n *\n * Returns an error if the value is less than the parameter\n *\n * @param {integer} min\n * @param {string|function} message\n *\n * @example\n *\n * const fooValidators = [minValue(5, 'Should be more than 5')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\nexport var minValue = memoize(function (min, message) {\n    if (message === void 0) { message = 'ra.validation.minValue'; }\n    return function (value, values) {\n        return !isEmpty(value) && value < min\n            ? getMessage(message, { min: min }, value, values)\n            : undefined;\n    };\n});\n/**\n * Maximum validator\n *\n * Returns an error if the value is higher than the parameter\n *\n * @param {integer} max\n * @param {string|function} message\n *\n * @example\n *\n * const fooValidators = [maxValue(10, 'Should be less than 10')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\nexport var maxValue = memoize(function (max, message) {\n    if (message === void 0) { message = 'ra.validation.maxValue'; }\n    return function (value, values) {\n        return !isEmpty(value) && value > max\n            ? getMessage(message, { max: max }, value, values)\n            : undefined;\n    };\n});\n/**\n * Number validator\n *\n * Returns an error if the value is not a number\n *\n * @param {string|function} message\n *\n * @example\n *\n * const ageValidators = [number('Must be a number')];\n * <TextInput name=\"age\" validate={ageValidators} />\n */\nexport var number = memoize(function (message) {\n    if (message === void 0) { message = 'ra.validation.number'; }\n    return function (value, values) {\n        return !isEmpty(value) && isNaN(Number(value))\n            ? getMessage(message, undefined, value, values)\n            : undefined;\n    };\n});\n/**\n * Regular expression validator\n *\n * Returns an error if the value does not match the pattern given as parameter\n *\n * @param {RegExp} pattern\n * @param {string|function} message\n *\n * @example\n *\n * const zipValidators = [regex(/^\\d{5}(?:[-\\s]\\d{4})?$/, 'Must be a zip code')];\n * <TextInput name=\"zip\" validate={zipValidators} />\n */\nexport var regex = lodashMemoize(function (pattern, message) {\n    if (message === void 0) { message = 'ra.validation.regex'; }\n    return function (value, values) {\n        return !isEmpty(value) && typeof value === 'string' && !pattern.test(value)\n            ? getMessage(message, { pattern: pattern }, value, values)\n            : undefined;\n    };\n}, function (pattern, message) {\n    return pattern.toString() + message;\n});\n/**\n * Email validator\n *\n * Returns an error if the value is not a valid email\n *\n * @param {string|function} message\n *\n * @example\n *\n * const emailValidators = [email('Must be an email')];\n * <TextInput name=\"email\" validate={emailValidators} />\n */\nexport var email = memoize(function (message) {\n    if (message === void 0) { message = 'ra.validation.email'; }\n    return regex(EMAIL_REGEX, message);\n});\nvar oneOfTypeMessage = function (_a) {\n    var args = _a.args;\n    return ({\n        message: 'ra.validation.oneOf',\n        args: args,\n    });\n};\n/**\n * Choices validator\n *\n * Returns an error if the value is not among the list passed as parameter\n *\n * @param {array} list\n * @param {string|function} message\n *\n * @example\n *\n * const genderValidators = [choices(['male', 'female'], 'Must be either Male or Female')];\n * <TextInput name=\"gender\" validate={genderValidators} />\n */\nexport var choices = memoize(function (list, message) {\n    if (message === void 0) { message = oneOfTypeMessage; }\n    return function (value, values) {\n        return !isEmpty(value) && list.indexOf(value) === -1\n            ? getMessage(message, { list: list }, value, values)\n            : undefined;\n    };\n});\n","var isRequired = function (validate) {\n    if (validate && validate.isRequired) {\n        return true;\n    }\n    if (Array.isArray(validate)) {\n        return validate.some(function (it) { return it.isRequired; });\n    }\n    return false;\n};\nexport default isRequired;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useField as useFinalFormField, } from 'react-final-form';\nimport { composeValidators } from './validate';\nimport isRequired from './isRequired';\nimport { useCallback } from 'react';\nvar useInput = function (_a) {\n    var defaultValue = _a.defaultValue, id = _a.id, name = _a.name, source = _a.source, validate = _a.validate, customOnBlur = _a.onBlur, customOnChange = _a.onChange, customOnFocus = _a.onFocus, options = __rest(_a, [\"defaultValue\", \"id\", \"name\", \"source\", \"validate\", \"onBlur\", \"onChange\", \"onFocus\"]);\n    var finalName = name || source;\n    var sanitizedValidate = Array.isArray(validate)\n        ? composeValidators(validate)\n        : validate;\n    var _b = useFinalFormField(finalName, __assign({ initialValue: defaultValue, validate: sanitizedValidate }, options)), input = _b.input, meta = _b.meta;\n    // Extract the event handlers so that we can provide ours\n    // allowing users to provide theirs without breaking the form\n    var onBlur = input.onBlur, onChange = input.onChange, onFocus = input.onFocus, inputProps = __rest(input, [\"onBlur\", \"onChange\", \"onFocus\"]);\n    var handleBlur = useCallback(function (event) {\n        onBlur(event);\n        if (typeof customOnBlur === 'function') {\n            customOnBlur(event);\n        }\n    }, [onBlur, customOnBlur]);\n    var handleChange = useCallback(function (event) {\n        onChange(event);\n        if (typeof customOnChange === 'function') {\n            customOnChange(event);\n        }\n    }, [onChange, customOnChange]);\n    var handleFocus = useCallback(function (event) {\n        onFocus(event);\n        if (typeof customOnFocus === 'function') {\n            customOnFocus(event);\n        }\n    }, [onFocus, customOnFocus]);\n    // If there is an input prop, this input has already been enhanced by final-form\n    // This is required in for inputs used inside other inputs (such as the SelectInput inside a ReferenceInput)\n    if (options.input) {\n        return {\n            id: id || source,\n            input: options.input,\n            meta: options.meta,\n            isRequired: isRequired(validate),\n        };\n    }\n    return {\n        id: id || source,\n        input: __assign(__assign({}, inputProps), { onBlur: handleBlur, onChange: handleChange, onFocus: handleFocus }),\n        meta: meta,\n        isRequired: isRequired(validate),\n    };\n};\nexport default useInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport MuiTextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles({\n    clearIcon: {\n        height: 16,\n        width: 0,\n    },\n    visibleClearIcon: {\n        width: 16,\n    },\n    clearButton: {\n        height: 24,\n        width: 24,\n        padding: 0,\n    },\n    selectAdornment: {\n        position: 'absolute',\n        right: 24,\n    },\n    inputAdornedEnd: {\n        paddingRight: 0,\n    },\n}, { name: 'RaResettableTextField' });\nvar handleMouseDownClearButton = function (event) {\n    event.preventDefault();\n};\n/**\n * An override of the default Material-UI TextField which is resettable\n */\nfunction ResettableTextField(props) {\n    var classesOverride = props.classes, clearAlwaysVisible = props.clearAlwaysVisible, InputProps = props.InputProps, value = props.value, resettable = props.resettable, disabled = props.disabled, _a = props.variant, variant = _a === void 0 ? 'filled' : _a, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, rest = __rest(props, [\"classes\", \"clearAlwaysVisible\", \"InputProps\", \"value\", \"resettable\", \"disabled\", \"variant\", \"margin\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var onChange = props.onChange, onFocus = props.onFocus, onBlur = props.onBlur;\n    var handleClickClearButton = useCallback(function (event) {\n        event.preventDefault();\n        onChange('');\n    }, [onChange]);\n    var handleFocus = useCallback(function (event) {\n        onFocus && onFocus(event);\n    }, [onFocus]);\n    var handleBlur = useCallback(function (event) {\n        onBlur && onBlur(event);\n    }, [onBlur]);\n    var clearButton = classes.clearButton, clearIcon = classes.clearIcon, inputAdornedEnd = classes.inputAdornedEnd, selectAdornment = classes.selectAdornment, visibleClearButton = classes.visibleClearButton, visibleClearIcon = classes.visibleClearIcon, restClasses = __rest(classes, [\"clearButton\", \"clearIcon\", \"inputAdornedEnd\", \"selectAdornment\", \"visibleClearButton\", \"visibleClearIcon\"]);\n    var _c = InputProps || {}, endAdornment = _c.endAdornment, InputPropsWithoutEndAdornment = __rest(_c, [\"endAdornment\"]);\n    if (clearAlwaysVisible && endAdornment) {\n        throw new Error('ResettableTextField cannot display both an endAdornment and a clear button always visible');\n    }\n    var getEndAdornment = function () {\n        var _a;\n        if (!resettable) {\n            return endAdornment;\n        }\n        else if (!value) {\n            if (clearAlwaysVisible) {\n                // show clear button, inactive\n                return (React.createElement(InputAdornment, { position: \"end\", classes: {\n                        root: props.select ? selectAdornment : null,\n                    } },\n                    React.createElement(IconButton, { className: clearButton, \"aria-label\": translate('ra.action.clear_input_value'), title: translate('ra.action.clear_input_value'), disableRipple: true, disabled: true },\n                        React.createElement(ClearIcon, { className: classNames(clearIcon, visibleClearIcon) }))));\n            }\n            else {\n                if (endAdornment) {\n                    return endAdornment;\n                }\n                else {\n                    // show spacer\n                    return (React.createElement(InputAdornment, { position: \"end\", classes: {\n                            root: props.select ? selectAdornment : null,\n                        } },\n                        React.createElement(\"span\", { className: clearButton }, \"\\u00A0\")));\n                }\n            }\n        }\n        else {\n            // show clear\n            return (React.createElement(InputAdornment, { position: \"end\", classes: {\n                    root: props.select ? selectAdornment : null,\n                } },\n                React.createElement(IconButton, { className: clearButton, \"aria-label\": translate('ra.action.clear_input_value'), title: translate('ra.action.clear_input_value'), disableRipple: true, onClick: handleClickClearButton, onMouseDown: handleMouseDownClearButton, disabled: disabled },\n                    React.createElement(ClearIcon, { className: classNames(clearIcon, (_a = {},\n                            _a[visibleClearIcon] = clearAlwaysVisible || value,\n                            _a)) }))));\n        }\n    };\n    return (React.createElement(MuiTextField, __assign({ classes: restClasses, value: value, InputProps: __assign({ classes: props.select && variant === 'filled'\n                ? { adornedEnd: inputAdornedEnd }\n                : {}, endAdornment: getEndAdornment() }, InputPropsWithoutEndAdornment), disabled: disabled, variant: variant, margin: margin }, rest, { onFocus: handleFocus, onBlur: handleBlur })));\n}\nResettableTextField.propTypes = {\n    classes: PropTypes.object,\n    clearAlwaysVisible: PropTypes.bool,\n    disabled: PropTypes.bool,\n    InputProps: PropTypes.object,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    onFocus: PropTypes.func,\n    resettable: PropTypes.bool,\n    value: PropTypes.any.isRequired,\n};\nexport default ResettableTextField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { useTranslate } from '../i18n';\nvar ValidationError = function (_a) {\n    var error = _a.error;\n    var translate = useTranslate();\n    if (error.message) {\n        var _b = error, message = _b.message, args = _b.args;\n        return React.createElement(React.Fragment, null, translate(message, __assign({ _: message }, args)));\n    }\n    return React.createElement(React.Fragment, null, translate(error, { _: error }));\n};\nexport default ValidationError;\n","import React from 'react';\nimport { useTranslate, ValidationError } from 'ra-core';\nvar InputHelperText = function (_a) {\n    var helperText = _a.helperText, touched = _a.touched, error = _a.error;\n    var translate = useTranslate();\n    return touched && error ? (React.createElement(ValidationError, { error: error })) : typeof helperText === 'string' ? (React.createElement(React.Fragment, null, translate(helperText, { _: helperText }))) : helperText !== false ? (\n    // material-ui's HelperText cannot reserve space unless we pass a single\n    // space as child, which isn't possible when the child is a component.\n    // Therefore, we must reserve the space ourselves by passing the same\n    // markup as material-ui.\n    // @see https://github.com/mui-org/material-ui/blob/62e439b7022d519ab638d65201e204b59b77f8da/packages/material-ui/src/FormHelperText/FormHelperText.js#L85-L90\n    // eslint-disable-next-line react/no-danger\n    React.createElement(\"span\", { dangerouslySetInnerHTML: { __html: '&#8203;' } })) : null;\n};\nexport default InputHelperText;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nexport default (function (_a) {\n    var allowEmpty = _a.allowEmpty, alwaysOn = _a.alwaysOn, basePath = _a.basePath, component = _a.component, defaultValue = _a.defaultValue, formClassName = _a.formClassName, initialValue = _a.initialValue, initializeForm = _a.initializeForm, input = _a.input, isRequired = _a.isRequired, label = _a.label, limitChoicesToValue = _a.limitChoicesToValue, locale = _a.locale, meta = _a.meta, options = _a.options, optionText = _a.optionText, optionValue = _a.optionValue, record = _a.record, resource = _a.resource, source = _a.source, textAlign = _a.textAlign, translate = _a.translate, translateChoice = _a.translateChoice, rest = __rest(_a, [\"allowEmpty\", \"alwaysOn\", \"basePath\", \"component\", \"defaultValue\", \"formClassName\", \"initialValue\", \"initializeForm\", \"input\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"locale\", \"meta\", \"options\", \"optionText\", \"optionValue\", \"record\", \"resource\", \"source\", \"textAlign\", \"translate\", \"translateChoice\"]);\n    return rest;\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useInput, FieldTitle } from 'ra-core';\nimport ResettableTextField from './ResettableTextField';\nimport InputHelperText from './InputHelperText';\nimport sanitizeRestProps from './sanitizeRestProps';\n/**\n * An Input component for a string\n *\n * @example\n * <TextInput source=\"first_name\" />\n *\n * You can customize the `type` props (which defaults to \"text\").\n * Note that, due to a React bug, you should use `<NumberField>` instead of using type=\"number\".\n * @example\n * <TextInput source=\"email\" type=\"email\" />\n * <NumberInput source=\"nb_views\" />\n *\n * The object passed as `options` props is passed to the <ResettableTextField> component\n */\nvar TextInput = function (_a) {\n    var label = _a.label, format = _a.format, helperText = _a.helperText, onBlur = _a.onBlur, onFocus = _a.onFocus, onChange = _a.onChange, options = _a.options, parse = _a.parse, resource = _a.resource, source = _a.source, validate = _a.validate, rest = __rest(_a, [\"label\", \"format\", \"helperText\", \"onBlur\", \"onFocus\", \"onChange\", \"options\", \"parse\", \"resource\", \"source\", \"validate\"]);\n    var _b = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source, type: 'text', validate: validate }, rest)), id = _b.id, input = _b.input, isRequired = _b.isRequired, _c = _b.meta, error = _c.error, touched = _c.touched;\n    return (React.createElement(ResettableTextField, __assign({ id: id }, input, { label: label !== '' &&\n            label !== false && (React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired })), error: !!(touched && error), helperText: React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }) }, options, sanitizeRestProps(rest))));\n};\nTextInput.propTypes = {\n    className: PropTypes.string,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    options: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n};\nTextInput.defaultProps = {\n    options: {},\n};\nexport default TextInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { makeStyles, InputAdornment } from '@material-ui/core';\nimport { useTranslate } from 'ra-core';\nimport TextInput from './TextInput';\nvar useStyles = makeStyles({\n    input: {\n        marginTop: 32,\n    },\n}, { name: 'RaSearchInput' });\nvar SearchInput = function (props) {\n    var classesOverride = props.classes, rest = __rest(props, [\"classes\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    return (React.createElement(TextInput, __assign({ hiddenLabel: true, label: \"\", resettable: true, placeholder: translate('ra.action.search'), InputProps: {\n            endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\n                React.createElement(SearchIcon, { color: \"disabled\" }))),\n        }, className: classes.input }, rest)));\n};\nSearchInput.propTypes = {\n    classes: PropTypes.object,\n};\nexport default SearchInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport { useInput, FieldTitle } from 'ra-core';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport InputHelperText from './InputHelperText';\n/**\n * Convert Date object to String\n *\n * @param {Date} value value to convert\n * @returns {String} A standardized date (yyyy-MM-dd), to be passed to an <input type=\"date\" />\n */\nvar convertDateToString = function (value) {\n    if (!(value instanceof Date) || isNaN(value.getDate()))\n        return;\n    var pad = '00';\n    var yyyy = value.getFullYear().toString();\n    var MM = (value.getMonth() + 1).toString();\n    var dd = value.getDate().toString();\n    return yyyy + \"-\" + (pad + MM).slice(-2) + \"-\" + (pad + dd).slice(-2);\n};\nvar dateRegex = /^\\d{4}-\\d{2}-\\d{2}$/;\nvar getStringFromDate = function (value) {\n    // null, undefined and empty string values should not go through dateFormatter\n    // otherwise, it returns undefined and will make the input an uncontrolled one.\n    if (value == null || value === '') {\n        return '';\n    }\n    if (value instanceof Date) {\n        return convertDateToString(value);\n    }\n    // valid dates should not be converted\n    if (dateRegex.test(value)) {\n        return value;\n    }\n    return convertDateToString(new Date(value));\n};\nvar DateInput = function (_a) {\n    var _b = _a.format, format = _b === void 0 ? getStringFromDate : _b, label = _a.label, options = _a.options, source = _a.source, resource = _a.resource, helperText = _a.helperText, _c = _a.margin, margin = _c === void 0 ? 'dense' : _c, onBlur = _a.onBlur, onChange = _a.onChange, onFocus = _a.onFocus, parse = _a.parse, validate = _a.validate, _d = _a.variant, variant = _d === void 0 ? 'filled' : _d, rest = __rest(_a, [\"format\", \"label\", \"options\", \"source\", \"resource\", \"helperText\", \"margin\", \"onBlur\", \"onChange\", \"onFocus\", \"parse\", \"validate\", \"variant\"]);\n    var _e = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source,\n        validate: validate }, rest)), id = _e.id, input = _e.input, isRequired = _e.isRequired, _f = _e.meta, error = _f.error, touched = _f.touched;\n    return (React.createElement(TextField, __assign({ id: id }, input, { variant: variant, margin: margin, type: \"date\", error: !!(touched && error), helperText: React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }), label: React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }), InputLabelProps: {\n            shrink: true,\n        } }, options, sanitizeRestProps(rest))));\n};\nDateInput.propTypes = {\n    label: PropTypes.string,\n    options: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n};\nDateInput.defaultProps = {\n    options: {},\n};\nexport default DateInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useInput, useTranslate, FieldTitle } from 'ra-core';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport InputHelperText from './InputHelperText';\nvar useStyles = makeStyles(function (theme) { return ({\n    input: { width: theme.spacing(16) },\n}); }, { name: 'RaNullableBooleanInput' });\nvar getBooleanFromString = function (value) {\n    if (value === 'true')\n        return true;\n    if (value === 'false')\n        return false;\n    return null;\n};\nvar getStringFromBoolean = function (value) {\n    if (value === true)\n        return 'true';\n    if (value === false)\n        return 'false';\n    return '';\n};\nvar NullableBooleanInput = function (props) {\n    var className = props.className, classesOverride = props.classes, _a = props.format, format = _a === void 0 ? getStringFromBoolean : _a, helperText = props.helperText, label = props.label, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, onBlur = props.onBlur, onChange = props.onChange, onFocus = props.onFocus, options = props.options, displayNull = props.displayNull, _c = props.parse, parse = _c === void 0 ? getBooleanFromString : _c, resource = props.resource, source = props.source, validate = props.validate, _d = props.variant, variant = _d === void 0 ? 'filled' : _d, rest = __rest(props, [\"className\", \"classes\", \"format\", \"helperText\", \"label\", \"margin\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"displayNull\", \"parse\", \"resource\", \"source\", \"validate\", \"variant\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var _e = useInput({\n        format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source,\n        validate: validate,\n    }), id = _e.id, input = _e.input, isRequired = _e.isRequired, _f = _e.meta, error = _f.error, touched = _f.touched;\n    var enhancedOptions = displayNull\n        ? __assign(__assign({}, options), { SelectProps: __assign({ displayEmpty: true }, (options && options.SelectProps)), InputLabelProps: __assign({ shrink: true }, (options && options.InputLabelProps)) }) : options;\n    return (React.createElement(TextField, __assign({ id: id }, input, { select: true, margin: margin, label: React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }), error: !!(touched && error), helperText: React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }), className: classnames(classes.input, className), variant: variant }, enhancedOptions, sanitizeRestProps(rest)),\n        React.createElement(MenuItem, { value: \"\" }, translate('ra.boolean.null')),\n        React.createElement(MenuItem, { value: \"false\" }, translate('ra.boolean.false')),\n        React.createElement(MenuItem, { value: \"true\" }, translate('ra.boolean.true'))));\n};\nNullableBooleanInput.propTypes = {\n    label: PropTypes.string,\n    options: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n};\nexport default NullableBooleanInput;\n","import jsonExport from 'jsonexport/dist';\nimport downloadCSV from './downloadCSV';\nvar defaultExporter = function (data, _, __, resource) {\n    return jsonExport(data, function (err, csv) { return downloadCSV(csv, resource); });\n};\nexport default defaultExporter;\n","export default (function (csv, filename) {\n    var fakeLink = document.createElement('a');\n    fakeLink.style.display = 'none';\n    document.body.appendChild(fakeLink);\n    var blob = new Blob([csv], { type: 'text/csv' });\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n        // Manage IE11+ & Edge\n        window.navigator.msSaveOrOpenBlob(blob, filename + \".csv\");\n    }\n    else {\n        fakeLink.setAttribute('href', URL.createObjectURL(blob));\n        fakeLink.setAttribute('download', filename + \".csv\");\n        fakeLink.click();\n    }\n});\n","import { createContext } from 'react';\nimport defaultExporter from './defaultExporter';\nvar ExporterContext = createContext(defaultExporter);\nExporterContext.displayName = 'ExporterContext';\nexport default ExporterContext;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n    var _a, _b;\n    return ({\n        toolbar: (_a = {\n                justifyContent: 'space-between',\n                alignItems: 'flex-start',\n                paddingRight: 0\n            },\n            _a[theme.breakpoints.up('xs')] = {\n                paddingLeft: 0,\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                paddingLeft: theme.spacing(2),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _a),\n        actions: (_b = {\n                paddingTop: theme.spacing(3),\n                minHeight: theme.spacing(5)\n            },\n            _b[theme.breakpoints.down('xs')] = {\n                padding: theme.spacing(1),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _b),\n    });\n}, { name: 'RaListToolbar' });\nvar ListToolbar = function (props) {\n    var classesOverride = props.classes, filters = props.filters, filterValues = props.filterValues, // dynamically set via the UI by the user\n    permanentFilter = props.permanentFilter, // set in the List component by the developer\n    actions = props.actions, exporter = props.exporter, rest = __rest(props, [\"classes\", \"filters\", \"filterValues\", \"permanentFilter\", \"actions\", \"exporter\"]);\n    var classes = useStyles(props);\n    return (React.createElement(Toolbar, { className: classes.toolbar },\n        filters &&\n            React.cloneElement(filters, __assign(__assign({}, rest), { filterValues: filterValues, context: 'form' })),\n        React.createElement(\"span\", null),\n        actions &&\n            React.cloneElement(actions, __assign(__assign(__assign({}, rest), { className: classes.actions, exporter: exporter,\n                filters: filters,\n                filterValues: filterValues,\n                permanentFilter: permanentFilter }), actions.props))));\n};\nListToolbar.propTypes = {\n    classes: PropTypes.object,\n    filters: PropTypes.element,\n    permanentFilter: PropTypes.object,\n    actions: PropTypes.element,\n    exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n};\nexport default React.memo(ListToolbar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    actions: {\n        flexShrink: 0,\n        color: theme.palette.text.secondary,\n        marginLeft: 20,\n    },\n    hellip: { padding: '1.2em' },\n}); }, { name: 'RaPaginationActions' });\nfunction PaginationActions(props) {\n    var page = props.page, rowsPerPage = props.rowsPerPage, count = props.count, onChangePage = props.onChangePage, color = props.color, size = props.size;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var theme = useTheme();\n    /**\n     * Warning: material-ui's page is 0-based\n     */\n    var range = function () {\n        var nbPages = Math.ceil(count / rowsPerPage) || 1;\n        if (isNaN(page) || nbPages === 1) {\n            return [];\n        }\n        var input = [];\n        // display page links around the current page\n        if (page > 1) {\n            input.push(1);\n        }\n        if (page === 3) {\n            input.push(2);\n        }\n        if (page > 3) {\n            input.push('.');\n        }\n        if (page > 0) {\n            input.push(page);\n        }\n        input.push(page + 1);\n        if (page < nbPages - 1) {\n            input.push(page + 2);\n        }\n        if (page === nbPages - 4) {\n            input.push(nbPages - 1);\n        }\n        if (page < nbPages - 4) {\n            input.push('.');\n        }\n        if (page < nbPages - 2) {\n            input.push(nbPages);\n        }\n        return input;\n    };\n    var getNbPages = function () { return Math.ceil(count / rowsPerPage) || 1; };\n    var prevPage = function (event) {\n        if (page === 0) {\n            throw new Error(translate('ra.navigation.page_out_from_begin'));\n        }\n        onChangePage(event, page - 1);\n    };\n    var nextPage = function (event) {\n        if (page > getNbPages() - 1) {\n            throw new Error(translate('ra.navigation.page_out_from_end'));\n        }\n        onChangePage(event, page + 1);\n    };\n    var gotoPage = function (event) {\n        var page = parseInt(event.currentTarget.dataset.page, 10);\n        if (page < 0 || page > getNbPages() - 1) {\n            throw new Error(translate('ra.navigation.page_out_of_boundaries', {\n                page: page + 1,\n            }));\n        }\n        onChangePage(event, page);\n    };\n    var renderPageNums = function () {\n        return range().map(function (pageNum, index) {\n            return pageNum === '.' ? (React.createElement(\"span\", { key: \"hyphen_\" + index, className: classes.hellip }, \"\\u2026\")) : (React.createElement(Button, { size: size, className: \"page-number\", color: pageNum === page + 1 ? 'default' : color, key: pageNum, \"data-page\": pageNum - 1, onClick: gotoPage }, pageNum));\n        });\n    };\n    var nbPages = getNbPages();\n    if (nbPages === 1) {\n        return React.createElement(\"div\", { className: classes.actions });\n    }\n    return (React.createElement(\"div\", { className: classes.actions },\n        page > 0 && (React.createElement(Button, { color: color, size: size, key: \"prev\", onClick: prevPage, className: \"previous-page\" },\n            theme.direction === 'rtl' ? (React.createElement(ChevronRight, null)) : (React.createElement(ChevronLeft, null)),\n            translate('ra.navigation.prev'))),\n        renderPageNums(),\n        page !== nbPages - 1 && (React.createElement(Button, { color: color, size: size, key: \"next\", onClick: nextPage, className: \"next-page\" },\n            translate('ra.navigation.next'),\n            theme.direction === 'rtl' ? (React.createElement(ChevronLeft, null)) : (React.createElement(ChevronRight, null))))));\n}\n/**\n * PaginationActions propTypes are copied over from material-ui’s\n * TablePaginationActions propTypes. See\n * https://github.com/mui-org/material-ui/blob/869692ecf3812bc4577ed4dde81a9911c5949695/packages/material-ui/src/TablePaginationActions/TablePaginationActions.js#L53-L85\n * for reference.\n */\nPaginationActions.propTypes = {\n    backIconButtonProps: PropTypes.object,\n    count: PropTypes.number.isRequired,\n    classes: PropTypes.object,\n    nextIconButtonProps: PropTypes.object,\n    onChangePage: PropTypes.func.isRequired,\n    page: PropTypes.number.isRequired,\n    rowsPerPage: PropTypes.number.isRequired,\n    color: PropTypes.oneOf(['primary', 'secondary']),\n    size: PropTypes.oneOf(['small', 'medium', 'large']),\n    theme: PropTypes.object,\n};\nPaginationActions.defaultProps = {\n    color: 'primary',\n    size: 'small',\n};\nexport default React.memo(PaginationActions);\n","import React from 'react';\nimport pure from 'recompose/pure';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslate } from 'ra-core';\nvar PaginationLimit = function () {\n    var translate = useTranslate();\n    return (React.createElement(CardContent, null,\n        React.createElement(Typography, { variant: \"body2\" }, translate('ra.navigation.no_results'))));\n};\nexport default pure(PaginationLimit);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { TablePagination, Toolbar, useMediaQuery } from '@material-ui/core';\nimport { useTranslate, sanitizeListRestProps, ComponentPropType, } from 'ra-core';\nimport DefaultPaginationActions from './PaginationActions';\nimport DefaultPaginationLimit from './PaginationLimit';\nvar emptyArray = [];\nvar Pagination = function (_a) {\n    var loading = _a.loading, page = _a.page, perPage = _a.perPage, rowsPerPageOptions = _a.rowsPerPageOptions, total = _a.total, setPage = _a.setPage, setPerPage = _a.setPerPage, actions = _a.actions, limit = _a.limit, rest = __rest(_a, [\"loading\", \"page\", \"perPage\", \"rowsPerPageOptions\", \"total\", \"setPage\", \"setPerPage\", \"actions\", \"limit\"]);\n    useEffect(function () {\n        if (page < 1 || isNaN(page)) {\n            setPage(1);\n        }\n    }, [page, setPage]);\n    var translate = useTranslate();\n    var isSmall = useMediaQuery(function (theme) { return theme.breakpoints.down('sm'); });\n    var getNbPages = function () { return Math.ceil(total / perPage) || 1; };\n    /**\n     * Warning: material-ui's page is 0-based\n     */\n    var handlePageChange = useCallback(function (event, page) {\n        event && event.stopPropagation();\n        if (page < 0 || page > getNbPages() - 1) {\n            throw new Error(translate('ra.navigation.page_out_of_boundaries', {\n                page: page + 1,\n            }));\n        }\n        setPage(page + 1);\n    }, [total, perPage, setPage, translate] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var handlePerPageChange = useCallback(function (event) {\n        setPerPage(event.target.value);\n    }, [setPerPage]);\n    var labelDisplayedRows = useCallback(function (_a) {\n        var from = _a.from, to = _a.to, count = _a.count;\n        return translate('ra.navigation.page_range_info', {\n            offsetBegin: from,\n            offsetEnd: to,\n            total: count,\n        });\n    }, [translate]);\n    if (total === 0) {\n        return loading ? React.createElement(Toolbar, { variant: \"dense\" }) : limit;\n    }\n    if (isSmall) {\n        return (React.createElement(TablePagination, __assign({ count: total, rowsPerPage: perPage, page: page - 1, onChangePage: handlePageChange, rowsPerPageOptions: emptyArray, component: \"span\", labelDisplayedRows: labelDisplayedRows }, sanitizeListRestProps(rest))));\n    }\n    return (React.createElement(TablePagination, __assign({ count: total, rowsPerPage: perPage, page: page - 1, onChangePage: handlePageChange, onChangeRowsPerPage: handlePerPageChange, ActionsComponent: actions, component: \"span\", labelRowsPerPage: translate('ra.navigation.page_rows_per_page'), labelDisplayedRows: labelDisplayedRows, rowsPerPageOptions: rowsPerPageOptions }, sanitizeListRestProps(rest))));\n};\nPagination.propTypes = {\n    actions: ComponentPropType,\n    ids: PropTypes.array,\n    limit: PropTypes.element,\n    loading: PropTypes.bool,\n    page: PropTypes.number,\n    perPage: PropTypes.number,\n    rowsPerPageOptions: PropTypes.arrayOf(PropTypes.number),\n    setPage: PropTypes.func,\n    setPerPage: PropTypes.func,\n    total: PropTypes.number,\n};\nPagination.defaultProps = {\n    rowsPerPageOptions: [5, 10, 25],\n    actions: DefaultPaginationActions,\n    limit: React.createElement(DefaultPaginationLimit, null),\n};\nexport default React.memo(Pagination);\n","import { DELETE_MANY } from '../../core';\nexport var crudDeleteMany = function (resource, ids, basePath, refresh) {\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_DELETE_MANY,\n        payload: { ids: ids },\n        meta: {\n            resource: resource,\n            fetch: DELETE_MANY,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.deleted',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: ids.length,\n                    },\n                },\n                basePath: basePath,\n                refresh: refresh,\n                unselectAll: true,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_DELETE_MANY = 'RA/CRUD_DELETE_MANY';\nexport var CRUD_DELETE_MANY_LOADING = 'RA/CRUD_DELETE_MANY_LOADING';\nexport var CRUD_DELETE_MANY_FAILURE = 'RA/CRUD_DELETE_MANY_FAILURE';\nexport var CRUD_DELETE_MANY_SUCCESS = 'RA/CRUD_DELETE_MANY_SUCCESS';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionCheck from '@material-ui/icons/CheckCircle';\nimport AlertError from '@material-ui/icons/ErrorOutline';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    contentText: {\n        minWidth: 400,\n    },\n    confirmPrimary: {\n        color: theme.palette.primary.main,\n    },\n    confirmWarning: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n    iconPaddingStyle: {\n        paddingRight: '0.5em',\n    },\n}); }, { name: 'RaConfirm' });\n/**\n * Confirmation dialog\n *\n * @example\n * <Confirm\n *     isOpen={true}\n *     title=\"Delete Item\"\n *     content=\"Are you sure you want to delete this item?\"\n *     confirm=\"Yes\"\n *     confirmColor=\"primary\"\n *     ConfirmIcon=ActionCheck\n *     CancelIcon=AlertError\n *     cancel=\"Cancel\"\n *     onConfirm={() => { // do something }}\n *     onClose={() => { // do something }}\n * />\n */\nvar Confirm = function (props) {\n    var _a;\n    var isOpen = props.isOpen, loading = props.loading, title = props.title, content = props.content, confirm = props.confirm, cancel = props.cancel, confirmColor = props.confirmColor, ConfirmIcon = props.ConfirmIcon, CancelIcon = props.CancelIcon, onClose = props.onClose, onConfirm = props.onConfirm, _b = props.translateOptions, translateOptions = _b === void 0 ? {} : _b;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var handleConfirm = useCallback(function (e) {\n        e.stopPropagation();\n        onConfirm(e);\n    }, [onConfirm]);\n    var handleClick = useCallback(function (e) {\n        e.stopPropagation();\n    }, []);\n    return (React.createElement(Dialog, { open: isOpen, onClose: onClose, onClick: handleClick, \"aria-labelledby\": \"alert-dialog-title\" },\n        React.createElement(DialogTitle, { id: \"alert-dialog-title\" }, translate(title, __assign({ _: title }, translateOptions))),\n        React.createElement(DialogContent, null,\n            React.createElement(DialogContentText, { className: classes.contentText }, translate(content, __assign({ _: content }, translateOptions)))),\n        React.createElement(DialogActions, null,\n            React.createElement(Button, { disabled: loading, onClick: onClose },\n                React.createElement(CancelIcon, { className: classes.iconPaddingStyle }),\n                translate(cancel, { _: cancel })),\n            React.createElement(Button, { disabled: loading, onClick: handleConfirm, className: classnames('ra-confirm', (_a = {},\n                    _a[classes.confirmWarning] = confirmColor === 'warning',\n                    _a[classes.confirmPrimary] = confirmColor === 'primary',\n                    _a)), autoFocus: true },\n                React.createElement(ConfirmIcon, { className: classes.iconPaddingStyle }),\n                translate(confirm, { _: confirm })))));\n};\nConfirm.propTypes = {\n    cancel: PropTypes.string,\n    classes: PropTypes.object,\n    confirm: PropTypes.string,\n    confirmColor: PropTypes.string,\n    ConfirmIcon: PropTypes.elementType,\n    CancelIcon: PropTypes.elementType,\n    content: PropTypes.string.isRequired,\n    isOpen: PropTypes.bool,\n    loading: PropTypes.bool,\n    onClose: PropTypes.func.isRequired,\n    onConfirm: PropTypes.func.isRequired,\n    title: PropTypes.string.isRequired,\n};\nConfirm.defaultProps = {\n    cancel: 'ra.action.cancel',\n    classes: {},\n    confirm: 'ra.action.confirm',\n    confirmColor: 'primary',\n    ConfirmIcon: ActionCheck,\n    CancelIcon: AlertError,\n    isOpen: false,\n};\nexport default Confirm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Fragment, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport inflection from 'inflection';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useDeleteMany, useRefresh, useNotify, useUnselectAll, CRUD_DELETE_MANY, } from 'ra-core';\nimport Confirm from '../layout/Confirm';\nimport Button from './Button';\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaBulkDeleteWithConfirmButton' });\nvar BulkDeleteWithConfirmButton = function (props) {\n    var basePath = props.basePath, classesOverride = props.classes, confirmTitle = props.confirmTitle, confirmContent = props.confirmContent, icon = props.icon, label = props.label, onClick = props.onClick, resource = props.resource, selectedIds = props.selectedIds, rest = __rest(props, [\"basePath\", \"classes\", \"confirmTitle\", \"confirmContent\", \"icon\", \"label\", \"onClick\", \"resource\", \"selectedIds\"]);\n    var _a = useState(false), isOpen = _a[0], setOpen = _a[1];\n    var classes = useStyles(props);\n    var notify = useNotify();\n    var unselectAll = useUnselectAll();\n    var refresh = useRefresh();\n    var translate = useTranslate();\n    var _b = useDeleteMany(resource, selectedIds, {\n        action: CRUD_DELETE_MANY,\n        onSuccess: function () {\n            refresh();\n            notify('ra.notification.deleted', 'info', {\n                smart_count: selectedIds.length,\n            });\n            unselectAll(resource);\n        },\n        onFailure: function (error) {\n            notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning');\n            setOpen(false);\n        },\n    }), deleteMany = _b[0], loading = _b[1].loading;\n    var handleClick = function (e) {\n        setOpen(true);\n        e.stopPropagation();\n    };\n    var handleDialogClose = function () {\n        setOpen(false);\n    };\n    var handleDelete = function (e) {\n        deleteMany();\n        if (typeof onClick === 'function') {\n            onClick(e);\n        }\n    };\n    return (React.createElement(Fragment, null,\n        React.createElement(Button, __assign({ onClick: handleClick, label: label, className: classes.deleteButton }, sanitizeRestProps(rest)), icon),\n        React.createElement(Confirm, { isOpen: isOpen, loading: loading, title: confirmTitle, content: confirmContent, translateOptions: {\n                smart_count: selectedIds.length,\n                name: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n                    smart_count: selectedIds.length,\n                    _: inflection.inflect(resource, selectedIds.length),\n                }), true),\n            }, onConfirm: handleDelete, onClose: handleDialogClose })));\n};\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, classes = _a.classes, filterValues = _a.filterValues, label = _a.label, rest = __rest(_a, [\"basePath\", \"classes\", \"filterValues\", \"label\"]);\n    return rest;\n};\nBulkDeleteWithConfirmButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    confirmTitle: PropTypes.string,\n    confirmContent: PropTypes.string,\n    label: PropTypes.string,\n    resource: PropTypes.string.isRequired,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n    icon: PropTypes.element,\n};\nBulkDeleteWithConfirmButton.defaultProps = {\n    confirmTitle: 'ra.message.bulk_delete_title',\n    confirmContent: 'ra.message.bulk_delete_content',\n    label: 'ra.action.delete',\n    icon: React.createElement(ActionDelete, null),\n};\nexport default BulkDeleteWithConfirmButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useDeleteMany, useRefresh, useNotify, useUnselectAll, CRUD_DELETE_MANY, } from 'ra-core';\nimport Button from './Button';\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaBulkDeleteWithUndoButton' });\nvar BulkDeleteWithUndoButton = function (props) {\n    var basePath = props.basePath, classesOverride = props.classes, icon = props.icon, label = props.label, onClick = props.onClick, resource = props.resource, selectedIds = props.selectedIds, rest = __rest(props, [\"basePath\", \"classes\", \"icon\", \"label\", \"onClick\", \"resource\", \"selectedIds\"]);\n    var classes = useStyles(props);\n    var notify = useNotify();\n    var unselectAll = useUnselectAll();\n    var refresh = useRefresh();\n    var _a = useDeleteMany(resource, selectedIds, {\n        action: CRUD_DELETE_MANY,\n        onSuccess: function () {\n            notify('ra.notification.deleted', 'info', { smart_count: selectedIds.length }, true);\n            unselectAll(resource);\n            refresh();\n        },\n        onFailure: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning');\n        },\n        undoable: true,\n    }), deleteMany = _a[0], loading = _a[1].loading;\n    var handleClick = function (e) {\n        deleteMany();\n        if (typeof onClick === 'function') {\n            onClick(e);\n        }\n    };\n    return (React.createElement(Button, __assign({ onClick: handleClick, label: label, className: classes.deleteButton, disabled: loading }, sanitizeRestProps(rest)), icon));\n};\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, classes = _a.classes, filterValues = _a.filterValues, label = _a.label, rest = __rest(_a, [\"basePath\", \"classes\", \"filterValues\", \"label\"]);\n    return rest;\n};\nBulkDeleteWithUndoButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    label: PropTypes.string,\n    resource: PropTypes.string.isRequired,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n    icon: PropTypes.element,\n};\nBulkDeleteWithUndoButton.defaultProps = {\n    label: 'ra.action.delete',\n    icon: React.createElement(ActionDelete, null),\n};\nexport default BulkDeleteWithUndoButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport BulkDeleteWithConfirmButton from './BulkDeleteWithConfirmButton';\nimport BulkDeleteWithUndoButton from './BulkDeleteWithUndoButton';\nvar BulkDeleteButton = function (_a) {\n    var undoable = _a.undoable, props = __rest(_a, [\"undoable\"]);\n    return undoable ? (React.createElement(BulkDeleteWithUndoButton, __assign({}, props))) : (React.createElement(BulkDeleteWithConfirmButton, __assign({}, props)));\n};\nBulkDeleteButton.propTypes = {\n    basePath: PropTypes.string,\n    label: PropTypes.string,\n    resource: PropTypes.string.isRequired,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n    undoable: PropTypes.bool,\n    icon: PropTypes.element,\n};\nBulkDeleteButton.defaultProps = {\n    undoable: true,\n};\nexport default BulkDeleteButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: (_a = {\n                display: 'flex',\n                justifyContent: 'flex-end',\n                alignItems: 'flex-start',\n                paddingTop: theme.spacing(3),\n                paddingBottom: theme.spacing(1),\n                minHeight: theme.spacing(5)\n            },\n            _a[theme.breakpoints.up('xs')] = {\n                paddingLeft: 0,\n                paddingRight: 0,\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                paddingRight: theme.spacing(2),\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                padding: theme.spacing(1),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _a),\n    });\n}, { name: 'RaTopToolbar' });\nvar TopToolbar = function (props) {\n    var className = props.className, children = props.children, rest = __rest(props, [\"className\", \"children\"]);\n    var classes = useStyles(props);\n    return (React.createElement(Toolbar, __assign({ className: classnames(classes.root, className) }, rest), children));\n};\nTopToolbar.propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n};\nexport default TopToolbar;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\nimport { useTranslate, sanitizeListRestProps } from 'ra-core';\nimport TopToolbar from '../layout/TopToolbar';\nvar useStyles = makeStyles(function (theme) { return ({\n    toolbar: {\n        zIndex: 3,\n        color: theme.palette.type === 'light'\n            ? theme.palette.primary.main\n            : theme.palette.text.primary,\n        justifyContent: 'space-between',\n        backgroundColor: theme.palette.type === 'light'\n            ? lighten(theme.palette.primary.light, 0.85)\n            : theme.palette.primary.dark,\n        minHeight: theme.spacing(8),\n        height: theme.spacing(8),\n        transition: theme.transitions.create('height') + \", \" + theme.transitions.create('min-height'),\n    },\n    buttons: {},\n    collapsed: {\n        minHeight: 0,\n        height: 0,\n        overflowY: 'hidden',\n    },\n    title: {\n        flex: '0 0 auto',\n    },\n}); }, { name: 'RaBulkActionsToolbar' });\nvar BulkActionsToolbar = function (props) {\n    var _a;\n    var basePath = props.basePath, classesOverride = props.classes, filterValues = props.filterValues, label = props.label, resource = props.resource, selectedIds = props.selectedIds, children = props.children, rest = __rest(props, [\"basePath\", \"classes\", \"filterValues\", \"label\", \"resource\", \"selectedIds\", \"children\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(Toolbar, __assign({ \"data-test\": \"bulk-actions-toolbar\", className: classnames(classes.toolbar, (_a = {},\n            _a[classes.collapsed] = selectedIds.length === 0,\n            _a)) }, sanitizeListRestProps(rest)),\n        React.createElement(\"div\", { className: classes.title },\n            React.createElement(Typography, { color: \"inherit\", variant: \"subtitle1\" }, translate(label, {\n                _: label,\n                smart_count: selectedIds.length,\n            }))),\n        React.createElement(TopToolbar, null, Children.map(children, function (child) {\n            return cloneElement(Children.only(child), {\n                basePath: basePath,\n                filterValues: filterValues,\n                resource: resource,\n                selectedIds: selectedIds,\n            });\n        }))));\n};\nBulkActionsToolbar.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    basePath: PropTypes.string,\n    filterValues: PropTypes.object,\n    label: PropTypes.string,\n    resource: PropTypes.string,\n    selectedIds: PropTypes.array,\n};\nBulkActionsToolbar.defaultProps = {\n    label: 'ra.action.bulk_actions',\n};\nexport default BulkActionsToolbar;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport onlyUpdateForKeys from 'recompose/onlyUpdateForKeys';\nimport { Fab, makeStyles, useMediaQuery } from '@material-ui/core';\nimport ContentAdd from '@material-ui/icons/Add';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'ra-core';\nimport Button, { sanitizeButtonRestProps } from './Button';\nvar CreateButton = function (props) {\n    var _a = props.basePath, basePath = _a === void 0 ? '' : _a, className = props.className, classesOverride = props.classes, _b = props.label, label = _b === void 0 ? 'ra.action.create' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, rest = __rest(props, [\"basePath\", \"className\", \"classes\", \"label\", \"icon\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var isSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('sm');\n    });\n    return isSmall ? (React.createElement(Fab, __assign({ component: Link, color: \"primary\", className: classnames(classes.floating, className), to: basePath + \"/create\", \"aria-label\": label && translate(label) }, sanitizeButtonRestProps(rest)), icon)) : (React.createElement(Button, __assign({ component: Link, to: basePath + \"/create\", className: className, label: label }, rest), icon));\n};\nvar defaultIcon = React.createElement(ContentAdd, null);\nvar useStyles = makeStyles(function (theme) { return ({\n    floating: {\n        color: theme.palette.getContrastText(theme.palette.primary.main),\n        margin: 0,\n        top: 'auto',\n        right: 20,\n        bottom: 60,\n        left: 'auto',\n        position: 'fixed',\n        zIndex: 1000,\n    },\n    floatingLink: {\n        color: 'inherit',\n    },\n}); }, { name: 'RaCreateButton' });\nCreateButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    icon: PropTypes.element,\n    label: PropTypes.string,\n};\nvar enhance = onlyUpdateForKeys(['basePath', 'label', 'translate']);\nexport default enhance(CreateButton);\n","/**\n * Helper function for calling the dataProvider.getMany() method,\n * and getting a Promise for the records indexed by id in return.\n *\n * @example\n *     fetchRelatedRecords(dataProvider)(records, 'post_id', 'posts').then(posts =>\n *          posts.map(record => ({\n *              ...record,\n *              post_title: posts[record.post_id].title,\n *          }));\n */\nvar fetchRelatedRecords = function (dataProvider) { return function (data, field, resource) {\n    return dataProvider\n        .getMany(resource, { ids: getRelatedIds(data, field) })\n        .then(function (_a) {\n        var data = _a.data;\n        return data.reduce(function (acc, post) {\n            acc[post.id] = post;\n            return acc;\n        }, {});\n    });\n}; };\n/**\n * Extracts, aggregates and deduplicates the ids of related records\n *\n * @example\n *     const books = [\n *         { id: 1, author_id: 123, title: 'Pride and Prejudice' },\n *         { id: 2, author_id: 123, title: 'Sense and Sensibility' },\n *         { id: 3, author_id: 456, title: 'War and Peace' },\n *     ];\n *     getRelatedIds(books, 'author_id'); => [123, 456]\n *\n * @example\n *     const books = [\n *         { id: 1, tag_ids: [1, 2], title: 'Pride and Prejudice' },\n *         { id: 2, tag_ids: [2, 3], title: 'Sense and Sensibility' },\n *         { id: 3, tag_ids: [4], title: 'War and Peace' },\n *     ];\n *     getRelatedIds(records, 'tag_ids'); => [1, 2, 3, 4]\n *\n * @param {Object[]} records An array of records\n * @param {string} field the identifier of the record field to use\n */\nexport var getRelatedIds = function (records, field) {\n    return Array.from(new Set(records\n        .filter(function (record) { return record[field] != null; })\n        .map(function (record) { return record[field]; })\n        .reduce(function (ids, value) { return ids.concat(value); }, [])));\n};\nexport default fetchRelatedRecords;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport DownloadIcon from '@material-ui/icons/GetApp';\nimport { fetchRelatedRecords, useDataProvider, useNotify, ExporterContext, } from 'ra-core';\nimport Button from './Button';\nvar ExportButton = function (_a) {\n    var sort = _a.sort, _b = _a.filter, filter = _b === void 0 ? defaultFilter : _b, _c = _a.maxResults, maxResults = _c === void 0 ? 1000 : _c, resource = _a.resource, onClick = _a.onClick, _d = _a.label, label = _d === void 0 ? 'ra.action.export' : _d, _e = _a.icon, icon = _e === void 0 ? defaultIcon : _e, customExporter = _a.exporter, rest = __rest(_a, [\"sort\", \"filter\", \"maxResults\", \"resource\", \"onClick\", \"label\", \"icon\", \"exporter\"]);\n    var exporterFromContext = useContext(ExporterContext);\n    var exporter = customExporter || exporterFromContext;\n    var dataProvider = useDataProvider();\n    var notify = useNotify();\n    var handleClick = useCallback(function (event) {\n        dataProvider\n            .getList(resource, {\n            sort: sort,\n            filter: filter,\n            pagination: { page: 1, perPage: maxResults },\n        })\n            .then(function (_a) {\n            var data = _a.data;\n            return exporter &&\n                exporter(data, fetchRelatedRecords(dataProvider), dataProvider, resource);\n        })\n            .catch(function (error) {\n            console.error(error);\n            notify('ra.notification.http_error', 'warning');\n        });\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [\n        dataProvider,\n        exporter,\n        filter,\n        maxResults,\n        notify,\n        onClick,\n        resource,\n        sort,\n    ]);\n    return (React.createElement(Button, __assign({ onClick: handleClick, label: label }, sanitizeRestProps(rest)), icon));\n};\nvar defaultIcon = React.createElement(DownloadIcon, null);\nvar defaultFilter = {};\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, rest = __rest(_a, [\"basePath\"]);\n    return rest;\n};\nExportButton.propTypes = {\n    basePath: PropTypes.string,\n    exporter: PropTypes.func,\n    filter: PropTypes.object,\n    label: PropTypes.string,\n    maxResults: PropTypes.number,\n    resource: PropTypes.string.isRequired,\n    sort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    icon: PropTypes.element,\n};\nexport default ExportButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { cloneElement, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps } from 'ra-core';\nimport TopToolbar from '../layout/TopToolbar';\nimport { CreateButton, ExportButton } from '../button';\nvar ListActions = function (_a) {\n    var currentSort = _a.currentSort, className = _a.className, resource = _a.resource, filters = _a.filters, displayedFilters = _a.displayedFilters, exporter = _a.exporter, filterValues = _a.filterValues, permanentFilter = _a.permanentFilter, hasCreate = _a.hasCreate, basePath = _a.basePath, selectedIds = _a.selectedIds, onUnselectItems = _a.onUnselectItems, showFilter = _a.showFilter, total = _a.total, rest = __rest(_a, [\"currentSort\", \"className\", \"resource\", \"filters\", \"displayedFilters\", \"exporter\", \"filterValues\", \"permanentFilter\", \"hasCreate\", \"basePath\", \"selectedIds\", \"onUnselectItems\", \"showFilter\", \"total\"]);\n    return useMemo(function () { return (React.createElement(TopToolbar, __assign({ className: className }, sanitizeListRestProps(rest)),\n        filters &&\n            cloneElement(filters, {\n                resource: resource,\n                showFilter: showFilter,\n                displayedFilters: displayedFilters,\n                filterValues: filterValues,\n                context: 'button',\n            }),\n        hasCreate && React.createElement(CreateButton, { basePath: basePath }),\n        exporter !== false && (React.createElement(ExportButton, { disabled: total === 0, resource: resource, sort: currentSort, filter: __assign(__assign({}, filterValues), permanentFilter) })))); }, [resource, displayedFilters, filterValues, selectedIds, filters, total] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n};\nListActions.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    currentSort: PropTypes.object,\n    displayedFilters: PropTypes.object,\n    exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n    filters: PropTypes.element,\n    filterValues: PropTypes.object,\n    hasCreate: PropTypes.bool,\n    resource: PropTypes.string,\n    onUnselectItems: PropTypes.func.isRequired,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    showFilter: PropTypes.func,\n    total: PropTypes.number,\n};\nListActions.defaultProps = {\n    selectedIds: [],\n    onUnselectItems: function () { return null; },\n};\nexport default ListActions;\n","import React from 'react';\nimport Inbox from '@material-ui/icons/Inbox';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/styles';\nimport { useTranslate } from 'ra-core';\nimport { CreateButton } from '../button';\nimport inflection from 'inflection';\nvar useStyles = makeStyles(function (theme) { return ({\n    message: {\n        textAlign: 'center',\n        opacity: theme.palette.type === 'light' ? 0.5 : 0.8,\n        margin: '0 1em',\n        color: theme.palette.type === 'light'\n            ? 'inherit'\n            : theme.palette.text.primary,\n    },\n    icon: {\n        width: '9em',\n        height: '9em',\n    },\n    toolbar: {\n        textAlign: 'center',\n        marginTop: '2em',\n    },\n}); }, { name: 'RaEmpty' });\nvar Empty = function (props) {\n    var resource = props.resource, basePath = props.basePath;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var resourceName = inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n        smart_count: 0,\n        _: inflection.pluralize(resource),\n    }), true);\n    var emptyMessage = translate('ra.page.empty', { name: resourceName });\n    var inviteMessage = translate('ra.page.invite');\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { className: classes.message },\n            React.createElement(Inbox, { className: classes.icon }),\n            React.createElement(Typography, { variant: \"h4\", paragraph: true }, translate(\"resources.\" + resource + \".empty\", {\n                _: emptyMessage,\n            })),\n            React.createElement(Typography, { variant: \"body1\" }, translate(\"resources.\" + resource + \".invite\", {\n                _: inviteMessage,\n            }))),\n        React.createElement(\"div\", { className: classes.toolbar },\n            React.createElement(CreateButton, { variant: \"contained\", basePath: basePath }))));\n};\nexport default Empty;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useCheckMinimumRequiredProps, useListController, getListControllerProps, ComponentPropType, ExporterContext, defaultExporter, } from 'ra-core';\nimport Title, { TitlePropType } from '../layout/Title';\nimport ListToolbar from './ListToolbar';\nimport DefaultPagination from './Pagination';\nimport BulkDeleteButton from '../button/BulkDeleteButton';\nimport BulkActionsToolbar from './BulkActionsToolbar';\nimport DefaultActions from './ListActions';\nimport Empty from './Empty';\n/**\n * List page component\n *\n * The <List> component renders the list layout (title, buttons, filters, pagination),\n * and fetches the list of records from the REST API.\n * It then delegates the rendering of the list of records to its child component.\n * Usually, it's a <Datagrid>, responsible for displaying a table with one row for each post.\n *\n * In Redux terms, <List> is a connected component, and <Datagrid> is a dumb component.\n *\n * The <List> component accepts the following props:\n *\n * - actions\n * - aside\n * - component\n * - filter (the permanent filter to apply to the query)\n * - filters (a React component used to display the filter form)\n * - pagination\n * - perPage\n * - sort\n * - title\n *\n * @example\n *\n * const PostFilter = (props) => (\n *     <Filter {...props}>\n *         <TextInput label=\"Search\" source=\"q\" alwaysOn />\n *         <TextInput label=\"Title\" source=\"title\" />\n *     </Filter>\n * );\n * export const PostList = (props) => (\n *     <List {...props}\n *         title=\"List of posts\"\n *         sort={{ field: 'published_at' }}\n *         filter={{ is_published: true }}\n *         filters={PostFilter}\n *     >\n *         <Datagrid>\n *             <TextField source=\"id\" />\n *             <TextField source=\"title\" />\n *             <EditButton />\n *         </Datagrid>\n *     </List>\n * );\n */\nvar List = function (props) { return React.createElement(ListView, __assign({}, props, useListController(props))); };\nList.propTypes = {\n    // the props you can change\n    actions: PropTypes.element,\n    aside: PropTypes.element,\n    bulkActionButtons: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    filter: PropTypes.object,\n    filterDefaultValues: PropTypes.object,\n    filters: PropTypes.element,\n    pagination: PropTypes.element,\n    perPage: PropTypes.number.isRequired,\n    sort: PropTypes.shape({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    title: TitlePropType,\n    // the props managed by react-admin\n    authProvider: PropTypes.func,\n    hasCreate: PropTypes.bool.isRequired,\n    hasEdit: PropTypes.bool.isRequired,\n    hasList: PropTypes.bool.isRequired,\n    hasShow: PropTypes.bool.isRequired,\n    location: PropTypes.object,\n    match: PropTypes.object,\n    path: PropTypes.string,\n    resource: PropTypes.string.isRequired,\n};\nList.defaultProps = {\n    filter: {},\n    perPage: 10,\n};\nexport var ListView = function (props) {\n    var actions = props.actions, aside = props.aside, filter = props.filter, filters = props.filters, bulkActionButtons = props.bulkActionButtons, pagination = props.pagination, children = props.children, className = props.className, classesOverride = props.classes, Content = props.component, _a = props.exporter, exporter = _a === void 0 ? defaultExporter : _a, title = props.title, empty = props.empty, rest = __rest(props, [\"actions\", \"aside\", \"filter\", \"filters\", \"bulkActionButtons\", \"pagination\", \"children\", \"className\", \"classes\", \"component\", \"exporter\", \"title\", \"empty\"]);\n    useCheckMinimumRequiredProps('List', ['children'], props);\n    var classes = useStyles(props);\n    var defaultTitle = rest.defaultTitle, version = rest.version, total = rest.total, loaded = rest.loaded, loading = rest.loading, hasCreate = rest.hasCreate, filterValues = rest.filterValues;\n    var controllerProps = getListControllerProps(rest);\n    var renderList = function () {\n        var _a;\n        return (React.createElement(React.Fragment, null,\n            (filters || actions) && (React.createElement(ListToolbar, __assign({ filters: filters }, controllerProps, { actions: actions, exporter: exporter, permanentFilter: filter }))),\n            React.createElement(\"div\", { className: classes.main },\n                React.createElement(Content, { className: classnames(classes.content, (_a = {},\n                        _a[classes.bulkActionsDisplayed] = controllerProps.selectedIds.length > 0,\n                        _a)), key: version },\n                    bulkActionButtons !== false && bulkActionButtons && (React.createElement(BulkActionsToolbar, __assign({}, controllerProps), bulkActionButtons)),\n                    children &&\n                        cloneElement(Children.only(children), __assign(__assign({}, controllerProps), { hasBulkActions: bulkActionButtons !== false })),\n                    pagination && cloneElement(pagination, controllerProps)),\n                aside && cloneElement(aside, controllerProps))));\n    };\n    var shouldRenderEmptyPage = hasCreate &&\n        loaded &&\n        !loading &&\n        !total &&\n        !Object.keys(filterValues).length;\n    return (React.createElement(ExporterContext.Provider, { value: exporter },\n        React.createElement(\"div\", __assign({ className: classnames('list-page', classes.root, className) }, sanitizeRestProps(rest)),\n            React.createElement(Title, { title: title, defaultTitle: defaultTitle }),\n            shouldRenderEmptyPage\n                ? cloneElement(empty, controllerProps)\n                : renderList())));\n};\nListView.propTypes = {\n    actions: PropTypes.element,\n    aside: PropTypes.element,\n    basePath: PropTypes.string,\n    bulkActionButtons: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n    children: PropTypes.element,\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    component: ComponentPropType,\n    currentSort: PropTypes.shape({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    data: PropTypes.object,\n    defaultTitle: PropTypes.string,\n    displayedFilters: PropTypes.object,\n    exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n    filterDefaultValues: PropTypes.object,\n    filters: PropTypes.element,\n    filterValues: PropTypes.object,\n    hasCreate: PropTypes.bool,\n    hideFilter: PropTypes.func,\n    ids: PropTypes.array,\n    loading: PropTypes.bool,\n    onSelect: PropTypes.func,\n    onToggleItem: PropTypes.func,\n    onUnselectItems: PropTypes.func,\n    page: PropTypes.number,\n    pagination: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n    perPage: PropTypes.number,\n    refresh: PropTypes.func,\n    resource: PropTypes.string,\n    selectedIds: PropTypes.array,\n    setFilters: PropTypes.func,\n    setPage: PropTypes.func,\n    setPerPage: PropTypes.func,\n    setSort: PropTypes.func,\n    showFilter: PropTypes.func,\n    title: TitlePropType,\n    total: PropTypes.number,\n    version: PropTypes.number,\n};\nvar DefaultBulkActionButtons = function (props) { return React.createElement(BulkDeleteButton, __assign({}, props)); };\nListView.defaultProps = {\n    actions: React.createElement(DefaultActions, null),\n    classes: {},\n    component: Card,\n    bulkActionButtons: React.createElement(DefaultBulkActionButtons, null),\n    pagination: React.createElement(DefaultPagination, null),\n    empty: React.createElement(Empty, null),\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {},\n        main: {\n            display: 'flex',\n        },\n        content: (_a = {\n                marginTop: 0,\n                transition: theme.transitions.create('margin-top'),\n                position: 'relative',\n                flex: '1 1 auto'\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                boxShadow: 'none',\n            },\n            _a.overflow = 'inherit',\n            _a),\n        bulkActionsDisplayed: {\n            marginTop: -theme.spacing(8),\n            transition: theme.transitions.create('margin-top'),\n        },\n        actions: {\n            zIndex: 2,\n            display: 'flex',\n            justifyContent: 'flex-end',\n            flexWrap: 'wrap',\n        },\n        noResults: { padding: 20 },\n    });\n}, { name: 'RaList' });\nvar sanitizeRestProps = function (_a) {\n    var actions = _a.actions, basePath = _a.basePath, changeListParams = _a.changeListParams, children = _a.children, classes = _a.classes, className = _a.className, crudGetList = _a.crudGetList, currentSort = _a.currentSort, data = _a.data, defaultTitle = _a.defaultTitle, displayedFilters = _a.displayedFilters, exporter = _a.exporter, filter = _a.filter, filterDefaultValues = _a.filterDefaultValues, filters = _a.filters, filterValues = _a.filterValues, hasCreate = _a.hasCreate, hasEdit = _a.hasEdit, hasList = _a.hasList, hasShow = _a.hasShow, hideFilter = _a.hideFilter, history = _a.history, ids = _a.ids, loading = _a.loading, loaded = _a.loaded, locale = _a.locale, location = _a.location, match = _a.match, onSelect = _a.onSelect, onToggleItem = _a.onToggleItem, onUnselectItems = _a.onUnselectItems, options = _a.options, page = _a.page, pagination = _a.pagination, params = _a.params, permissions = _a.permissions, perPage = _a.perPage, push = _a.push, query = _a.query, refresh = _a.refresh, resource = _a.resource, selectedIds = _a.selectedIds, setFilters = _a.setFilters, setPage = _a.setPage, setPerPage = _a.setPerPage, setSelectedIds = _a.setSelectedIds, setSort = _a.setSort, showFilter = _a.showFilter, sort = _a.sort, title = _a.title, toggleItem = _a.toggleItem, total = _a.total, version = _a.version, empty = _a.empty, rest = __rest(_a, [\"actions\", \"basePath\", \"changeListParams\", \"children\", \"classes\", \"className\", \"crudGetList\", \"currentSort\", \"data\", \"defaultTitle\", \"displayedFilters\", \"exporter\", \"filter\", \"filterDefaultValues\", \"filters\", \"filterValues\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"hideFilter\", \"history\", \"ids\", \"loading\", \"loaded\", \"locale\", \"location\", \"match\", \"onSelect\", \"onToggleItem\", \"onUnselectItems\", \"options\", \"page\", \"pagination\", \"params\", \"permissions\", \"perPage\", \"push\", \"query\", \"refresh\", \"resource\", \"selectedIds\", \"setFilters\", \"setPage\", \"setPerPage\", \"setSelectedIds\", \"setSort\", \"showFilter\", \"sort\", \"title\", \"toggleItem\", \"total\", \"version\", \"empty\"]);\n    return rest;\n};\nexport default List;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport shouldUpdate from 'recompose/shouldUpdate';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldTitle, useTranslate } from 'ra-core';\n// remove the sort icons when not active\nvar useStyles = makeStyles({\n    icon: {\n        display: 'none',\n    },\n    active: {\n        '& $icon': {\n            display: 'inline',\n        },\n    },\n}, { name: 'RaDatagridHeaderCell' });\nexport var DatagridHeaderCell = function (props) {\n    var className = props.className, classesOverride = props.classes, field = props.field, currentSort = props.currentSort, updateSort = props.updateSort, resource = props.resource, isSorting = props.isSorting, rest = __rest(props, [\"className\", \"classes\", \"field\", \"currentSort\", \"updateSort\", \"resource\", \"isSorting\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(TableCell, __assign({ className: classnames(className, field.props.headerClassName), align: field.props.textAlign, variant: \"head\" }, rest), field.props.sortable !== false &&\n        (field.props.sortBy || field.props.source) ? (React.createElement(Tooltip, { title: translate('ra.action.sort'), placement: field.props.textAlign === 'right'\n            ? 'bottom-end'\n            : 'bottom-start', enterDelay: 300 },\n        React.createElement(TableSortLabel, { active: currentSort.field ===\n                (field.props.sortBy || field.props.source), direction: currentSort.order === 'ASC' ? 'asc' : 'desc', \"data-sort\": field.props.sortBy || field.props.source, onClick: updateSort, classes: classes },\n            React.createElement(FieldTitle, { label: field.props.label, source: field.props.source, resource: resource })))) : (React.createElement(FieldTitle, { label: field.props.label, source: field.props.source, resource: resource }))));\n};\nDatagridHeaderCell.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    field: PropTypes.element,\n    currentSort: PropTypes.shape({\n        sort: PropTypes.string,\n        order: PropTypes.string,\n    }).isRequired,\n    isSorting: PropTypes.bool,\n    sortable: PropTypes.bool,\n    resource: PropTypes.string,\n    updateSort: PropTypes.func.isRequired,\n};\nexport default shouldUpdate(function (props, nextProps) {\n    return props.updateSort !== nextProps.updateSort ||\n        props.currentSort.sort !== nextProps.currentSort.sort ||\n        props.currentSort.order !== nextProps.currentSort.order ||\n        (nextProps.isSorting && props.sortable !== nextProps.sortable);\n})(DatagridHeaderCell);\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        backgroundColor: theme.palette.grey[300],\n        display: 'flex',\n    },\n}); }, { name: 'RaPlaceholder' });\nvar Placeholder = function (props) {\n    var classes = useStyles(props);\n    return (React.createElement(\"div\", { className: classnames(props.className, classes.root) }, \"\\u00A0\"));\n};\nexport default Placeholder;\n","import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport Table from '@material-ui/core/Table';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport IconButton from '@material-ui/core/IconButton';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport classnames from 'classnames';\nimport Placeholder from './Placeholder';\nimport { useTimeout } from 'ra-core';\nvar times = function (nbChildren, fn) {\n    return Array.from({ length: nbChildren }, function (_, key) { return fn(key); });\n};\nvar DatagridLoading = function (_a) {\n    var classes = _a.classes, className = _a.className, expand = _a.expand, hasBulkActions = _a.hasBulkActions, nbChildren = _a.nbChildren, _b = _a.nbFakeLines, nbFakeLines = _b === void 0 ? 5 : _b, size = _a.size;\n    var oneSecondHasPassed = useTimeout(1000);\n    return oneSecondHasPassed ? (React.createElement(Table, { className: classnames(classes.table, className), size: size },\n        React.createElement(TableHead, null,\n            React.createElement(TableRow, { className: classes.row },\n                expand && (React.createElement(TableCell, { padding: \"none\", className: classes.expandHeader })),\n                hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\", className: classes.expandIconCell },\n                    React.createElement(Checkbox, { className: \"select-all\", color: \"primary\", checked: false }))),\n                times(nbChildren, function (key) { return (React.createElement(TableCell, { variant: \"head\", className: classes.headerCell, key: key },\n                    React.createElement(Placeholder, null))); }))),\n        React.createElement(TableBody, null, times(nbFakeLines, function (key1) { return (React.createElement(TableRow, { key: key1, style: { opacity: 1 / (key1 + 1) } },\n            expand && (React.createElement(TableCell, { padding: \"none\", className: classes.expandIconCell },\n                React.createElement(IconButton, { className: classes.expandIcon, component: \"div\", \"aria-hidden\": \"true\" },\n                    React.createElement(ExpandMoreIcon, null)))),\n            hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\", className: classes.expandIconCell },\n                React.createElement(Checkbox, { className: \"select-all\", color: \"primary\", checked: false }))),\n            times(nbChildren, function (key2) { return (React.createElement(TableCell, { className: classes.rowCell, key: key2 },\n                React.createElement(Placeholder, null))); }))); })))) : null;\n};\nDatagridLoading.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool,\n    nbChildren: PropTypes.number,\n    nbFakeLines: PropTypes.number,\n    size: PropTypes.oneOf(['small', 'medium']),\n};\nexport default memo(DatagridLoading);\n","import { useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toggleListItemExpand } from '../actions/listActions';\n/**\n * State-like hook for controlling the expanded state of a list item\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {string|integer} id The record identifier, e.g. 123\n *\n * @returns {Object} Destructure as [expanded, toggleExpanded].\n *\n * @example\n *\n * const [expanded, toggleExpanded] = useExpanded('posts', 123);\n * const expandIcon = expanded ? ExpandLess : ExpandMore;\n * const onExpandClick = () => toggleExpanded();\n */\nvar useExpanded = function (resource, id) {\n    var dispatch = useDispatch();\n    var expandedList = useSelector(function (reduxState) {\n        return reduxState.admin.resources[resource]\n            ? reduxState.admin.resources[resource].list.expanded\n            : undefined;\n    });\n    var expanded = expandedList === undefined\n        ? false\n        : expandedList.map(function (el) { return el == id; }).indexOf(true) !== -1; // eslint-disable-line eqeqeq\n    var toggleExpanded = useCallback(function () {\n        dispatch(toggleListItemExpand(resource, id));\n    }, [dispatch, resource, id]);\n    return [expanded, toggleExpanded];\n};\nexport default useExpanded;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TableCell from '@material-ui/core/TableCell';\nimport classnames from 'classnames';\nvar sanitizeRestProps = function (_a) {\n    var cellClassName = _a.cellClassName, className = _a.className, field = _a.field, formClassName = _a.formClassName, headerClassName = _a.headerClassName, record = _a.record, basePath = _a.basePath, resource = _a.resource, rest = __rest(_a, [\"cellClassName\", \"className\", \"field\", \"formClassName\", \"headerClassName\", \"record\", \"basePath\", \"resource\"]);\n    return rest;\n};\nvar DatagridCell = function (_a) {\n    var className = _a.className, field = _a.field, record = _a.record, basePath = _a.basePath, resource = _a.resource, rest = __rest(_a, [\"className\", \"field\", \"record\", \"basePath\", \"resource\"]);\n    return (React.createElement(TableCell, __assign({ className: classnames(className, field.props.cellClassName), align: field.props.textAlign }, sanitizeRestProps(rest)), React.cloneElement(field, {\n        record: record,\n        basePath: field.props.basePath || basePath,\n        resource: resource,\n    })));\n};\nDatagridCell.propTypes = {\n    className: PropTypes.string,\n    field: PropTypes.element,\n    record: PropTypes.object,\n    basePath: PropTypes.string,\n    resource: PropTypes.string,\n};\n// wat? TypeScript looses the displayName if we don't set it explicitly\nDatagridCell.displayName = 'DatagridCell';\nexport default DatagridCell;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { memo } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport classNames from 'classnames';\nimport { useTranslate } from 'ra-core';\nvar ExpandRowButton = function (_a) {\n    var _b;\n    var classes = _a.classes, expanded = _a.expanded, expandContentId = _a.expandContentId, props = __rest(_a, [\"classes\", \"expanded\", \"expandContentId\"]);\n    var translate = useTranslate();\n    return (React.createElement(IconButton, __assign({ \"aria-label\": translate(expanded ? 'ra.action.close' : 'ra.action.expand'), \"aria-expanded\": expanded, \"aria-controls\": expandContentId, className: classNames(classes.expandIcon, (_b = {},\n            _b[classes.expanded] = expanded,\n            _b)), component: \"div\", tabIndex: -1, \"aria-hidden\": \"true\" }, props),\n        React.createElement(ExpandMoreIcon, null)));\n};\nexport default memo(ExpandRowButton);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Fragment, isValidElement, cloneElement, createElement, useState, useEffect, useCallback, memo, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { TableCell, TableRow, Checkbox } from '@material-ui/core';\nimport { linkToRecord, useExpanded } from 'ra-core';\nimport isEqual from 'lodash/isEqual';\nimport DatagridCell from './DatagridCell';\nimport ExpandRowButton from './ExpandRowButton';\nimport { useHistory } from 'react-router-dom';\nvar computeNbColumns = function (expand, children, hasBulkActions) {\n    return expand\n        ? 1 + // show expand button\n            (hasBulkActions ? 1 : 0) + // checkbox column\n            React.Children.toArray(children).filter(function (child) { return !!child; }).length // non-null children\n        : 0;\n}; // we don't need to compute columns if there is no expand panel;\nvar defaultClasses = {};\nvar DatagridRow = function (_a) {\n    var basePath = _a.basePath, children = _a.children, _b = _a.classes, classes = _b === void 0 ? defaultClasses : _b, className = _a.className, expand = _a.expand, hasBulkActions = _a.hasBulkActions, hover = _a.hover, id = _a.id, onToggleItem = _a.onToggleItem, record = _a.record, resource = _a.resource, rowClick = _a.rowClick, selected = _a.selected, style = _a.style, selectable = _a.selectable, rest = __rest(_a, [\"basePath\", \"children\", \"classes\", \"className\", \"expand\", \"hasBulkActions\", \"hover\", \"id\", \"onToggleItem\", \"record\", \"resource\", \"rowClick\", \"selected\", \"style\", \"selectable\"]);\n    var _c = useExpanded(resource, id), expanded = _c[0], toggleExpanded = _c[1];\n    var _d = useState(computeNbColumns(expand, children, hasBulkActions)), nbColumns = _d[0], setNbColumns = _d[1];\n    useEffect(function () {\n        // Fields can be hidden dynamically based on permissions;\n        // The expand panel must span over the remaining columns\n        // So we must recompute the number of columns to span on\n        var newNbColumns = computeNbColumns(expand, children, hasBulkActions);\n        if (newNbColumns !== nbColumns) {\n            setNbColumns(newNbColumns);\n        }\n    }, [expand, nbColumns, children, hasBulkActions]);\n    var history = useHistory();\n    var handleToggleExpand = useCallback(function (event) {\n        toggleExpanded();\n        event.stopPropagation();\n    }, [toggleExpanded]);\n    var handleToggleSelection = useCallback(function (event) {\n        onToggleItem(id);\n        event.stopPropagation();\n    }, [id, onToggleItem]);\n    var handleClick = useCallback(function (event) { return __awaiter(void 0, void 0, void 0, function () {\n        var effect, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!rowClick)\n                        return [2 /*return*/];\n                    event.persist();\n                    if (!(typeof rowClick === 'function')) return [3 /*break*/, 2];\n                    return [4 /*yield*/, rowClick(id, basePath, record)];\n                case 1:\n                    _a = _b.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    _a = rowClick;\n                    _b.label = 3;\n                case 3:\n                    effect = _a;\n                    switch (effect) {\n                        case 'edit':\n                            history.push(linkToRecord(basePath, id));\n                            return [2 /*return*/];\n                        case 'show':\n                            history.push(linkToRecord(basePath, id, 'show'));\n                            return [2 /*return*/];\n                        case 'expand':\n                            handleToggleExpand(event);\n                            return [2 /*return*/];\n                        case 'toggleSelection':\n                            handleToggleSelection(event);\n                            return [2 /*return*/];\n                        default:\n                            if (effect)\n                                history.push(effect);\n                            return [2 /*return*/];\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [\n        basePath,\n        history,\n        handleToggleExpand,\n        handleToggleSelection,\n        id,\n        record,\n        rowClick,\n    ]);\n    return (React.createElement(Fragment, null,\n        React.createElement(TableRow, __assign({ className: className, key: id, style: style, hover: hover, onClick: handleClick }, rest),\n            expand && (React.createElement(TableCell, { padding: \"none\", className: classes.expandIconCell },\n                React.createElement(ExpandRowButton, { classes: classes, expanded: expanded, onClick: handleToggleExpand, expandContentId: id + \"-expand\" }))),\n            hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\" }, selectable && (React.createElement(Checkbox, { color: \"primary\", className: \"select-item \" + classes.checkbox, checked: selected, onClick: handleToggleSelection })))),\n            React.Children.map(children, function (field, index) {\n                return isValidElement(field) ? (React.createElement(DatagridCell, __assign({ key: id + \"-\" + (field.props.source || index), className: classnames(\"column-\" + field.props.source, classes.rowCell), record: record }, { field: field, basePath: basePath, resource: resource }))) : null;\n            })),\n        expand && expanded && (React.createElement(TableRow, { key: id + \"-expand\", id: id + \"-expand\" },\n            React.createElement(TableCell, { colSpan: nbColumns }, isValidElement(expand)\n                ? cloneElement(expand, {\n                    record: record,\n                    basePath: basePath,\n                    resource: resource,\n                    id: String(id),\n                })\n                : createElement(expand, {\n                    record: record,\n                    basePath: basePath,\n                    resource: resource,\n                    id: String(id),\n                }))))));\n};\nDatagridRow.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool.isRequired,\n    hover: PropTypes.bool,\n    id: PropTypes.any,\n    onToggleItem: PropTypes.func,\n    record: PropTypes.object.isRequired,\n    resource: PropTypes.string,\n    rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    selected: PropTypes.bool,\n    style: PropTypes.object,\n    selectable: PropTypes.bool,\n};\nDatagridRow.defaultProps = {\n    hasBulkActions: false,\n    hover: true,\n    record: {},\n    selected: false,\n    selectable: true,\n};\nvar areEqual = function (prevProps, nextProps) {\n    var _ = prevProps.children, prevPropsWithoutChildren = __rest(prevProps, [\"children\"]);\n    var __ = nextProps.children, nextPropsWithoutChildren = __rest(nextProps, [\"children\"]);\n    return isEqual(prevPropsWithoutChildren, nextPropsWithoutChildren);\n};\nexport var PureDatagridRow = memo(DatagridRow, areEqual);\nPureDatagridRow.displayName = 'PureDatagridRow';\nexport default DatagridRow;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport TableBody from '@material-ui/core/TableBody';\nimport classnames from 'classnames';\nimport isEqual from 'lodash/isEqual';\nimport DatagridRow, { PureDatagridRow } from './DatagridRow';\nvar DatagridBody = function (_a) {\n    var basePath = _a.basePath, children = _a.children, classes = _a.classes, className = _a.className, data = _a.data, expand = _a.expand, hasBulkActions = _a.hasBulkActions, hover = _a.hover, ids = _a.ids, onToggleItem = _a.onToggleItem, resource = _a.resource, row = _a.row, rowClick = _a.rowClick, rowStyle = _a.rowStyle, selectedIds = _a.selectedIds, styles = _a.styles, version = _a.version, isRowSelectable = _a.isRowSelectable, rest = __rest(_a, [\"basePath\", \"children\", \"classes\", \"className\", \"data\", \"expand\", \"hasBulkActions\", \"hover\", \"ids\", \"onToggleItem\", \"resource\", \"row\", \"rowClick\", \"rowStyle\", \"selectedIds\", \"styles\", \"version\", \"isRowSelectable\"]);\n    return (React.createElement(TableBody, __assign({ className: classnames('datagrid-body', className) }, rest), ids.map(function (id, rowIndex) {\n        var _a;\n        return cloneElement(row, {\n            basePath: basePath,\n            classes: classes,\n            className: classnames(classes.row, (_a = {},\n                _a[classes.rowEven] = rowIndex % 2 === 0,\n                _a[classes.rowOdd] = rowIndex % 2 !== 0,\n                _a[classes.clickableRow] = rowClick,\n                _a)),\n            expand: expand,\n            hasBulkActions: hasBulkActions,\n            hover: hover,\n            id: id,\n            key: id,\n            onToggleItem: onToggleItem,\n            record: data[id],\n            resource: resource,\n            rowClick: rowClick,\n            selectable: !isRowSelectable || isRowSelectable(data[id]),\n            selected: selectedIds.includes(id),\n            style: rowStyle ? rowStyle(data[id], rowIndex) : null,\n        }, children);\n    })));\n};\nDatagridBody.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    data: PropTypes.object.isRequired,\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool.isRequired,\n    hover: PropTypes.bool,\n    ids: PropTypes.arrayOf(PropTypes.any).isRequired,\n    onToggleItem: PropTypes.func,\n    resource: PropTypes.string,\n    row: PropTypes.element,\n    rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    rowStyle: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    styles: PropTypes.object,\n    isRowSelectable: PropTypes.func,\n    version: PropTypes.number,\n};\nDatagridBody.defaultProps = {\n    data: {},\n    hasBulkActions: false,\n    ids: [],\n    row: React.createElement(DatagridRow, null),\n};\n// trick material-ui Table into thinking this is one of the child type it supports\nDatagridBody.muiName = 'TableBody';\nvar areEqual = function (prevProps, nextProps) {\n    var _ = prevProps.children, prevPropsWithoutChildren = __rest(prevProps, [\"children\"]);\n    var __ = nextProps.children, nextPropsWithoutChildren = __rest(nextProps, [\"children\"]);\n    return isEqual(prevPropsWithoutChildren, nextPropsWithoutChildren);\n};\nexport var PureDatagridBody = memo(DatagridBody, areEqual);\n// trick material-ui Table into thinking this is one of the child type it supports\nPureDatagridBody.muiName = 'TableBody';\nPureDatagridBody.defaultProps = {\n    row: React.createElement(PureDatagridRow, null),\n};\nexport default DatagridBody;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { isValidElement, Children, cloneElement, useCallback, } from 'react';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps } from 'ra-core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport classnames from 'classnames';\nimport DatagridHeaderCell from './DatagridHeaderCell';\nimport DatagridLoading from './DatagridLoading';\nimport DatagridBody, { PureDatagridBody } from './DatagridBody';\nvar useStyles = makeStyles(function (theme) { return ({\n    table: {\n        tableLayout: 'auto',\n    },\n    thead: {},\n    tbody: {},\n    headerRow: {},\n    headerCell: {\n        position: 'sticky',\n        top: 0,\n        zIndex: 2,\n        backgroundColor: theme.palette.background.paper,\n    },\n    checkbox: {},\n    row: {},\n    clickableRow: {\n        cursor: 'pointer',\n    },\n    rowEven: {},\n    rowOdd: {},\n    rowCell: {},\n    expandHeader: {\n        padding: 0,\n        width: theme.spacing(6),\n    },\n    expandIconCell: {\n        width: theme.spacing(6),\n    },\n    expandIcon: {\n        padding: theme.spacing(1),\n        transform: 'rotate(-90deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n        }),\n    },\n    expanded: {\n        transform: 'rotate(0deg)',\n    },\n}); }, { name: 'RaDatagrid' });\n/**\n * The Datagrid component renders a list of records as a table.\n * It is usually used as a child of the <List> and <ReferenceManyField> components.\n *\n * Props:\n *  - rowStyle\n *\n * @example Display all posts as a datagrid\n * const postRowStyle = (record, index) => ({\n *     backgroundColor: record.nb_views >= 500 ? '#efe' : 'white',\n * });\n * export const PostList = (props) => (\n *     <List {...props}>\n *         <Datagrid rowStyle={postRowStyle}>\n *             <TextField source=\"id\" />\n *             <TextField source=\"title\" />\n *             <TextField source=\"body\" />\n *             <EditButton />\n *         </Datagrid>\n *     </List>\n * );\n *\n * @example Display all the comments of the current post as a datagrid\n * <ReferenceManyField reference=\"comments\" target=\"post_id\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"body\" />\n *         <DateField source=\"created_at\" />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceManyField>\n */\nvar Datagrid = function (props) {\n    var classes = useStyles(props);\n    var basePath = props.basePath, _a = props.optimized, optimized = _a === void 0 ? false : _a, _b = props.body, body = _b === void 0 ? optimized ? React.createElement(PureDatagridBody, null) : React.createElement(DatagridBody, null) : _b, children = props.children, classesOverride = props.classes, className = props.className, currentSort = props.currentSort, data = props.data, expand = props.expand, hasBulkActions = props.hasBulkActions, hover = props.hover, ids = props.ids, loading = props.loading, loaded = props.loaded, onSelect = props.onSelect, onToggleItem = props.onToggleItem, resource = props.resource, rowClick = props.rowClick, rowStyle = props.rowStyle, selectedIds = props.selectedIds, setSort = props.setSort, _c = props.size, size = _c === void 0 ? 'small' : _c, total = props.total, isRowSelectable = props.isRowSelectable, version = props.version, rest = __rest(props, [\"basePath\", \"optimized\", \"body\", \"children\", \"classes\", \"className\", \"currentSort\", \"data\", \"expand\", \"hasBulkActions\", \"hover\", \"ids\", \"loading\", \"loaded\", \"onSelect\", \"onToggleItem\", \"resource\", \"rowClick\", \"rowStyle\", \"selectedIds\", \"setSort\", \"size\", \"total\", \"isRowSelectable\", \"version\"]);\n    var updateSort = useCallback(function (event) {\n        event.stopPropagation();\n        setSort(event.currentTarget.dataset.sort);\n    }, [setSort]);\n    var handleSelectAll = useCallback(function (event) {\n        if (event.target.checked) {\n            var all_1 = ids.concat(selectedIds.filter(function (id) { return !ids.includes(id); }));\n            onSelect(isRowSelectable\n                ? all_1.filter(function (id) { return isRowSelectable(data[id]); })\n                : all_1);\n        }\n        else {\n            onSelect([]);\n        }\n    }, [data, ids, onSelect, isRowSelectable, selectedIds]);\n    /**\n     * if loaded is false, the list displays for the first time, and the dataProvider hasn't answered yet\n     * if loaded is true, the data for the list has at least been returned once by the dataProvider\n     * if loaded is undefined, the Datagrid parent doesn't track loading state (e.g. ReferenceArrayField)\n     */\n    if (loaded === false) {\n        return (React.createElement(DatagridLoading, { classes: classes, className: className, expand: expand, hasBulkActions: hasBulkActions, nbChildren: React.Children.count(children), size: size }));\n    }\n    /**\n     * Once loaded, the data for the list may be empty. Instead of\n     * displaying the table header with zero data rows,\n     * the datagrid displays nothing in this case.\n     */\n    if (loaded && (ids.length === 0 || total === 0)) {\n        return null;\n    }\n    var all = isRowSelectable\n        ? ids.filter(function (id) { return isRowSelectable(data[id]); })\n        : ids;\n    /**\n     * After the initial load, if the data for the list isn't empty,\n     * and even if the data is refreshing (e.g. after a filter change),\n     * the datagrid displays the current data.\n     */\n    return (React.createElement(Table, __assign({ className: classnames(classes.table, className), size: size }, sanitizeListRestProps(rest)),\n        React.createElement(TableHead, { className: classes.thead },\n            React.createElement(TableRow, { className: classnames(classes.row, classes.headerRow) },\n                expand && (React.createElement(TableCell, { padding: \"none\", className: classnames(classes.headerCell, classes.expandHeader) })),\n                hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\", className: classes.headerCell },\n                    React.createElement(Checkbox, { className: \"select-all\", color: \"primary\", checked: selectedIds.length > 0 &&\n                            all.length > 0 &&\n                            all.every(function (id) { return selectedIds.includes(id); }), onChange: handleSelectAll }))),\n                Children.map(children, function (field, index) {\n                    return isValidElement(field) ? (React.createElement(DatagridHeaderCell, { className: classes.headerCell, currentSort: currentSort, field: field, isSorting: currentSort.field ===\n                            (field.props.sortBy || field.props.source), key: field.props.source || index, resource: resource, updateSort: updateSort })) : null;\n                }))),\n        cloneElement(body, {\n            basePath: basePath,\n            className: classes.tbody,\n            classes: classes,\n            expand: expand,\n            rowClick: rowClick,\n            data: data,\n            hasBulkActions: hasBulkActions,\n            hover: hover,\n            ids: ids,\n            onToggleItem: onToggleItem,\n            resource: resource,\n            rowStyle: rowStyle,\n            selectedIds: selectedIds,\n            isRowSelectable: isRowSelectable,\n            version: version,\n        }, children)));\n};\nDatagrid.propTypes = {\n    basePath: PropTypes.string,\n    body: PropTypes.element,\n    children: PropTypes.node.isRequired,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    currentSort: PropTypes.shape({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    data: PropTypes.object.isRequired,\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool.isRequired,\n    hover: PropTypes.bool,\n    ids: PropTypes.arrayOf(PropTypes.any).isRequired,\n    loading: PropTypes.bool,\n    onSelect: PropTypes.func,\n    onToggleItem: PropTypes.func,\n    resource: PropTypes.string,\n    rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    rowStyle: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n    setSort: PropTypes.func,\n    total: PropTypes.number,\n    version: PropTypes.number,\n    isRowSelectable: PropTypes.func,\n};\nDatagrid.defaultProps = {\n    data: {},\n    hasBulkActions: false,\n    ids: [],\n    selectedIds: [],\n};\nexport default Datagrid;\n","import omit from 'lodash/omit';\nexport default (function (props) {\n    return omit(props, [\n        'addLabel',\n        'allowEmpty',\n        'basePath',\n        'cellClassName',\n        'className',\n        'emptyText',\n        'formClassName',\n        'headerClassName',\n        'label',\n        'linkType',\n        'link',\n        'locale',\n        'record',\n        'resource',\n        'sortable',\n        'sortBy',\n        'source',\n        'textAlign',\n        'translateChoice',\n    ]);\n});\n","import PropTypes from 'prop-types';\nexport var fieldPropTypes = {\n    addLabel: PropTypes.bool,\n    sortBy: PropTypes.string,\n    source: PropTypes.string,\n    label: PropTypes.string,\n    sortable: PropTypes.bool,\n    className: PropTypes.string,\n    cellClassName: PropTypes.string,\n    headerClassName: PropTypes.string,\n    textAlign: PropTypes.oneOf(['right', 'left']),\n    emptyText: PropTypes.string,\n    fieldKey: PropTypes.string,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport pure from 'recompose/pure';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport { fieldPropTypes } from './types';\nvar toLocaleStringSupportsLocales = (function () {\n    // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\n    try {\n        new Date().toLocaleString('i');\n    }\n    catch (error) {\n        return error instanceof RangeError;\n    }\n    return false;\n})();\n/**\n * Display a date value as a locale string.\n *\n * Uses Intl.DateTimeFormat() if available, passing the locales and options props as arguments.\n * If Intl is not available, it outputs date as is (and ignores the locales and options props).\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\n * @example\n * <DateField source=\"published_at\" />\n * // renders the record { id: 1234, published_at: new Date('2012-11-07') } as\n * <span>07/11/2012</span>\n *\n * <DateField source=\"published_at\" className=\"red\" />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span class=\"red\">07/11/2012</span>\n *\n * <DateField source=\"share\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span>Wednesday, November 7, 2012</span>\n *\n * <DateField source=\"price\" locales=\"fr-FR\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span>mercredi 7 novembre 2012</span>\n */\nexport var DateField = function (_a) {\n    var className = _a.className, emptyText = _a.emptyText, locales = _a.locales, options = _a.options, record = _a.record, _b = _a.showTime, showTime = _b === void 0 ? false : _b, source = _a.source, rest = __rest(_a, [\"className\", \"emptyText\", \"locales\", \"options\", \"record\", \"showTime\", \"source\"]);\n    if (!record) {\n        return null;\n    }\n    var value = get(record, source);\n    if (value == null) {\n        return emptyText ? (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeRestProps(rest)), emptyText)) : null;\n    }\n    var date = value instanceof Date ? value : new Date(value);\n    var dateString = showTime\n        ? toLocaleStringSupportsLocales\n            ? date.toLocaleString(locales, options)\n            : date.toLocaleString()\n        : toLocaleStringSupportsLocales\n            ? date.toLocaleDateString(locales, options)\n            : date.toLocaleDateString();\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeRestProps(rest)), dateString));\n};\nvar EnhancedDateField = pure(DateField);\nEnhancedDateField.defaultProps = {\n    addLabel: true,\n};\nEnhancedDateField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), { locales: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n    ]), options: PropTypes.object, showTime: PropTypes.bool });\nEnhancedDateField.displayName = 'EnhancedDateField';\nexport default EnhancedDateField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport pure from 'recompose/pure';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport { fieldPropTypes } from './types';\nvar hasNumberFormat = !!(typeof Intl === 'object' &&\n    Intl &&\n    typeof Intl.NumberFormat === 'function');\n/**\n * Display a numeric value as a locale string.\n *\n * Uses Intl.NumberFormat() if available, passing the locales and options props as arguments.\n * If Intl is not available, it outputs number as is (and ignores the locales and options props).\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\n * @example\n * <NumberField source=\"score\" />\n * // renders the record { id: 1234, score: 567 } as\n * <span>567</span>\n *\n * <NumberField source=\"score\" className=\"red\" />\n * // renders the record { id: 1234, score: 567 } as\n * <span class=\"red\">567</span>\n *\n * <NumberField source=\"share\" options={{ style: 'percent' }} />\n * // renders the record { id: 1234, share: 0.2545 } as\n * <span>25%</span>\n *\n * <NumberField source=\"price\" options={{ style: 'currency', currency: 'USD' }} />\n * // renders the record { id: 1234, price: 25.99 } as\n * <span>$25.99</span>\n *\n * <NumberField source=\"price\" locales=\"fr-FR\" options={{ style: 'currency', currency: 'USD' }} />\n * // renders the record { id: 1234, price: 25.99 } as\n * <span>25,99 $US</span>\n */\nexport var NumberField = function (_a) {\n    var className = _a.className, emptyText = _a.emptyText, record = _a.record, source = _a.source, locales = _a.locales, options = _a.options, textAlign = _a.textAlign, rest = __rest(_a, [\"className\", \"emptyText\", \"record\", \"source\", \"locales\", \"options\", \"textAlign\"]);\n    if (!record) {\n        return null;\n    }\n    var value = get(record, source);\n    if (value == null) {\n        return emptyText ? (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeRestProps(rest)), emptyText)) : null;\n    }\n    return (React.createElement(Typography, __assign({ variant: \"body2\", component: \"span\", className: className }, sanitizeRestProps(rest)), hasNumberFormat ? value.toLocaleString(locales, options) : value));\n};\n// wat? TypeScript looses the displayName if we don't set it explicitly\nNumberField.displayName = 'NumberField';\nvar EnhancedNumberField = pure(NumberField);\nEnhancedNumberField.defaultProps = {\n    addLabel: true,\n    textAlign: 'right',\n};\nEnhancedNumberField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), { locales: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n    ]), options: PropTypes.object });\nEnhancedNumberField.displayName = 'EnhancedNumberField';\nexport default EnhancedNumberField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport pure from 'recompose/pure';\nimport FalseIcon from '@material-ui/icons/Clear';\nimport TrueIcon from '@material-ui/icons/Done';\nimport { Tooltip, Typography } from '@material-ui/core';\nimport compose from 'recompose/compose';\nimport { useTranslate } from 'ra-core';\nimport { fieldPropTypes } from './types';\nimport sanitizeRestProps from './sanitizeRestProps';\nexport var BooleanField = function (_a) {\n    var className = _a.className, classesOverride = _a.classes, emptyText = _a.emptyText, source = _a.source, _b = _a.record, record = _b === void 0 ? {} : _b, valueLabelTrue = _a.valueLabelTrue, valueLabelFalse = _a.valueLabelFalse, rest = __rest(_a, [\"className\", \"classes\", \"emptyText\", \"source\", \"record\", \"valueLabelTrue\", \"valueLabelFalse\"]);\n    var translate = useTranslate();\n    var value = get(record, source);\n    var ariaLabel = value ? valueLabelTrue : valueLabelFalse;\n    if (!ariaLabel) {\n        ariaLabel = value === false ? 'ra.boolean.false' : 'ra.boolean.true';\n    }\n    if (value === false || value === true) {\n        return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeRestProps(rest)),\n            React.createElement(Tooltip, { title: translate(ariaLabel, { _: ariaLabel }) }, value === true ? (React.createElement(TrueIcon, { \"data-testid\": \"true\" })) : (React.createElement(FalseIcon, { \"data-testid\": \"false\" })))));\n    }\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeRestProps(rest)), emptyText));\n};\nvar EnhancedBooleanField = compose(pure)(BooleanField);\nEnhancedBooleanField.defaultProps = {\n    addLabel: true,\n};\nEnhancedBooleanField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), { valueLabelFalse: PropTypes.string, valueLabelTrue: PropTypes.string });\nEnhancedBooleanField.displayName = 'EnhancedBooleanField';\nexport default EnhancedBooleanField;\n","export default [\n    { id: 'compulsive', name: 'resources.segments.data.compulsive' },\n    { id: 'collector', name: 'resources.segments.data.collector' },\n    { id: 'ordered_once', name: 'resources.segments.data.ordered_once' },\n    { id: 'regular', name: 'resources.segments.data.regular' },\n    { id: 'returns', name: 'resources.segments.data.returns' },\n    { id: 'reviewer', name: 'resources.segments.data.reviewer' },\n];\n","import React, { FC } from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { useTranslate } from 'react-admin';\nimport segments from '../segments/data';\nimport { FieldProps, Customer } from '../types';\nimport { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginTop: -8,\n        marginBottom: -8,\n    },\n    chip: { margin: 4 },\n});\n\nconst SegmentsField: FC<FieldProps<Customer>> = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return record ? (\n        <span className={classes.main}>\n            {record.groups &&\n                record.groups.map(segmentId => {\n                    const segment = segments.find(s => s.id === segmentId);\n\n                    return segment ? (\n                        <Chip\n                            key={segment.id}\n                            className={classes.chip}\n                            label={translate(segment.name)}\n                        />\n                    ) : null;\n                })}\n        </span>\n    ) : null;\n};\n\nSegmentsField.defaultProps = {\n    addLabel: true,\n    source: 'groups',\n};\n\nexport default SegmentsField;\n","import { isValidElement, cloneElement, useCallback } from 'react';\nimport get from 'lodash/get';\nimport { useTranslate } from '../i18n';\n/*\n * Returns helper functions for choices handling.\n *\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n */\nvar useChoices = function (_a) {\n    var _b = _a.optionText, optionText = _b === void 0 ? 'name' : _b, _c = _a.optionValue, optionValue = _c === void 0 ? 'id' : _c, _d = _a.translateChoice, translateChoice = _d === void 0 ? true : _d;\n    var translate = useTranslate();\n    var getChoiceText = useCallback(function (choice) {\n        if (isValidElement(optionText)) {\n            return cloneElement(optionText, {\n                record: choice,\n            });\n        }\n        var choiceName = typeof optionText === 'function'\n            ? optionText(choice)\n            : get(choice, optionText);\n        return translateChoice\n            ? translate(choiceName, { _: choiceName })\n            : choiceName;\n    }, [optionText, translate, translateChoice]);\n    var getChoiceValue = useCallback(function (choice) { return get(choice, optionValue); }, [\n        optionValue,\n    ]);\n    return {\n        getChoiceText: getChoiceText,\n        getChoiceValue: getChoiceValue,\n    };\n};\nexport default useChoices;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useInput, FieldTitle, useTranslate, useChoices, } from 'ra-core';\nimport ResettableTextField from './ResettableTextField';\nimport InputHelperText from './InputHelperText';\nvar sanitizeRestProps = function (_a) {\n    var addLabel = _a.addLabel, allowEmpty = _a.allowEmpty, alwaysOn = _a.alwaysOn, emptyValue = _a.emptyValue, basePath = _a.basePath, choices = _a.choices, className = _a.className, component = _a.component, crudGetMatching = _a.crudGetMatching, crudGetOne = _a.crudGetOne, defaultValue = _a.defaultValue, filter = _a.filter, filterToQuery = _a.filterToQuery, formClassName = _a.formClassName, initializeForm = _a.initializeForm, input = _a.input, isRequired = _a.isRequired, label = _a.label, locale = _a.locale, meta = _a.meta, onChange = _a.onChange, options = _a.options, optionValue = _a.optionValue, optionText = _a.optionText, disableValue = _a.disableValue, perPage = _a.perPage, record = _a.record, reference = _a.reference, resource = _a.resource, setFilter = _a.setFilter, setPagination = _a.setPagination, setSort = _a.setSort, sort = _a.sort, source = _a.source, textAlign = _a.textAlign, translate = _a.translate, translateChoice = _a.translateChoice, validation = _a.validation, rest = __rest(_a, [\"addLabel\", \"allowEmpty\", \"alwaysOn\", \"emptyValue\", \"basePath\", \"choices\", \"className\", \"component\", \"crudGetMatching\", \"crudGetOne\", \"defaultValue\", \"filter\", \"filterToQuery\", \"formClassName\", \"initializeForm\", \"input\", \"isRequired\", \"label\", \"locale\", \"meta\", \"onChange\", \"options\", \"optionValue\", \"optionText\", \"disableValue\", \"perPage\", \"record\", \"reference\", \"resource\", \"setFilter\", \"setPagination\", \"setSort\", \"sort\", \"source\", \"textAlign\", \"translate\", \"translateChoice\", \"validation\"]);\n    return rest;\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    input: {\n        minWidth: theme.spacing(20),\n    },\n}); }, { name: 'RaSelectInput' });\n/**\n * An Input component for a select box, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property an the option text\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <SelectInput source=\"gender\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectInput source=\"gender\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <SelectInput source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * The object passed as `options` props is passed to the material-ui <Select> component\n *\n * You can disable some choices by providing a `disableValue` field which name is `disabled` by default\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n *    { id: 976, first_name: 'William', last_name: 'Rinkerd', disabled: true },\n * ];\n *\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n *    { id: 976, first_name: 'William', last_name: 'Rinkerd', not_available: true },\n * ];\n * <SelectInput source=\"gender\" choices={choices} disableValue=\"not_available\" />\n *\n */\nvar SelectInput = function (props) {\n    var allowEmpty = props.allowEmpty, _a = props.choices, choices = _a === void 0 ? [] : _a, classesOverride = props.classes, className = props.className, disableValue = props.disableValue, emptyText = props.emptyText, emptyValue = props.emptyValue, format = props.format, helperText = props.helperText, label = props.label, onBlur = props.onBlur, onChange = props.onChange, onFocus = props.onFocus, options = props.options, optionText = props.optionText, optionValue = props.optionValue, parse = props.parse, resource = props.resource, source = props.source, translateChoice = props.translateChoice, validate = props.validate, rest = __rest(props, [\"allowEmpty\", \"choices\", \"classes\", \"className\", \"disableValue\", \"emptyText\", \"emptyValue\", \"format\", \"helperText\", \"label\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"resource\", \"source\", \"translateChoice\", \"validate\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var _b = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        translateChoice: translateChoice,\n    }), getChoiceText = _b.getChoiceText, getChoiceValue = _b.getChoiceValue;\n    var _c = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source,\n        validate: validate }, rest)), id = _c.id, input = _c.input, isRequired = _c.isRequired, _d = _c.meta, error = _d.error, touched = _d.touched;\n    var renderEmptyItemOption = useCallback(function () {\n        return React.isValidElement(emptyText)\n            ? React.cloneElement(emptyText)\n            : emptyText === ''\n                ? ' ' // em space, forces the display of an empty line of normal height\n                : translate(emptyText, { _: emptyText });\n    }, [emptyText, translate]);\n    var renderMenuItemOption = useCallback(function (choice) { return getChoiceText(choice); }, [\n        getChoiceText,\n    ]);\n    return (React.createElement(ResettableTextField, __assign({ id: id }, input, { select: true, label: label !== '' &&\n            label !== false && (React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired })), className: classes.input + \" \" + className, clearAlwaysVisible: true, error: !!(touched && error), helperText: React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }) }, options, sanitizeRestProps(rest)),\n        allowEmpty ? (React.createElement(MenuItem, { value: emptyValue, key: \"null\", \"aria-label\": translate('ra.action.clear_input_value'), title: translate('ra.action.clear_input_value') }, renderEmptyItemOption())) : null,\n        choices.map(function (choice) { return (React.createElement(MenuItem, { key: getChoiceValue(choice), value: getChoiceValue(choice), disabled: get(choice, disableValue) }, renderMenuItemOption(choice))); })));\n};\nSelectInput.propTypes = {\n    allowEmpty: PropTypes.bool,\n    emptyText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    emptyValue: PropTypes.any,\n    choices: PropTypes.arrayOf(PropTypes.object),\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    options: PropTypes.object,\n    optionText: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.func,\n        PropTypes.element,\n    ]).isRequired,\n    optionValue: PropTypes.string.isRequired,\n    disableValue: PropTypes.string,\n    resettable: PropTypes.bool,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    translateChoice: PropTypes.bool,\n};\nSelectInput.defaultProps = {\n    emptyText: '',\n    emptyValue: '',\n    options: {},\n    optionText: 'name',\n    optionValue: 'id',\n    translateChoice: true,\n    disableValue: 'disabled',\n};\nexport default SelectInput;\n","import React, { FC } from 'react';\nimport { useTranslate, SelectInput } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { InputProps } from 'ra-core';\n\nimport segments from '../segments/data';\n\nconst useStyles = makeStyles({\n    input: { width: 150 },\n});\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentInput: FC<Props> = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <SelectInput\n            {...props}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n            className={classes.input}\n        />\n    );\n};\n\nSegmentInput.defaultProps = {\n    source: 'groups',\n};\n\nexport default SegmentInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Link as RRLink } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) { return ({\n    link: {\n        textDecoration: 'none',\n        color: theme.palette.primary.main,\n    },\n}); }, { name: 'RaLink' });\nvar Link = function (props) {\n    var to = props.to, children = props.children, classesOverride = props.classes, className = props.className, rest = __rest(props, [\"to\", \"children\", \"classes\", \"className\"]);\n    var classes = useStyles(props);\n    return (React.createElement(RRLink, __assign({ to: to, className: classNames(classes.link, className) }, rest), children));\n};\nLink.propTypes = {\n    className: PropTypes.string,\n    children: PropTypes.node,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\nexport default Link;\n","import React, { FC } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport { Customer, FieldProps } from '../types';\n\ninterface Props extends FieldProps<Customer> {\n    className?: string;\n    size?: string;\n}\n\nconst AvatarField: FC<Props> = ({ record, size = '25', className }) =>\n    record ? (\n        <Avatar\n            src={`${record.avatar}?size=${size}x${size}`}\n            style={{ width: parseInt(size, 10), height: parseInt(size, 10) }}\n            className={className}\n        />\n    ) : null;\n\nexport default AvatarField;\n","import React, { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport pure from 'recompose/pure';\n\nimport AvatarField from './AvatarField';\nimport { FieldProps, Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n    },\n}));\n\ninterface Props extends FieldProps<Customer> {\n    size?: string;\n}\n\nconst FullNameField: FC<Props> = ({ record, size }) => {\n    const classes = useStyles();\n    return record ? (\n        <div className={classes.root}>\n            <AvatarField\n                className={classes.avatar}\n                record={record}\n                size={size}\n            />\n            {record.first_name} {record.last_name}\n        </div>\n    ) : null;\n};\n\nconst PureFullNameField = pure(FullNameField);\n\nPureFullNameField.defaultProps = {\n    source: 'last_name',\n    label: 'resources.customers.fields.name',\n};\n\nexport default PureFullNameField;\n","import React, { FC } from 'react';\nimport { Link } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { FieldProps, Customer } from '../types';\n\nconst CustomerLinkField: FC<FieldProps<Customer>> = props =>\n    props.record ? (\n        <Link to={`/customers/${props.record.id}`}>\n            <FullNameField {...props} />\n        </Link>\n    ) : null;\n\nCustomerLinkField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerLinkField;\n","import React, { ComponentType } from 'react';\nimport { NumberField } from 'react-admin';\nimport { FieldProps } from '../types';\n\nconst colored = <T extends FieldProps>(\n    WrappedComponent: ComponentType<T>\n): ComponentType<T> => {\n    const Colored = (props: T) =>\n        props.record && props.source ? (\n            props.record[props.source] > 500 ? (\n                <span style={{ color: 'red' }}>\n                    <WrappedComponent {...props} />\n                </span>\n            ) : (\n                <WrappedComponent {...props} />\n            )\n        ) : null;\n\n    Colored.displayName = `Colored(${WrappedComponent.displayName})`;\n\n    return Colored;\n};\n\nconst ColoredNumberField = colored<typeof NumberField>(NumberField);\nColoredNumberField.defaultProps = NumberField.defaultProps;\n\nexport default ColoredNumberField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ContentCreate from '@material-ui/icons/Create';\nimport { Link } from 'react-router-dom';\nimport { linkToRecord } from 'ra-core';\nimport Button from './Button';\nvar EditButton = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? '' : _b, _c = _a.label, label = _c === void 0 ? 'ra.action.edit' : _c, record = _a.record, _d = _a.icon, icon = _d === void 0 ? defaultIcon : _d, rest = __rest(_a, [\"basePath\", \"label\", \"record\", \"icon\"]);\n    return (React.createElement(Button, __assign({ component: Link, to: linkToRecord(basePath, record && record.id), label: label, onClick: stopPropagation }, rest), icon));\n};\nvar defaultIcon = React.createElement(ContentCreate, null);\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\nEditButton.propTypes = {\n    basePath: PropTypes.string,\n    icon: PropTypes.element,\n    label: PropTypes.string,\n    record: PropTypes.any,\n};\nexport default EditButton;\n","// in src/comments.js\nimport React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { DateField, EditButton, useTranslate, NumberField } from 'react-admin';\n\nimport AvatarField from './AvatarField';\nimport ColoredNumberField from './ColoredNumberField';\nimport SegmentsField from './SegmentsField';\nimport { Identifier } from 'ra-core';\nimport { Customer } from '../types';\nimport { FC } from 'react';\n\nconst useStyles = makeStyles(theme => ({\n    root: { margin: '1em' },\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\ninterface Props {\n    ids?: Identifier[];\n    data?: { [key: string]: Customer };\n    basePath?: string;\n}\n\nconst MobileGrid: FC<Props> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <h2>{`${data[id].first_name} ${\n                                    data[id].last_name\n                                }`}</h2>\n                                <EditButton\n                                    resource=\"visitors\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                        avatar={<AvatarField record={data[id]} size=\"45\" />}\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.last_seen_gte'\n                            )}\n                            &nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"last_seen\"\n                                type=\"date\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.commands.name',\n                                data[id].nb_commands || 1\n                            )}\n                            &nbsp;:&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"nb_commands\"\n                                label=\"resources.customers.fields.commands\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.total_spent'\n                            )}\n                            &nbsp; :{' '}\n                            <ColoredNumberField\n                                record={data[id]}\n                                source=\"total_spent\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </div>\n                    </CardContent>\n                    {data[id].groups && data[id].groups.length > 0 && (\n                        <CardContent className={classes.cardContent}>\n                            <SegmentsField record={data[id]} />\n                        </CardContent>\n                    )}\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import React from 'react';\nimport {\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    Filter,\n    List,\n    NullableBooleanInput,\n    NumberField,\n    SearchInput,\n} from 'react-admin';\nimport { useMediaQuery, makeStyles, Theme } from '@material-ui/core';\n\nimport SegmentsField from './SegmentsField';\nimport SegmentInput from './SegmentInput';\nimport CustomerLinkField from './CustomerLinkField';\nimport ColoredNumberField from './ColoredNumberField';\nimport MobileGrid from './MobileGrid';\n\nconst VisitorFilter = (props: any) => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <DateInput source=\"last_seen_gte\" />\n        <NullableBooleanInput source=\"has_ordered\" />\n        <NullableBooleanInput source=\"has_newsletter\" defaultValue />\n        <SegmentInput />\n    </Filter>\n);\n\nconst useStyles = makeStyles({\n    nb_commands: { color: 'purple' },\n});\n\nconst VisitorList = (props: any) => {\n    const classes = useStyles();\n    const isXsmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    return (\n        <List\n            {...props}\n            filters={<VisitorFilter />}\n            sort={{ field: 'last_seen', order: 'DESC' }}\n            perPage={25}\n        >\n            {isXsmall ? (\n                <MobileGrid />\n            ) : (\n                <Datagrid optimized rowClick=\"edit\">\n                    <CustomerLinkField />\n                    <DateField source=\"last_seen\" type=\"date\" />\n                    <NumberField\n                        source=\"nb_commands\"\n                        label=\"resources.customers.fields.commands\"\n                        className={classes.nb_commands}\n                    />\n                    <ColoredNumberField\n                        source=\"total_spent\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <DateField source=\"latest_purchase\" showTime />\n                    <BooleanField source=\"has_newsletter\" label=\"News.\" />\n                    <SegmentsField />\n                </Datagrid>\n            )}\n        </List>\n    );\n};\n\nexport default VisitorList;\n","import { useCallback } from 'react';\n// @ts-ignore\nimport inflection from 'inflection';\nimport { parse } from 'query-string';\nimport { useLocation } from 'react-router-dom';\nimport { useCheckMinimumRequiredProps } from './checkMinimumRequiredProps';\nimport { useCreate } from '../dataProvider';\nimport { useNotify, useRedirect } from '../sideEffect';\nimport { useTranslate } from '../i18n';\nimport { useVersion } from '.';\nimport { CRUD_CREATE } from '../actions';\n/**\n * Prepare data for the Create view\n *\n * @param {Object} props The props passed to the Create component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Create view\n *\n * @example\n *\n * import { useCreateController } from 'react-admin';\n * import CreateView from './CreateView';\n *\n * const MyCreate = props => {\n *     const controllerProps = useCreateController(props);\n *     return <CreateView {...controllerProps} {...props} />;\n * }\n */\nvar useCreateController = function (props) {\n    useCheckMinimumRequiredProps('Create', ['basePath', 'resource'], props);\n    var basePath = props.basePath, resource = props.resource, _a = props.record, record = _a === void 0 ? {} : _a, hasShow = props.hasShow, hasEdit = props.hasEdit, successMessage = props.successMessage;\n    var location = useLocation();\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var recordToUse = getRecord(location, record);\n    var version = useVersion();\n    var _b = useCreate(resource), create = _b[0], saving = _b[1].loading;\n    var save = useCallback(function (data, redirectTo, _a) {\n        if (redirectTo === void 0) { redirectTo = 'list'; }\n        var _b = _a === void 0 ? {} : _a, onSuccess = _b.onSuccess, onFailure = _b.onFailure;\n        return create({ payload: { data: data } }, {\n            action: CRUD_CREATE,\n            onSuccess: onSuccess\n                ? onSuccess\n                : function (_a) {\n                    var newRecord = _a.data;\n                    notify(successMessage || 'ra.notification.created', 'info', {\n                        smart_count: 1,\n                    });\n                    redirect(redirectTo, basePath, newRecord.id, newRecord);\n                },\n            onFailure: onFailure\n                ? onFailure\n                : function (error) {\n                    notify(typeof error === 'string'\n                        ? error\n                        : error.message ||\n                            'ra.notification.http_error', 'warning');\n                },\n        });\n    }, [create, notify, successMessage, redirect, basePath]);\n    var resourceName = translate(\"resources.\" + resource + \".name\", {\n        smart_count: 1,\n        _: inflection.humanize(inflection.singularize(resource)),\n    });\n    var defaultTitle = translate('ra.page.create', {\n        name: \"\" + resourceName,\n    });\n    return {\n        loading: false,\n        loaded: true,\n        saving: saving,\n        defaultTitle: defaultTitle,\n        save: save,\n        resource: resource,\n        basePath: basePath,\n        record: recordToUse,\n        redirect: getDefaultRedirectRoute(hasShow, hasEdit),\n        version: version,\n    };\n};\nexport default useCreateController;\nexport var getRecord = function (_a, record) {\n    var state = _a.state, search = _a.search;\n    if (record === void 0) { record = {}; }\n    if (state && state.record) {\n        return state.record;\n    }\n    if (search) {\n        try {\n            var searchParams = parse(search);\n            if (searchParams.source) {\n                if (Array.isArray(searchParams.source)) {\n                    console.error(\"Failed to parse location search parameter '\" + search + \"'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\\\"title\\\":\\\"foo\\\"}')\");\n                    return;\n                }\n                return JSON.parse(searchParams.source);\n            }\n        }\n        catch (e) {\n            console.error(\"Failed to parse location search parameter '\" + search + \"'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\\\"title\\\":\\\"foo\\\"}')\");\n        }\n    }\n    return record;\n};\nvar getDefaultRedirectRoute = function (hasShow, hasEdit) {\n    if (hasEdit) {\n        return 'edit';\n    }\n    if (hasShow) {\n        return 'show';\n    }\n    return 'list';\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Title, { TitlePropType } from './Title';\nvar TitleForRecord = function (_a) {\n    var defaultTitle = _a.defaultTitle, record = _a.record, title = _a.title;\n    return record ? (React.createElement(Title, { title: title, record: record, defaultTitle: defaultTitle })) : ('');\n};\nTitleForRecord.propTypes = {\n    defaultTitle: PropTypes.any,\n    record: PropTypes.object,\n    title: TitlePropType,\n};\nexport default TitleForRecord;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useCheckMinimumRequiredProps, useCreateController } from 'ra-core';\nimport TitleForRecord from '../layout/TitleForRecord';\n/**\n * Page component for the Create view\n *\n * The `<Create>` component renders the page title and actions.\n * It is not responsible for rendering the actual form -\n * that's the job of its child component (usually `<SimpleForm>`),\n * to which it passes pass the `record` as prop.\n *\n * The <Create> component accepts the following props:\n *\n * - actions\n * - aside\n * - component\n * - successMessage\n * - title\n *\n * @example\n *\n * // in src/posts.js\n * import React from 'react';\n * import { Create, SimpleForm, TextInput } from 'react-admin';\n *\n * export const PostCreate = (props) => (\n *     <Create {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *         </SimpleForm>\n *     </Create>\n * );\n *\n * // in src/App.js\n * import React from 'react';\n * import { Admin, Resource } from 'react-admin';\n *\n * import { PostCreate } from './posts';\n *\n * const App = () => (\n *     <Admin dataProvider={...}>\n *         <Resource name=\"posts\" create={PostCreate} />\n *     </Admin>\n * );\n * export default App;\n */\nvar Create = function (props) { return (React.createElement(CreateView, __assign({}, props, useCreateController(props)))); };\nCreate.propTypes = {\n    actions: PropTypes.element,\n    aside: PropTypes.element,\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    hasCreate: PropTypes.bool,\n    hasEdit: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    resource: PropTypes.string.isRequired,\n    title: PropTypes.node,\n    record: PropTypes.object,\n    hasList: PropTypes.bool,\n    successMessage: PropTypes.string,\n};\nexport var CreateView = function (props) {\n    var _a;\n    var actions = props.actions, aside = props.aside, basePath = props.basePath, children = props.children, classesOverride = props.classes, className = props.className, Content = props.component, defaultTitle = props.defaultTitle, hasList = props.hasList, hasShow = props.hasShow, _b = props.record, record = _b === void 0 ? {} : _b, redirect = props.redirect, resource = props.resource, save = props.save, saving = props.saving, title = props.title, version = props.version, rest = __rest(props, [\"actions\", \"aside\", \"basePath\", \"children\", \"classes\", \"className\", \"component\", \"defaultTitle\", \"hasList\", \"hasShow\", \"record\", \"redirect\", \"resource\", \"save\", \"saving\", \"title\", \"version\"]);\n    useCheckMinimumRequiredProps('Create', ['children'], props);\n    var classes = useStyles(props);\n    return (React.createElement(\"div\", __assign({ className: classnames('create-page', classes.root, className) }, sanitizeRestProps(rest)),\n        React.createElement(TitleForRecord, { title: title, record: record, defaultTitle: defaultTitle }),\n        actions &&\n            cloneElement(actions, __assign({ basePath: basePath,\n                resource: resource,\n                hasList: hasList }, actions.props)),\n        React.createElement(\"div\", { className: classnames(classes.main, (_a = {},\n                _a[classes.noActions] = !actions,\n                _a)) },\n            React.createElement(Content, { className: classes.card }, cloneElement(Children.only(children), {\n                basePath: basePath,\n                record: record,\n                redirect: typeof children.props.redirect === 'undefined'\n                    ? redirect\n                    : children.props.redirect,\n                resource: resource,\n                save: save,\n                saving: saving,\n                version: version,\n            })),\n            aside &&\n                cloneElement(aside, {\n                    basePath: basePath,\n                    record: record,\n                    resource: resource,\n                    save: save,\n                    saving: saving,\n                    version: version,\n                }))));\n};\nCreateView.propTypes = {\n    actions: PropTypes.element,\n    aside: PropTypes.element,\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    defaultTitle: PropTypes.any,\n    hasList: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    resource: PropTypes.string,\n    save: PropTypes.func,\n    title: PropTypes.node,\n};\nCreateView.defaultProps = {\n    classes: {},\n    component: Card,\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {},\n        main: {\n            display: 'flex',\n        },\n        noActions: (_a = {},\n            _a[theme.breakpoints.up('sm')] = {\n                marginTop: '1em',\n            },\n            _a),\n        card: {\n            flex: '1 1 auto',\n        },\n    });\n}, { name: 'RaCreate' });\nvar sanitizeRestProps = function (_a) {\n    var actions = _a.actions, children = _a.children, className = _a.className, crudCreate = _a.crudCreate, loading = _a.loading, loaded = _a.loaded, saving = _a.saving, resource = _a.resource, title = _a.title, hasCreate = _a.hasCreate, hasEdit = _a.hasEdit, hasList = _a.hasList, hasShow = _a.hasShow, match = _a.match, location = _a.location, history = _a.history, options = _a.options, locale = _a.locale, permissions = _a.permissions, successMessage = _a.successMessage, translate = _a.translate, rest = __rest(_a, [\"actions\", \"children\", \"className\", \"crudCreate\", \"loading\", \"loaded\", \"saving\", \"resource\", \"title\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"match\", \"location\", \"history\", \"options\", \"locale\", \"permissions\", \"successMessage\", \"translate\"]);\n    return rest;\n};\nexport default Create;\n","import { useEffect } from 'react';\nimport { useForm } from 'react-final-form';\n/**\n * Restore the record values which should override any default values specified on the form.\n */\nvar useInitializeFormWithRecord = function (record) {\n    var form = useForm();\n    useEffect(function () {\n        if (!record) {\n            return;\n        }\n        var registeredFields = form.getRegisteredFields();\n        // react-final-form does not provide a way to set multiple values in one call.\n        // Using batch ensure we don't get rerenders until all our values are set\n        form.batch(function () {\n            Object.keys(record).forEach(function (key) {\n                // We have to check the record key is actually registered as a field\n                // as some record keys may not have a matching input\n                if (registeredFields.some(function (field) { return field === key; })) {\n                    form.change(key, record[key]);\n                    form.resetFieldState(key);\n                }\n            });\n        });\n    }, [form, JSON.stringify(record)]); // eslint-disable-line react-hooks/exhaustive-deps\n};\nexport default useInitializeFormWithRecord;\n","import { useEffect, useRef } from 'react';\nimport { useForm } from 'react-final-form';\nimport { useHistory } from 'react-router-dom';\nimport { useTranslate } from '../i18n';\n/**\n * Display a confirmation dialog if the form has unsaved changes.\n * - If the user confirms, the navigation continues and the changes are lost.\n * - If the user cancels, the navigation is reverted and the changes are kept.\n *\n * We can't use history.block() here because forms have routes, too (for\n * instance TabbedForm), and the confirm dialog would show up when navigating\n * inside the form. So instead of relying on route change detection, we rely\n * on unmount detection. The resulting UI isn't perfect, because when they\n * click the cancel button, users briefly see the page they asked before\n * seeing the form page again. But that's the best we can do.\n *\n * @see history.block()\n */\nvar useWarnWhenUnsavedChanges = function (enable) {\n    var form = useForm();\n    var history = useHistory();\n    var translate = useTranslate();\n    // Keep track of the current location inside the form (e.g. active tab)\n    var formLocation = useRef(history.location);\n    useEffect(function () {\n        formLocation.current = history.location;\n    }, [history.location]);\n    useEffect(function () {\n        if (!enable) {\n            window.sessionStorage.removeItem('unsavedChanges');\n            return;\n        }\n        // on mount: apply unsaved changes\n        var unsavedChanges = JSON.parse(window.sessionStorage.getItem('unsavedChanges'));\n        if (unsavedChanges) {\n            Object.keys(unsavedChanges).forEach(function (key) {\n                return form.change(key, unsavedChanges[key]);\n            });\n            window.sessionStorage.removeItem('unsavedChanges');\n        }\n        // on unmount : check and save unsaved changes, then cancel navigation\n        return function () {\n            var formState = form.getState();\n            if (formState.dirty &&\n                (!formState.submitSucceeded ||\n                    (formState.submitSucceeded &&\n                        formState.dirtySinceLastSubmit))) {\n                if (!window.confirm(translate('ra.message.unsaved_changes'))) {\n                    var dirtyFields = formState.submitSucceeded\n                        ? formState.dirtySinceLastSubmit\n                        : formState.dirtyFields;\n                    var dirtyFieldValues = Object.keys(dirtyFields).reduce(function (acc, key) {\n                        acc[key] = formState.values[key];\n                        return acc;\n                    }, {});\n                    window.sessionStorage.setItem('unsavedChanges', JSON.stringify(dirtyFieldValues));\n                    history.push(formLocation.current);\n                }\n            }\n            else {\n                window.sessionStorage.removeItem('unsavedChanges');\n            }\n        };\n    }, [translate]); // eslint-disable-line react-hooks/exhaustive-deps\n};\nexport default useWarnWhenUnsavedChanges;\n","import merge from 'lodash/merge';\n/**\n * Because final-form removes undefined and empty string values completely\n * (the key for the empty field is removed from the values), we have to check\n * whether this value was initially provided so that it is correctly sent to\n * the backend.\n * @see https://github.com/final-form/react-final-form/issues/130#issuecomment-493447888\n *\n * @param initialValues The initial values provided to the form\n * @param values The current form values\n */\nvar sanitizeEmptyValues = function (initialValues, values) {\n    // For every field initially provided, we check whether it value has been removed\n    // and set it explicitly to an empty string\n    if (!initialValues)\n        return values;\n    var initialValuesWithEmptyFields = Object.keys(initialValues).reduce(function (acc, key) {\n        if (values[key] instanceof Date || Array.isArray(values[key])) {\n            acc[key] = values[key];\n        }\n        else if (typeof values[key] === 'object' &&\n            typeof initialValues[key] === 'object' &&\n            values[key] !== null) {\n            acc[key] = sanitizeEmptyValues(initialValues[key], values[key]);\n        }\n        else {\n            acc[key] =\n                typeof values[key] === 'undefined' ? null : values[key];\n        }\n        return acc;\n    }, {});\n    // Finally, we merge back the values to not miss any which wasn't initially provided\n    return merge(initialValuesWithEmptyFields, values);\n};\nexport default sanitizeEmptyValues;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport default function getFormInitialValues(initialValues, defaultValue, record) {\n    var finalInitialValues = __assign(__assign({}, initialValues), record);\n    if (typeof defaultValue !== 'undefined') {\n        console.warn('\"defaultValue\" is deprecated, please use \"initialValues\" instead');\n    }\n    if (typeof defaultValue === 'object') {\n        finalInitialValues = __assign(__assign({}, defaultValue), finalInitialValues);\n    }\n    else if (typeof defaultValue === 'function') {\n        finalInitialValues = __assign(__assign({}, defaultValue(record)), finalInitialValues);\n    }\n    return finalInitialValues;\n}\n","import { createContext } from 'react';\nvar defaultFormFunctions = { setOnSave: function () { } };\nvar FormContext = createContext(defaultFormFunctions);\nFormContext.displayName = 'FormContext';\nexport default FormContext;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useRef, useCallback, useMemo } from 'react';\nimport { Form } from 'react-final-form';\nimport arrayMutators from 'final-form-arrays';\nimport useInitializeFormWithRecord from './useInitializeFormWithRecord';\nimport useWarnWhenUnsavedChanges from './useWarnWhenUnsavedChanges';\nimport sanitizeEmptyValues from './sanitizeEmptyValues';\nimport getFormInitialValues from './getFormInitialValues';\nimport FormContext from './FormContext';\n/**\n * Wrapper around react-final-form's Form to handle redirection on submit,\n * legacy defaultValue prop, and array inputs.\n *\n * Requires a render function, just like react-final-form\n *\n * @example\n *\n * const SimpleForm = props => (\n *    <FormWithRedirect\n *        {...props}\n *        render={formProps => <SimpleFormView {...formProps} />}\n *    />\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by Create or Edit)\n * @prop {Object} initialValues\n * @prop {Function} validate\n * @prop {Function} save\n * @prop {boolean} submitOnEnter\n * @prop {string} redirect\n *\n * @param {Prop} props\n */\nvar FormWithRedirect = function (_a) {\n    var debug = _a.debug, decorators = _a.decorators, defaultValue = _a.defaultValue, destroyOnUnregister = _a.destroyOnUnregister, form = _a.form, initialValues = _a.initialValues, initialValuesEqual = _a.initialValuesEqual, _b = _a.keepDirtyOnReinitialize, keepDirtyOnReinitialize = _b === void 0 ? true : _b, _c = _a.mutators, mutators = _c === void 0 ? arrayMutators : _c, // FIXME see https://github.com/final-form/react-final-form/issues/704 and https://github.com/microsoft/TypeScript/issues/35771\n    record = _a.record, render = _a.render, save = _a.save, saving = _a.saving, _d = _a.subscription, subscription = _d === void 0 ? defaultSubscription : _d, validate = _a.validate, validateOnBlur = _a.validateOnBlur, version = _a.version, warnWhenUnsavedChanges = _a.warnWhenUnsavedChanges, props = __rest(_a, [\"debug\", \"decorators\", \"defaultValue\", \"destroyOnUnregister\", \"form\", \"initialValues\", \"initialValuesEqual\", \"keepDirtyOnReinitialize\", \"mutators\", \"record\", \"render\", \"save\", \"saving\", \"subscription\", \"validate\", \"validateOnBlur\", \"version\", \"warnWhenUnsavedChanges\"]);\n    var redirect = useRef(props.redirect);\n    var onSave = useRef(save);\n    // We don't use state here for two reasons:\n    // 1. There no way to execute code only after the state has been updated\n    // 2. We don't want the form to rerender when redirect is changed\n    var setRedirect = function (newRedirect) {\n        redirect.current = newRedirect;\n    };\n    /**\n     * A form can have several Save buttons. In case the user clicks on\n     * a Save button with a custom onSave handler, then on a second Save button\n     * without custom onSave handler, the user expects the default save\n     * handler (the one of the Form) to be called.\n     * That's why the SaveButton onClick calls setOnSave() with no parameters\n     * if it has no custom onSave, and why this function forces a default to\n     * save.\n     */\n    var setOnSave = useCallback(function (newOnSave) {\n        typeof newOnSave === 'function'\n            ? (onSave.current = newOnSave)\n            : (onSave.current = save);\n    }, [save]);\n    var formContextValue = useMemo(function () { return ({ setOnSave: setOnSave }); }, [setOnSave]);\n    var finalInitialValues = getFormInitialValues(initialValues, defaultValue, record);\n    var submit = function (values) {\n        var finalRedirect = typeof redirect.current === undefined\n            ? props.redirect\n            : redirect.current;\n        var finalValues = sanitizeEmptyValues(finalInitialValues, values);\n        onSave.current(finalValues, finalRedirect);\n    };\n    return (React.createElement(FormContext.Provider, { value: formContextValue },\n        React.createElement(Form, { key: version, debug: debug, decorators: decorators, destroyOnUnregister: destroyOnUnregister, form: form, initialValues: finalInitialValues, initialValuesEqual: initialValuesEqual, keepDirtyOnReinitialize: keepDirtyOnReinitialize, mutators: mutators, onSubmit: submit, subscription: subscription, validate: validate, validateOnBlur: validateOnBlur }, function (formProps) { return (React.createElement(FormView, __assign({}, props, formProps, { record: record, setRedirect: setRedirect, saving: formProps.submitting || saving, render: render, save: save, warnWhenUnsavedChanges: warnWhenUnsavedChanges }))); })));\n};\nvar defaultSubscription = {\n    submitting: true,\n    pristine: true,\n    valid: true,\n    invalid: true,\n};\nvar FormView = function (_a) {\n    var render = _a.render, warnWhenUnsavedChanges = _a.warnWhenUnsavedChanges, props = __rest(_a, [\"render\", \"warnWhenUnsavedChanges\"]);\n    // if record changes (after a getOne success or a refresh), the form must be updated\n    useInitializeFormWithRecord(props.record);\n    useWarnWhenUnsavedChanges(warnWhenUnsavedChanges);\n    var redirect = props.redirect, setRedirect = props.setRedirect, handleSubmit = props.handleSubmit;\n    /**\n     * We want to let developers define the redirection target from inside the form,\n     * e.g. in a <SaveButton redirect=\"list\" />.\n     * This callback does two things: handle submit, and change the redirection target.\n     * The actual redirection is done in save(), passed by the main controller.\n     *\n     * If the redirection target doesn't depend on the button clicked, it's a\n     * better option to define it directly on the Form component. In that case,\n     * using handleSubmit() instead of handleSubmitWithRedirect is fine.\n     *\n     * @example\n     *\n     * <Button onClick={() => handleSubmitWithRedirect('edit')}>\n     *     Save and edit\n     * </Button>\n     */\n    var handleSubmitWithRedirect = useCallback(function (redirectTo) {\n        if (redirectTo === void 0) { redirectTo = redirect; }\n        setRedirect(redirectTo);\n        handleSubmit();\n    }, [setRedirect, redirect, handleSubmit]);\n    return render(__assign(__assign({}, props), { handleSubmitWithRedirect: handleSubmitWithRedirect }));\n};\nexport default FormWithRedirect;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldTitle } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    label: {\n        position: 'relative',\n    },\n    value: {\n        fontFamily: theme.typography.fontFamily,\n        color: 'currentColor',\n        padding: theme.spacing(1) + \"px 0 \" + theme.spacing(1) / 2 + \"px\",\n        border: 0,\n        boxSizing: 'content-box',\n        verticalAlign: 'middle',\n        background: 'none',\n        margin: 0,\n        display: 'block',\n        width: '100%',\n    },\n}); }, { name: 'RaLabeled' });\n/**\n * Use any component as read-only Input, labeled just like other Inputs.\n *\n * Useful to use a Field in the Edit or Create components.\n * The child component will receive the current record.\n *\n * This component name doesn't have a typo. We had to choose between\n * the American English \"Labeled\", and the British English \"Labelled\".\n * We flipped a coin.\n *\n * @example\n * <Labeled label=\"Comments\">\n *     <FooComponent source=\"title\" />\n * </Labeled>\n */\nvar Labeled = function (props) {\n    var children = props.children, className = props.className, classesOverride = props.classes, fullWidth = props.fullWidth, id = props.id, input = props.input, isRequired = props.isRequired, label = props.label, _a = props.margin, margin = _a === void 0 ? 'dense' : _a, meta = props.meta, resource = props.resource, source = props.source, rest = __rest(props, [\"children\", \"className\", \"classes\", \"fullWidth\", \"id\", \"input\", \"isRequired\", \"label\", \"margin\", \"meta\", \"resource\", \"source\"]);\n    var classes = useStyles(props);\n    if (!label && !source) {\n        // @ts-ignore\n        var name_1 = children && children.type && children.type.name;\n        throw new Error(\"Cannot create label for component <\" + name_1 + \">: You must set either the label or source props. You can also disable automated label insertion by setting 'addLabel: false' in the component default props\");\n    }\n    var restProps = fullWidth ? __assign(__assign({}, rest), { fullWidth: fullWidth }) : rest;\n    return (React.createElement(FormControl, { className: className, fullWidth: fullWidth, error: meta && meta.touched && !!meta.error, margin: margin },\n        React.createElement(InputLabel, { htmlFor: id, shrink: true, className: classes.label },\n            React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired })),\n        React.createElement(\"div\", { className: classes.value }, children && typeof children.type !== 'string'\n            ? React.cloneElement(children, __assign({ input: input,\n                resource: resource }, restProps))\n            : children)));\n};\nLabeled.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    fullWidth: PropTypes.bool,\n    id: PropTypes.string,\n    input: PropTypes.object,\n    isRequired: PropTypes.bool,\n    label: PropTypes.string,\n    meta: PropTypes.object,\n    onChange: PropTypes.func,\n    record: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    labelStyle: PropTypes.object,\n};\nexport default Labeled;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Labeled from '../input/Labeled';\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, record = _a.record, rest = __rest(_a, [\"basePath\", \"record\"]);\n    return rest;\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    input: { width: theme.spacing(32) },\n}); }, { name: 'RaFormInput' });\nvar FormInput = function (props) {\n    var _a, _b;\n    var input = props.input, classesOverride = props.classes, rest = __rest(props, [\"input\", \"classes\"]);\n    var classes = useStyles(props);\n    return input ? (React.createElement(\"div\", { className: classnames('ra-input', \"ra-input-\" + input.props.source, input.props.formClassName) }, input.props.addLabel ? (React.createElement(Labeled, __assign({ id: input.props.id || input.props.source }, input.props, sanitizeRestProps(rest)), React.cloneElement(input, __assign({ className: classnames((_a = {},\n            _a[classes.input] = !input.props.fullWidth,\n            _a), input.props.className), id: input.props.id || input.props.source }, rest)))) : (React.cloneElement(input, __assign({ className: classnames((_b = {},\n            _b[classes.input] = !input.props.fullWidth,\n            _b), input.props.className), id: input.props.id || input.props.source }, rest))))) : null;\n};\nFormInput.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    input: PropTypes.object,\n};\n// wat? TypeScript looses the displayName if we don't set it explicitly\nFormInput.displayName = 'FormInput';\nexport default FormInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useContext, cloneElement, } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentSave from '@material-ui/icons/Save';\nimport classnames from 'classnames';\nimport { useTranslate, useNotify, FormContext, } from 'ra-core';\nimport { sanitizeButtonRestProps } from './Button';\nvar SaveButton = function (props) {\n    var className = props.className, classesOverride = props.classes, invalid = props.invalid, _a = props.label, label = _a === void 0 ? 'ra.action.save' : _a, pristine = props.pristine, redirect = props.redirect, saving = props.saving, submitOnEnter = props.submitOnEnter, _b = props.variant, variant = _b === void 0 ? 'contained' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, onClick = props.onClick, handleSubmitWithRedirect = props.handleSubmitWithRedirect, onSave = props.onSave, rest = __rest(props, [\"className\", \"classes\", \"invalid\", \"label\", \"pristine\", \"redirect\", \"saving\", \"submitOnEnter\", \"variant\", \"icon\", \"onClick\", \"handleSubmitWithRedirect\", \"onSave\"]);\n    var classes = useStyles(props);\n    var notify = useNotify();\n    var translate = useTranslate();\n    var setOnSave = useContext(FormContext).setOnSave;\n    var handleClick = function (event) {\n        if (typeof onSave === 'function') {\n            setOnSave(onSave);\n        }\n        else {\n            // we reset to the Form default save function\n            setOnSave();\n        }\n        if (saving) {\n            // prevent double submission\n            event.preventDefault();\n        }\n        else {\n            if (invalid) {\n                notify('ra.message.invalid_form', 'warning');\n            }\n            // always submit form explicitly regardless of button type\n            if (event) {\n                event.preventDefault();\n            }\n            handleSubmitWithRedirect(redirect);\n        }\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    };\n    var type = submitOnEnter ? 'submit' : 'button';\n    var displayedLabel = label && translate(label, { _: label });\n    return (React.createElement(Button, __assign({ className: classnames(classes.button, className), variant: variant, type: type, onClick: handleClick, color: saving ? 'default' : 'primary', \"aria-label\": displayedLabel }, sanitizeButtonRestProps(rest)),\n        saving ? (React.createElement(CircularProgress, { size: 18, thickness: 2, className: classes.leftIcon })) : (cloneElement(icon, {\n            className: classnames(classes.leftIcon, classes.icon),\n        })),\n        displayedLabel));\n};\nvar defaultIcon = React.createElement(ContentSave, null);\nvar useStyles = makeStyles(function (theme) { return ({\n    button: {\n        position: 'relative',\n    },\n    leftIcon: {\n        marginRight: theme.spacing(1),\n    },\n    icon: {\n        fontSize: 18,\n    },\n}); }, { name: 'RaSaveButton' });\nSaveButton.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    handleSubmitWithRedirect: PropTypes.func,\n    onSave: PropTypes.func,\n    invalid: PropTypes.bool,\n    label: PropTypes.string,\n    pristine: PropTypes.bool,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    variant: PropTypes.oneOf(['text', 'outlined', 'contained']),\n    icon: PropTypes.element,\n};\nexport default SaveButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport { useDelete, useRefresh, useNotify, useRedirect, CRUD_DELETE, } from 'ra-core';\nimport Button from './Button';\nvar DeleteWithUndoButton = function (props) {\n    var _a = props.label, label = _a === void 0 ? 'ra.action.delete' : _a, classesOverride = props.classes, className = props.className, _b = props.icon, icon = _b === void 0 ? defaultIcon : _b, onClick = props.onClick, resource = props.resource, record = props.record, basePath = props.basePath, _c = props.redirect, redirectTo = _c === void 0 ? 'list' : _c, rest = __rest(props, [\"label\", \"classes\", \"className\", \"icon\", \"onClick\", \"resource\", \"record\", \"basePath\", \"redirect\"]);\n    var classes = useStyles(props);\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var _d = useDelete(resource, record.id, record, {\n        action: CRUD_DELETE,\n        onSuccess: function () {\n            notify('ra.notification.deleted', 'info', { smart_count: 1 }, true);\n            redirect(redirectTo, basePath);\n            refresh();\n        },\n        onFailure: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning');\n        },\n        undoable: true,\n    }), deleteOne = _d[0], loading = _d[1].loading;\n    var handleDelete = useCallback(function (event) {\n        event.stopPropagation();\n        deleteOne();\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [deleteOne, onClick]);\n    return (React.createElement(Button, __assign({ onClick: handleDelete, disabled: loading, label: label, className: classnames('ra-delete-button', classes.deleteButton, className), key: \"button\" }, rest), icon));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaDeleteWithUndoButton' });\nvar defaultIcon = React.createElement(ActionDelete, null);\nDeleteWithUndoButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    icon: PropTypes.element,\n};\nexport default DeleteWithUndoButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Fragment, useState, useCallback, } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport inflection from 'inflection';\nimport { useTranslate, useDelete, useRefresh, useNotify, useRedirect, CRUD_DELETE, } from 'ra-core';\nimport Confirm from '../layout/Confirm';\nimport Button from './Button';\nvar DeleteWithConfirmButton = function (props) {\n    var basePath = props.basePath, classesOverride = props.classes, className = props.className, _a = props.confirmTitle, confirmTitle = _a === void 0 ? 'ra.message.delete_title' : _a, _b = props.confirmContent, confirmContent = _b === void 0 ? 'ra.message.delete_content' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, _d = props.label, label = _d === void 0 ? 'ra.action.delete' : _d, onClick = props.onClick, record = props.record, resource = props.resource, _e = props.redirect, redirectTo = _e === void 0 ? 'list' : _e, rest = __rest(props, [\"basePath\", \"classes\", \"className\", \"confirmTitle\", \"confirmContent\", \"icon\", \"label\", \"onClick\", \"record\", \"resource\", \"redirect\"]);\n    var _f = useState(false), open = _f[0], setOpen = _f[1];\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var classes = useStyles(props);\n    var _g = useDelete(resource, record.id, record, {\n        action: CRUD_DELETE,\n        onSuccess: function () {\n            notify('ra.notification.deleted', 'info', { smart_count: 1 });\n            redirect(redirectTo, basePath);\n            refresh();\n        },\n        onFailure: function (error) {\n            notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning');\n            setOpen(false);\n        },\n        undoable: false,\n    }), deleteOne = _g[0], loading = _g[1].loading;\n    var handleClick = function (e) {\n        setOpen(true);\n        e.stopPropagation();\n    };\n    var handleDialogClose = function (e) {\n        setOpen(false);\n        e.stopPropagation();\n    };\n    var handleDelete = useCallback(function (event) {\n        deleteOne();\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [deleteOne, onClick]);\n    return (React.createElement(Fragment, null,\n        React.createElement(Button, __assign({ onClick: handleClick, label: label, className: classnames('ra-delete-button', classes.deleteButton, className), key: \"button\" }, rest), icon),\n        React.createElement(Confirm, { isOpen: open, loading: loading, title: confirmTitle, content: confirmContent, translateOptions: {\n                name: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n                    smart_count: 1,\n                    _: inflection.singularize(resource),\n                }), true),\n                id: record.id,\n            }, onConfirm: handleDelete, onClose: handleDialogClose })));\n};\nvar defaultIcon = React.createElement(ActionDelete, null);\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaDeleteWithConfirmButton' });\nDeleteWithConfirmButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    confirmTitle: PropTypes.string,\n    confirmContent: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    icon: PropTypes.element,\n};\nexport default DeleteWithConfirmButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport DeleteWithUndoButton from './DeleteWithUndoButton';\nimport DeleteWithConfirmButton from './DeleteWithConfirmButton';\nvar DeleteButton = function (_a) {\n    var undoable = _a.undoable, props = __rest(_a, [\"undoable\"]);\n    return undoable ? (React.createElement(DeleteWithUndoButton, __assign({}, props))) : (React.createElement(DeleteWithConfirmButton, __assign({}, props)));\n};\nDeleteButton.propTypes = {\n    basePath: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    // @ts-ignore\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    undoable: PropTypes.bool,\n    icon: PropTypes.element,\n};\nDeleteButton.defaultProps = {\n    undoable: true,\n};\nexport default DeleteButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, Fragment, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport withWidth from '@material-ui/core/withWidth';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { SaveButton, DeleteButton } from '../button';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        toolbar: {\n            backgroundColor: theme.palette.type === 'light'\n                ? theme.palette.grey[100]\n                : theme.palette.grey[900],\n        },\n        desktopToolbar: {\n            marginTop: theme.spacing(2),\n        },\n        mobileToolbar: {\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            padding: '16px',\n            width: '100%',\n            boxSizing: 'border-box',\n            flexShrink: 0,\n            zIndex: 2,\n        },\n        defaultToolbar: {\n            flex: 1,\n            display: 'flex',\n            justifyContent: 'space-between',\n        },\n        spacer: (_a = {},\n            _a[theme.breakpoints.down('xs')] = {\n                height: '5em',\n            },\n            _a),\n    });\n}, { name: 'RaToolbar' });\nvar valueOrDefault = function (value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n};\nvar Toolbar = function (props) {\n    var _a;\n    var basePath = props.basePath, children = props.children, className = props.className, classesOverride = props.classes, handleSubmit = props.handleSubmit, handleSubmitWithRedirect = props.handleSubmitWithRedirect, invalid = props.invalid, pristine = props.pristine, record = props.record, redirect = props.redirect, resource = props.resource, saving = props.saving, submitOnEnter = props.submitOnEnter, undoable = props.undoable, width = props.width, rest = __rest(props, [\"basePath\", \"children\", \"className\", \"classes\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"undoable\", \"width\"]);\n    var classes = useStyles(props);\n    return (React.createElement(Fragment, null,\n        React.createElement(MuiToolbar, __assign({ className: classnames(classes.toolbar, (_a = {},\n                _a[classes.mobileToolbar] = width === 'xs',\n                _a[classes.desktopToolbar] = width !== 'xs',\n                _a), className), role: \"toolbar\" }, rest), Children.count(children) === 0 ? (React.createElement(\"div\", { className: classes.defaultToolbar },\n            React.createElement(SaveButton, { handleSubmitWithRedirect: handleSubmitWithRedirect || handleSubmit, invalid: invalid, redirect: redirect, saving: saving, submitOnEnter: submitOnEnter }),\n            record && typeof record.id !== 'undefined' && (React.createElement(DeleteButton, { basePath: basePath, record: record, resource: resource, undoable: undoable })))) : (Children.map(children, function (button) {\n            return button && isValidElement(button)\n                ? React.cloneElement(button, {\n                    basePath: basePath,\n                    handleSubmit: valueOrDefault(button.props.handleSubmit, handleSubmit),\n                    handleSubmitWithRedirect: valueOrDefault(button.props.handleSubmitWithRedirect, handleSubmitWithRedirect),\n                    onSave: button.props.onSave,\n                    invalid: invalid,\n                    pristine: pristine,\n                    record: record,\n                    resource: resource,\n                    saving: saving,\n                    submitOnEnter: valueOrDefault(button.props.submitOnEnter, submitOnEnter),\n                    undoable: valueOrDefault(button.props.undoable, undoable),\n                })\n                : null;\n        }))),\n        React.createElement(\"div\", { className: classes.spacer })));\n};\nToolbar.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    handleSubmit: PropTypes.func,\n    handleSubmitWithRedirect: PropTypes.func,\n    invalid: PropTypes.bool,\n    pristine: PropTypes.bool,\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    saving: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n    submitOnEnter: PropTypes.bool,\n    undoable: PropTypes.bool,\n    width: PropTypes.string,\n};\nToolbar.defaultProps = {\n    submitOnEnter: true,\n};\nexport default withWidth({ initialWidth: 'xs' })(Toolbar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {\n            paddingTop: 0,\n            paddingBottom: 0,\n            '&:first-child': {\n                paddingTop: 16,\n            },\n            '&:last-child': (_a = {\n                    paddingBottom: 16\n                },\n                _a[theme.breakpoints.only('xs')] = {\n                    paddingBottom: 70,\n                },\n                _a),\n        },\n    });\n}, { name: 'RaCardContentInner' });\n/**\n * Overrides material-ui CardContent to allow inner content\n *\n * When using several CardContent inside the same Card, the top and bottom\n * padding double the spacing between each CardContent, leading to too much\n * wasted space. Use this component as a CardContent alternative.\n */\nvar CardContentInner = function (props) {\n    var className = props.className, children = props.children;\n    var classes = useStyles(props);\n    return (React.createElement(CardContent, { className: classnames(classes.root, className) }, children));\n};\nCardContentInner.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    children: PropTypes.node,\n};\nexport default CardContentInner;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { FormWithRedirect } from 'ra-core';\nimport FormInput from './FormInput';\nimport Toolbar from './Toolbar';\nimport CardContentInner from '../layout/CardContentInner';\n/**\n * Form with a one column layout, one input per line.\n *\n * Pass input components as children.\n *\n * @example\n *\n * import React from 'react';\n * import { Create, Edit, SimpleForm, TextInput, DateInput, ReferenceManyField, Datagrid, TextField, DateField, EditButton } from 'react-admin';\n * import RichTextInput from 'ra-input-rich-text';\n *\n * export const PostCreate = (props) => (\n *     <Create {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *             <TextInput source=\"teaser\" options={{ multiLine: true }} />\n *             <RichTextInput source=\"body\" />\n *             <DateInput label=\"Publication date\" source=\"published_at\" defaultValue={new Date()} />\n *         </SimpleForm>\n *     </Create>\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by Create or Edit)\n * @prop {ReactElement[]} children Input elements\n * @prop {Object} initialValues\n * @prop {Function} validate\n * @prop {boolean} submitOnEnter\n * @prop {string} redirect\n * @prop {ReactElement} toolbar The element displayed at the bottom of the form, contzining the SaveButton\n * @prop {string} variant Apply variant to all inputs. Possible values are 'standard', 'outlined', and 'filled' (default)\n * @prop {string} margin Apply variant to all inputs. Possible values are 'none', 'normal', and 'dense' (default)\n *\n * @param {Prop} props\n */\nvar SimpleForm = function (props) { return (React.createElement(FormWithRedirect, __assign({}, props, { render: function (formProps) { return React.createElement(SimpleFormView, __assign({}, formProps)); } }))); };\nSimpleForm.propTypes = {\n    children: PropTypes.node,\n    defaultValue: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    initialValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    save: PropTypes.func,\n    saving: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n    submitOnEnter: PropTypes.bool,\n    undoable: PropTypes.bool,\n    validate: PropTypes.func,\n    version: PropTypes.number,\n};\nvar SimpleFormView = function (_a) {\n    var basePath = _a.basePath, children = _a.children, className = _a.className, handleSubmit = _a.handleSubmit, handleSubmitWithRedirect = _a.handleSubmitWithRedirect, invalid = _a.invalid, margin = _a.margin, pristine = _a.pristine, record = _a.record, redirect = _a.redirect, resource = _a.resource, saving = _a.saving, submitOnEnter = _a.submitOnEnter, toolbar = _a.toolbar, undoable = _a.undoable, variant = _a.variant, rest = __rest(_a, [\"basePath\", \"children\", \"className\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"margin\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"toolbar\", \"undoable\", \"variant\"]);\n    return (React.createElement(\"form\", __assign({ className: classnames('simple-form', className) }, sanitizeRestProps(rest)),\n        React.createElement(CardContentInner, null, Children.map(children, function (input) {\n            return input && (React.createElement(FormInput, { basePath: basePath, input: input, record: record, resource: resource, variant: input.props.variant || variant, margin: input.props.margin || margin }));\n        })),\n        toolbar &&\n            React.cloneElement(toolbar, {\n                basePath: basePath,\n                handleSubmitWithRedirect: handleSubmitWithRedirect,\n                handleSubmit: handleSubmit,\n                invalid: invalid,\n                pristine: pristine,\n                record: record,\n                redirect: redirect,\n                resource: resource,\n                saving: saving,\n                submitOnEnter: submitOnEnter,\n                undoable: undoable,\n            })));\n};\nSimpleFormView.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    className: PropTypes.string,\n    handleSubmit: PropTypes.func,\n    invalid: PropTypes.bool,\n    pristine: PropTypes.bool,\n    record: PropTypes.object,\n    resource: PropTypes.string,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    save: PropTypes.func,\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    toolbar: PropTypes.element,\n    undoable: PropTypes.bool,\n    validate: PropTypes.func,\n};\nSimpleFormView.defaultProps = {\n    submitOnEnter: true,\n    toolbar: React.createElement(Toolbar, null),\n};\nvar sanitizeRestProps = function (_a) {\n    var anyTouched = _a.anyTouched, array = _a.array, asyncBlurFields = _a.asyncBlurFields, asyncValidate = _a.asyncValidate, asyncValidating = _a.asyncValidating, autofill = _a.autofill, blur = _a.blur, change = _a.change, clearAsyncError = _a.clearAsyncError, clearFields = _a.clearFields, clearSubmit = _a.clearSubmit, clearSubmitErrors = _a.clearSubmitErrors, destroy = _a.destroy, dirty = _a.dirty, dirtyFields = _a.dirtyFields, dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit, dirtySinceLastSubmit = _a.dirtySinceLastSubmit, dispatch = _a.dispatch, form = _a.form, handleSubmit = _a.handleSubmit, hasSubmitErrors = _a.hasSubmitErrors, hasValidationErrors = _a.hasValidationErrors, initialize = _a.initialize, initialized = _a.initialized, initialValues = _a.initialValues, pristine = _a.pristine, pure = _a.pure, redirect = _a.redirect, reset = _a.reset, resetSection = _a.resetSection, save = _a.save, setRedirect = _a.setRedirect, submit = _a.submit, submitError = _a.submitError, submitErrors = _a.submitErrors, submitAsSideEffect = _a.submitAsSideEffect, submitFailed = _a.submitFailed, submitSucceeded = _a.submitSucceeded, submitting = _a.submitting, touch = _a.touch, translate = _a.translate, triggerSubmit = _a.triggerSubmit, undoable = _a.undoable, untouch = _a.untouch, valid = _a.valid, validate = _a.validate, validating = _a.validating, _reduxForm = _a._reduxForm, props = __rest(_a, [\"anyTouched\", \"array\", \"asyncBlurFields\", \"asyncValidate\", \"asyncValidating\", \"autofill\", \"blur\", \"change\", \"clearAsyncError\", \"clearFields\", \"clearSubmit\", \"clearSubmitErrors\", \"destroy\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"dispatch\", \"form\", \"handleSubmit\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialize\", \"initialized\", \"initialValues\", \"pristine\", \"pure\", \"redirect\", \"reset\", \"resetSection\", \"save\", \"setRedirect\", \"submit\", \"submitError\", \"submitErrors\", \"submitAsSideEffect\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touch\", \"translate\", \"triggerSubmit\", \"undoable\", \"untouch\", \"valid\", \"validate\", \"validating\", \"_reduxForm\"]);\n    return props;\n};\nexport default SimpleForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useState } from 'react';\nimport { useTranslate } from 'ra-core';\nimport { InputAdornment, IconButton } from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport TextInput from './TextInput';\nvar PasswordInput = function (_a) {\n    var _b = _a.initiallyVisible, initiallyVisible = _b === void 0 ? false : _b, props = __rest(_a, [\"initiallyVisible\"]);\n    var _c = useState(initiallyVisible), visible = _c[0], setVisible = _c[1];\n    var translate = useTranslate();\n    var handleClick = function () {\n        setVisible(!visible);\n    };\n    return (React.createElement(TextInput, __assign({}, props, { type: visible ? 'text' : 'password', InputProps: {\n            endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\n                React.createElement(IconButton, { \"aria-label\": translate(visible\n                        ? 'ra.input.password.toggle_visible'\n                        : 'ra.input.password.toggle_hidden'), onClick: handleClick }, visible ? React.createElement(Visibility, null) : React.createElement(VisibilityOff, null)))),\n        } })));\n};\nexport default PasswordInput;\n","import React from 'react';\nimport {\n    Create,\n    DateInput,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n    PasswordInput,\n    required,\n} from 'react-admin';\nimport { Typography, Box } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { Styles } from '@material-ui/styles/withStyles';\n\nexport const styles: Styles<Theme, any> = {\n    first_name: { display: 'inline-block' },\n    last_name: { display: 'inline-block', marginLeft: 32 },\n    email: { width: 544 },\n    address: { maxWidth: 544 },\n    zipcode: { display: 'inline-block' },\n    city: { display: 'inline-block', marginLeft: 32 },\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    password: { display: 'inline-block' },\n    confirm_password: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport const validatePasswords = ({\n    password,\n    confirm_password,\n}: {\n    password: string;\n    confirm_password: string;\n}) => {\n    const errors = {} as any;\n\n    if (password && confirm_password && password !== confirm_password) {\n        errors.confirm_password = [\n            'resources.customers.errors.password_mismatch',\n        ];\n    }\n\n    return errors;\n};\n\nconst VisitorCreate = (props: any) => {\n    const classes = useStyles();\n\n    return (\n        <Create {...props}>\n            <SimpleForm validate={validatePasswords}>\n                <SectionTitle label=\"resources.customers.fieldGroups.identity\" />\n                <TextInput\n                    autoFocus\n                    source=\"first_name\"\n                    formClassName={classes.first_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    source=\"last_name\"\n                    formClassName={classes.last_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    type=\"email\"\n                    source=\"email\"\n                    validation={{ email: true }}\n                    fullWidth={true}\n                    formClassName={classes.email}\n                    validate={requiredValidate}\n                />\n                <DateInput source=\"birthday\" />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.address\" />\n                <TextInput\n                    source=\"address\"\n                    formClassName={classes.address}\n                    multiline={true}\n                    fullWidth={true}\n                />\n                <TextInput source=\"zipcode\" formClassName={classes.zipcode} />\n                <TextInput source=\"city\" formClassName={classes.city} />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.password\" />\n                <PasswordInput\n                    source=\"password\"\n                    formClassName={classes.password}\n                />\n                <PasswordInput\n                    source=\"confirm_password\"\n                    formClassName={classes.confirm_password}\n                />\n            </SimpleForm>\n        </Create>\n    );\n};\n\nconst requiredValidate = [required()];\n\nconst SectionTitle = ({ label }: { label: string }) => {\n    const translate = useTranslate();\n\n    return (\n        <Typography variant=\"h6\" gutterBottom>\n            {translate(label)}\n        </Typography>\n    );\n};\n\nconst Separator = () => <Box pt=\"1em\" />;\n\nexport default VisitorCreate;\n","import { GET_ONE } from '../../core';\nexport var crudGetOne = function (resource, id, basePath, refresh) {\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_GET_ONE,\n        payload: { id: id },\n        meta: {\n            resource: resource,\n            fetch: GET_ONE,\n            basePath: basePath,\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.item_doesnt_exist',\n                    level: 'warning',\n                },\n                redirectTo: 'list',\n                refresh: refresh,\n            },\n        },\n    });\n};\nexport var CRUD_GET_ONE = 'RA/CRUD_GET_ONE';\nexport var CRUD_GET_ONE_LOADING = 'RA/CRUD_GET_ONE_LOADING';\nexport var CRUD_GET_ONE_FAILURE = 'RA/CRUD_GET_ONE_FAILURE';\nexport var CRUD_GET_ONE_SUCCESS = 'RA/CRUD_GET_ONE_SUCCESS';\n","import { UPDATE } from '../../core';\nexport var crudUpdate = function (resource, id, data, previousData, basePath, redirectTo, refresh) {\n    if (redirectTo === void 0) { redirectTo = 'show'; }\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_UPDATE,\n        payload: { id: id, data: data, previousData: previousData },\n        meta: {\n            resource: resource,\n            fetch: UPDATE,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.updated',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: 1,\n                    },\n                },\n                refresh: refresh,\n                redirectTo: redirectTo,\n                basePath: basePath,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_UPDATE = 'RA/CRUD_UPDATE';\nexport var CRUD_UPDATE_LOADING = 'RA/CRUD_UPDATE_LOADING';\nexport var CRUD_UPDATE_FAILURE = 'RA/CRUD_UPDATE_FAILURE';\nexport var CRUD_UPDATE_SUCCESS = 'RA/CRUD_UPDATE_SUCCESS';\n","import { useCallback } from 'react';\nimport inflection from 'inflection';\nimport useVersion from './useVersion';\nimport { useCheckMinimumRequiredProps } from './checkMinimumRequiredProps';\nimport { useNotify, useRedirect, useRefresh, } from '../sideEffect';\nimport { useGetOne, useUpdate } from '../dataProvider';\nimport { useTranslate } from '../i18n';\nimport { CRUD_GET_ONE, CRUD_UPDATE } from '../actions';\n/**\n * Prepare data for the Edit view\n *\n * @param {Object} props The props passed to the Edit component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Edit view\n *\n * @example\n *\n * import { useEditController } from 'react-admin';\n * import EditView from './EditView';\n *\n * const MyEdit = props => {\n *     const controllerProps = useEditController(props);\n *     return <EditView {...controllerProps} {...props} />;\n * }\n */\nvar useEditController = function (props) {\n    useCheckMinimumRequiredProps('Edit', ['basePath', 'resource'], props);\n    var basePath = props.basePath, id = props.id, resource = props.resource, successMessage = props.successMessage, _a = props.undoable, undoable = _a === void 0 ? true : _a;\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var version = useVersion();\n    var _b = useGetOne(resource, id, {\n        version: version,\n        action: CRUD_GET_ONE,\n        onFailure: function () {\n            notify('ra.notification.item_doesnt_exist', 'warning');\n            redirect('list', basePath);\n            refresh();\n        },\n    }), record = _b.data, loading = _b.loading, loaded = _b.loaded;\n    var resourceName = translate(\"resources.\" + resource + \".name\", {\n        smart_count: 1,\n        _: inflection.humanize(inflection.singularize(resource)),\n    });\n    var defaultTitle = translate('ra.page.edit', {\n        name: \"\" + resourceName,\n        id: id,\n        record: record,\n    });\n    var _c = useUpdate(resource, id, {}, // set by the caller\n    record), update = _c[0], saving = _c[1].loading;\n    var save = useCallback(function (data, redirectTo, _a) {\n        if (redirectTo === void 0) { redirectTo = DefaultRedirect; }\n        var _b = _a === void 0 ? {} : _a, onSuccess = _b.onSuccess, onFailure = _b.onFailure;\n        return update({ payload: { data: data } }, {\n            action: CRUD_UPDATE,\n            onSuccess: onSuccess\n                ? onSuccess\n                : function () {\n                    notify(successMessage || 'ra.notification.updated', 'info', {\n                        smart_count: 1,\n                    }, undoable);\n                    redirect(redirectTo, basePath, data.id, data);\n                },\n            onFailure: onFailure\n                ? onFailure\n                : function (error) {\n                    notify(typeof error === 'string'\n                        ? error\n                        : error.message ||\n                            'ra.notification.http_error', 'warning');\n                    if (undoable) {\n                        refresh();\n                    }\n                },\n            undoable: undoable,\n        });\n    }, [update, undoable, notify, successMessage, redirect, basePath, refresh]);\n    return {\n        loading: loading,\n        loaded: loaded,\n        saving: saving,\n        defaultTitle: defaultTitle,\n        save: save,\n        resource: resource,\n        basePath: basePath,\n        record: record,\n        redirect: DefaultRedirect,\n        version: version,\n    };\n};\nexport default useEditController;\nvar DefaultRedirect = 'list';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport shouldUpdate from 'recompose/shouldUpdate';\nimport ImageEye from '@material-ui/icons/RemoveRedEye';\nimport { Link } from 'react-router-dom';\nimport { linkToRecord } from 'ra-core';\nimport Button from './Button';\nvar ShowButton = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? '' : _b, _c = _a.label, label = _c === void 0 ? 'ra.action.show' : _c, record = _a.record, _d = _a.icon, icon = _d === void 0 ? defaultIcon : _d, rest = __rest(_a, [\"basePath\", \"label\", \"record\", \"icon\"]);\n    return (React.createElement(Button, __assign({ component: Link, to: linkToRecord(basePath, record && record.id) + \"/show\", label: label, onClick: stopPropagation }, rest), icon));\n};\nvar defaultIcon = React.createElement(ImageEye, null);\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\nShowButton.propTypes = {\n    basePath: PropTypes.string,\n    icon: PropTypes.element,\n    label: PropTypes.string,\n    record: PropTypes.any,\n};\nvar enhance = shouldUpdate(function (props, nextProps) {\n    return (props.record &&\n        nextProps.record &&\n        props.record.id !== nextProps.record.id) ||\n        props.basePath !== nextProps.basePath ||\n        (props.record == null && nextProps.record != null);\n});\nexport default enhance(ShowButton);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { ShowButton } from '../button';\nimport TopToolbar from '../layout/TopToolbar';\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, className = _a.className, record = _a.record, hasShow = _a.hasShow, hasList = _a.hasList, resource = _a.resource, rest = __rest(_a, [\"basePath\", \"className\", \"record\", \"hasShow\", \"hasList\", \"resource\"]);\n    return rest;\n};\n/**\n * Action Toolbar for the Edit view\n *\n * Internal component. If you want to add or remove actions for a Edit view,\n * write your own EditActions Component. Then, in the <Edit> component,\n * use it in the `actions` prop to pass a custom component.\n *\n * @example\n *     import Button from '@material-ui/core/Button';\n *     import { TopToolbar, ShowButton, Edit } from 'react-admin';\n *\n *     const PostEditActions = ({ basePath, record, resource }) => (\n *         <TopToolbar>\n *             <ShowButton basePath={basePath} record={record} />\n *             // Add your custom actions here\n *             <Button color=\"primary\" onClick={customAction}>Custom Action</Button>\n *         </TopToolbar>\n *     );\n *\n *     export const PostEdit = (props) => (\n *         <Edit actions={<PostEditActions />} {...props}>\n *             ...\n *         </Edit>\n *     );\n */\nvar EditActions = function (_a) {\n    var basePath = _a.basePath, className = _a.className, data = _a.data, hasShow = _a.hasShow, rest = __rest(_a, [\"basePath\", \"className\", \"data\", \"hasShow\"]);\n    return (React.createElement(TopToolbar, __assign({ className: className }, sanitizeRestProps(rest)), hasShow && React.createElement(ShowButton, { basePath: basePath, record: data })));\n};\nEditActions.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    data: PropTypes.object,\n    hasShow: PropTypes.bool,\n    resource: PropTypes.string,\n};\nexport default EditActions;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useEditController, ComponentPropType } from 'ra-core';\nimport DefaultActions from './EditActions';\nimport TitleForRecord from '../layout/TitleForRecord';\n/**\n * Page component for the Edit view\n *\n * The `<Edit>` component renders the page title and actions,\n * fetches the record from the data provider.\n * It is not responsible for rendering the actual form -\n * that's the job of its child component (usually `<SimpleForm>`),\n * to which it passes pass the `record` as prop.\n *\n * The <Edit> component accepts the following props:\n *\n * - actions\n * - aside\n * - component\n * - successMessage\n * - title\n * - undoable\n *\n * @example\n *\n * // in src/posts.js\n * import React from 'react';\n * import { Edit, SimpleForm, TextInput } from 'react-admin';\n *\n * export const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * // in src/App.js\n * import React from 'react';\n * import { Admin, Resource } from 'react-admin';\n *\n * import { PostEdit } from './posts';\n *\n * const App = () => (\n *     <Admin dataProvider={...}>\n *         <Resource name=\"posts\" edit={PostEdit} />\n *     </Admin>\n * );\n * export default App;\n */\nvar Edit = function (props) { return React.createElement(EditView, __assign({}, props, useEditController(props))); };\nEdit.propTypes = {\n    actions: PropTypes.element,\n    aside: PropTypes.element,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    hasCreate: PropTypes.bool,\n    hasEdit: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    hasList: PropTypes.bool,\n    id: PropTypes.any.isRequired,\n    resource: PropTypes.string.isRequired,\n    title: PropTypes.node,\n    successMessage: PropTypes.string,\n};\nexport var EditView = function (props) {\n    var _a;\n    var actions = props.actions, aside = props.aside, basePath = props.basePath, children = props.children, classesOverride = props.classes, className = props.className, Content = props.component, defaultTitle = props.defaultTitle, hasList = props.hasList, hasShow = props.hasShow, record = props.record, redirect = props.redirect, resource = props.resource, save = props.save, saving = props.saving, title = props.title, undoable = props.undoable, version = props.version, rest = __rest(props, [\"actions\", \"aside\", \"basePath\", \"children\", \"classes\", \"className\", \"component\", \"defaultTitle\", \"hasList\", \"hasShow\", \"record\", \"redirect\", \"resource\", \"save\", \"saving\", \"title\", \"undoable\", \"version\"]);\n    var classes = useStyles(props);\n    var finalActions = typeof actions === 'undefined' && hasShow ? (React.createElement(DefaultActions, null)) : (actions);\n    if (!children) {\n        return null;\n    }\n    return (React.createElement(\"div\", __assign({ className: classnames('edit-page', classes.root, className) }, sanitizeRestProps(rest)),\n        React.createElement(TitleForRecord, { title: title, record: record, defaultTitle: defaultTitle }),\n        finalActions &&\n            cloneElement(finalActions, __assign({ basePath: basePath, data: record, hasShow: hasShow,\n                hasList: hasList,\n                resource: resource }, finalActions.props)),\n        React.createElement(\"div\", { className: classnames(classes.main, (_a = {},\n                _a[classes.noActions] = !finalActions,\n                _a)) },\n            React.createElement(Content, { className: classes.card }, record ? (cloneElement(Children.only(children), {\n                basePath: basePath,\n                record: record,\n                redirect: typeof children.props.redirect === 'undefined'\n                    ? redirect\n                    : children.props.redirect,\n                resource: resource,\n                save: save,\n                saving: saving,\n                undoable: undoable,\n                version: version,\n            })) : (React.createElement(CardContent, null, \"\\u00A0\"))),\n            aside &&\n                React.cloneElement(aside, {\n                    basePath: basePath,\n                    record: record,\n                    resource: resource,\n                    version: version,\n                    save: save,\n                    saving: saving,\n                }))));\n};\nEditView.propTypes = {\n    actions: PropTypes.element,\n    aside: PropTypes.element,\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    component: ComponentPropType,\n    defaultTitle: PropTypes.any,\n    hasList: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    resource: PropTypes.string,\n    save: PropTypes.func,\n    title: PropTypes.node,\n    version: PropTypes.number,\n};\nEditView.defaultProps = {\n    classes: {},\n    component: Card,\n};\nvar useStyles = makeStyles({\n    root: {},\n    main: {\n        display: 'flex',\n    },\n    noActions: {\n        marginTop: '1em',\n    },\n    card: {\n        flex: '1 1 auto',\n    },\n}, { name: 'RaEdit' });\nvar sanitizeRestProps = function (_a) {\n    var data = _a.data, hasCreate = _a.hasCreate, hasEdit = _a.hasEdit, hasList = _a.hasList, hasShow = _a.hasShow, id = _a.id, loading = _a.loading, loaded = _a.loaded, saving = _a.saving, resource = _a.resource, title = _a.title, version = _a.version, match = _a.match, location = _a.location, history = _a.history, options = _a.options, locale = _a.locale, permissions = _a.permissions, undoable = _a.undoable, successMessage = _a.successMessage, translate = _a.translate, rest = __rest(_a, [\"data\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"id\", \"loading\", \"loaded\", \"saving\", \"resource\", \"title\", \"version\", \"match\", \"location\", \"history\", \"options\", \"locale\", \"permissions\", \"undoable\", \"successMessage\", \"translate\"]);\n    return rest;\n};\nexport default Edit;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport get from 'lodash/get';\nimport pure from 'recompose/pure';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport { fieldPropTypes } from './types';\nvar TextField = function (_a) {\n    var className = _a.className, source = _a.source, _b = _a.record, record = _b === void 0 ? {} : _b, emptyText = _a.emptyText, rest = __rest(_a, [\"className\", \"source\", \"record\", \"emptyText\"]);\n    var value = get(record, source);\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeRestProps(rest)), value != null && typeof value !== 'string'\n        ? JSON.stringify(value)\n        : value || emptyText));\n};\n// wat? TypeScript looses the displayName if we don't set it explicitly\nTextField.displayName = 'TextField';\nvar EnhancedTextField = pure(TextField);\nEnhancedTextField.defaultProps = {\n    addLabel: true,\n};\nEnhancedTextField.propTypes = __assign(__assign({}, Typography.propTypes), fieldPropTypes);\nEnhancedTextField.displayName = 'EnhancedTextField';\nexport default EnhancedTextField;\n","var isMatchingReferencesError = function (matchingReferences) {\n    return matchingReferences && matchingReferences.error !== undefined;\n};\nexport var getStatusForInput = function (_a) {\n    var input = _a.input, matchingReferences = _a.matchingReferences, referenceRecord = _a.referenceRecord, _b = _a.translate, translate = _b === void 0 ? function (x) { return x; } : _b;\n    var matchingReferencesError = isMatchingReferencesError(matchingReferences)\n        ? translate(matchingReferences.error, {\n            _: matchingReferences.error,\n        })\n        : null;\n    var selectedReferenceError = input.value && !referenceRecord\n        ? translate('ra.input.references.single_missing', {\n            _: 'ra.input.references.single_missing',\n        })\n        : null;\n    return {\n        waiting: (input.value && selectedReferenceError && !matchingReferences) ||\n            (!input.value && !matchingReferences),\n        error: (input.value &&\n            selectedReferenceError &&\n            matchingReferencesError) ||\n            (!input.value && matchingReferencesError)\n            ? input.value\n                ? selectedReferenceError\n                : matchingReferencesError\n            : null,\n        warning: selectedReferenceError || matchingReferencesError,\n        choices: Array.isArray(matchingReferences)\n            ? matchingReferences\n            : [referenceRecord].filter(function (choice) { return choice; }),\n    };\n};\nexport var REFERENCES_STATUS_READY = 'REFERENCES_STATUS_READY';\nexport var REFERENCES_STATUS_INCOMPLETE = 'REFERENCES_STATUS_INCOMPLETE';\nexport var REFERENCES_STATUS_EMPTY = 'REFERENCES_STATUS_EMPTY';\nexport var getSelectedReferencesStatus = function (input, referenceRecords) {\n    return !input.value || input.value.length === referenceRecords.length\n        ? REFERENCES_STATUS_READY\n        : referenceRecords.length > 0\n            ? REFERENCES_STATUS_INCOMPLETE\n            : REFERENCES_STATUS_EMPTY;\n};\nexport var getStatusForArrayInput = function (_a) {\n    var input = _a.input, matchingReferences = _a.matchingReferences, referenceRecords = _a.referenceRecords, _b = _a.translate, translate = _b === void 0 ? function (x) { return x; } : _b;\n    // selectedReferencesDataStatus can be \"empty\" (no data was found for references from input.value)\n    // or \"incomplete\" (Not all of the reference data was found)\n    // or \"ready\" (all references data was found or there is no references from input.value)\n    var selectedReferencesDataStatus = getSelectedReferencesStatus(input, referenceRecords);\n    var matchingReferencesError = isMatchingReferencesError(matchingReferences)\n        ? translate(matchingReferences.error, {\n            _: matchingReferences.error,\n        })\n        : null;\n    return {\n        waiting: (!matchingReferences &&\n            input.value &&\n            selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY) ||\n            (!matchingReferences && !input.value),\n        error: matchingReferencesError &&\n            (!input.value ||\n                (input.value &&\n                    selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY))\n            ? translate('ra.input.references.all_missing', {\n                _: 'ra.input.references.all_missing',\n            })\n            : null,\n        warning: matchingReferencesError ||\n            (input.value &&\n                selectedReferencesDataStatus !== REFERENCES_STATUS_READY)\n            ? matchingReferencesError ||\n                translate('ra.input.references.many_missing', {\n                    _: 'ra.input.references.many_missing',\n                })\n            : null,\n        choices: Array.isArray(matchingReferences)\n            ? matchingReferences\n            : referenceRecords,\n    };\n};\n","import { useGetMany } from '../dataProvider';\n/**\n * @typedef ReferenceProps\n * @type {Object}\n * @property {boolean} loading: boolean indicating if the reference is loading\n * @property {boolean} loaded: boolean indicating if the reference has loaded\n * @property {Object} referenceRecord: the referenced record.\n */\n/**\n * Fetch reference record, and return it when available\n *\n * The reference prop sould be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { loading, loaded, referenceRecord } = useReference({\n *     id: 7,\n *     reference: 'users',\n * });\n *\n * @param {Object} option\n * @param {string} option.reference The linked resource name\n * @param {string} option.id The id of the reference\n *\n * @returns {ReferenceProps} The reference record\n */\nexport var useReference = function (_a) {\n    var reference = _a.reference, id = _a.id;\n    var _b = useGetMany(reference, [id]), data = _b.data, error = _b.error, loading = _b.loading, loaded = _b.loaded;\n    return {\n        referenceRecord: error ? undefined : data[0],\n        error: error,\n        loading: loading,\n        loaded: loaded,\n    };\n};\nexport default useReference;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { crudGetMany, crudGetMatching } from './dataActions';\nexport var CRUD_GET_MANY_ACCUMULATE = 'RA/CRUD_GET_MANY_ACCUMULATE';\nexport var crudGetManyAccumulate = function (resource, ids) { return ({\n    type: CRUD_GET_MANY_ACCUMULATE,\n    payload: { resource: resource, ids: ids },\n    meta: { accumulate: crudGetMany },\n}); };\nexport var CRUD_GET_MATCHING_ACCUMULATE = 'RA/CRUD_GET_MATCHING_ACCUMULATE';\nexport var crudGetMatchingAccumulate = function (reference, relatedTo, pagination, sort, filter) {\n    var action = crudGetMatching(reference, relatedTo, pagination, sort, filter);\n    return {\n        type: CRUD_GET_MATCHING_ACCUMULATE,\n        meta: {\n            accumulate: function () { return action; },\n            accumulateValues: function () { return true; },\n            accumulateKey: JSON.stringify(__assign({ resource: reference, relatedTo: relatedTo }, action.payload)),\n        },\n    };\n};\n","import { useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { crudGetMatchingAccumulate } from '../../actions/accumulateActions';\nimport { getPossibleReferences, getPossibleReferenceValues, getReferenceResource, } from '../../reducer';\nimport { useDeepCompareEffect } from '../../util/hooks';\nvar defaultReferenceSource = function (resource, source) {\n    return resource + \"@\" + source;\n};\nexport default (function (_a) {\n    var reference = _a.reference, _b = _a.referenceSource, referenceSource = _b === void 0 ? defaultReferenceSource : _b, resource = _a.resource, source = _a.source, filter = _a.filter, pagination = _a.pagination, sort = _a.sort, id = _a.id;\n    var dispatch = useDispatch();\n    useDeepCompareEffect(function () {\n        dispatch(crudGetMatchingAccumulate(reference, referenceSource(resource, source), pagination, sort, filter));\n    }, [\n        dispatch,\n        filter,\n        reference,\n        referenceSource,\n        resource,\n        source,\n        pagination,\n        sort,\n    ]);\n    var matchingReferences = useGetMatchingReferenceSelector({\n        referenceSource: referenceSource,\n        reference: reference,\n        resource: resource,\n        source: source,\n        id: id,\n    });\n    if (!matchingReferences) {\n        return {\n            loading: true,\n            error: null,\n            matchingReferences: null,\n        };\n    }\n    if (matchingReferences.error) {\n        return {\n            loading: false,\n            matchingReferences: null,\n            error: matchingReferences.error,\n        };\n    }\n    return {\n        loading: false,\n        error: null,\n        matchingReferences: matchingReferences,\n    };\n});\nvar useGetMatchingReferenceSelector = function (_a) {\n    var referenceSource = _a.referenceSource, reference = _a.reference, resource = _a.resource, source = _a.source, id = _a.id;\n    var getMatchingReferences = useCallback(function (state) {\n        var referenceResource = getReferenceResource(state, {\n            reference: reference,\n        });\n        var possibleValues = getPossibleReferenceValues(state, {\n            referenceSource: referenceSource,\n            resource: resource,\n            source: source,\n        });\n        return getPossibleReferences(referenceResource, possibleValues, [\n            id,\n        ]);\n    }, [referenceSource, reference, resource, source, id]);\n    return useSelector(getMatchingReferences);\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useEffect, useReducer, useCallback, useRef } from 'react';\nvar paginationReducer = function (prevState, nextState) {\n    return __assign(__assign({}, prevState), nextState);\n};\nvar defaultPagination = {\n    page: 1,\n    perPage: 25,\n};\n/**\n * Hooks to provide pagination state (apge and perPage)\n *\n * @example\n *\n * const { page, setpage, perPage, setPerPage } = usePagination(initialPerPage);\n *\n * @param {number} initialPagination the initial value per page\n * @returns {PaginationProps} The pagination props\n */\nexport default (function (initialPagination) {\n    if (initialPagination === void 0) { initialPagination = {}; }\n    var _a = useReducer(paginationReducer, __assign(__assign({}, defaultPagination), initialPagination)), pagination = _a[0], setPagination = _a[1];\n    var isFirstRender = useRef(true);\n    var setPerPage = useCallback(function (perPage) { return setPagination({ perPage: perPage }); }, []);\n    var setPage = useCallback(function (page) { return setPagination({ page: page }); }, []);\n    useEffect(function () {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        setPerPage(initialPagination.perPage || 25);\n    }, [initialPagination.perPage, setPerPage]);\n    return {\n        page: pagination.page,\n        perPage: pagination.perPage,\n        pagination: pagination,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        setPagination: setPagination,\n    };\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useReducer, useEffect, useRef, useCallback } from 'react';\nimport { SORT_ASC, SORT_DESC, } from '../reducer/admin/resource/list/queryReducer';\nvar sortReducer = function (state, action) {\n    switch (action.type) {\n        case 'SET_SORT':\n            return action.payload.sort;\n        case 'SET_SORT_FIELD': {\n            var field = action.payload.field;\n            var order = state.field === field\n                ? state.order === SORT_ASC\n                    ? SORT_DESC\n                    : SORT_ASC\n                : SORT_ASC;\n            return { field: field, order: order };\n        }\n        case 'SET_SORT_ORDER': {\n            var order = action.payload.order;\n            return __assign(__assign({}, state), { order: order });\n        }\n        default:\n            return state;\n    }\n};\nexport var defaultSort = { field: 'id', order: 'DESC' };\n/**\n * set the sort { field, order }\n * @name setSort\n * @function\n * @param {Sort} sort the sort object\n */\n/**\n * set the sort field, swap the order if the field is the same\n * @name setSortField\n * @function\n * @param {string} field the sort field\n */\n/**\n * set the sort order\n * @name setSortOrder\n * @function\n * @param {string} order the sort order eiather ASC or DESC\n */\n/**\n * @typedef SortProps\n * @type {Object}\n * @property {Object} sort: the sort object.\n * @property {string} sort.field: the sort object.\n * @property {'ASC' | 'DESC'} sort.order: the sort object.\n * @property {setSort} setSort\n * @property {setSortField} setSortField\n * @property {setSortOrder} setSortOrder\n */\n/**\n * Hooks to provide sort state\n *\n * @example\n *\n * const { sort, setSort, setSortField, setSortOrder } = useSort({\n *      field: 'name',\n *      order: 'ASC',\n * });\n *\n * setSort({ field: 'name', order: 'ASC' });\n * // is the same as\n * setSortField('name');\n * setSortOrder('ASC');\n *\n * @param {Object} initialSort\n * @param {string} initialSort.field The initial sort field\n * @param {string} initialSort.order The initial sort order\n * @returns {SortProps} The sort props\n */\nexport default (function (initialSort) {\n    if (initialSort === void 0) { initialSort = defaultSort; }\n    var _a = useReducer(sortReducer, initialSort), sort = _a[0], dispatch = _a[1];\n    var isFirstRender = useRef(true);\n    useEffect(function () {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        dispatch({ type: 'SET_SORT', payload: { sort: initialSort } });\n    }, [initialSort.field, initialSort.order]); // eslint-disable-line react-hooks/exhaustive-deps\n    return {\n        setSort: useCallback(function (sort) { return dispatch({ type: 'SET_SORT', payload: { sort: sort } }); }, [dispatch]),\n        setSortField: useCallback(function (field) {\n            return dispatch({ type: 'SET_SORT_FIELD', payload: { field: field } });\n        }, [dispatch]),\n        setSortOrder: useCallback(function (order) {\n            return dispatch({ type: 'SET_SORT_ORDER', payload: { order: order } });\n        }, [dispatch]),\n        sort: sort,\n    };\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useEffect, useRef, useState, useCallback } from 'react';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\nvar defaultFilterToQuery = function (v) { return ({ q: v }); };\nvar emptyFilter = {};\n/**\n * Hooks to provide filter state and setFilter which update the query part of the filter\n *\n * @example\n *\n * const { filter, setFilter } = useFilter({\n *      filterToQuery: v => ({ query: v }),\n *      permanentFilter: { foo: 'bar' },\n *      debounceTime: 500,\n * });\n * // filter inital value:\n * {\n *      query: '',\n *      foo: 'bar'\n * }\n *  // after updating filter\n *  setFilter('needle');\n *  {\n *      query: 'needle',\n *      foo: 'bar'\n *  }\n *\n * @param {Object} option\n * @param {Function} option.filterToQuery Function to convert the filter string to a filter object. Defaults to v => ({ q: v }).\n * @param {Object} option.permanentFilter Permanent filter to be merged with the filter string. Defaults to {}.\n * @param {number} option.debounceTime Time in ms between filter updates - used to debounce the search. Defaults to 500ms.\n *\n * @returns {UseFilterStateOptions} The filter props\n */\nexport default (function (_a) {\n    var _b = _a.filterToQuery, filterToQuery = _b === void 0 ? defaultFilterToQuery : _b, _c = _a.permanentFilter, permanentFilter = _c === void 0 ? emptyFilter : _c, _d = _a.debounceTime, debounceTime = _d === void 0 ? 500 : _d;\n    var permanentFilterProp = useRef(permanentFilter);\n    var latestValue = useRef();\n    var _e = useState(__assign(__assign({}, permanentFilter), filterToQuery(''))), filter = _e[0], setFilterValue = _e[1];\n    useEffect(function () {\n        if (!isEqual(permanentFilterProp.current, permanentFilter)) {\n            permanentFilterProp.current = permanentFilter;\n            setFilterValue(__assign(__assign({}, permanentFilter), filterToQuery(latestValue.current)));\n        }\n    }, [permanentFilter, permanentFilterProp, filterToQuery]);\n    var setFilter = useCallback(debounce(function (value) {\n        setFilterValue(__assign(__assign({}, permanentFilter), filterToQuery(value)));\n        latestValue.current = value;\n    }, debounceTime), [permanentFilter]);\n    return {\n        filter: filter,\n        setFilter: setFilter,\n    };\n});\n","import { getStatusForInput as getDataStatus } from './referenceDataStatus';\nimport useTranslate from '../../i18n/useTranslate';\nimport useReference from '../useReference';\nimport useGetMatchingReferences from './useGetMatchingReferences';\nimport usePaginationState from '../usePaginationState';\nimport { useSortState } from '..';\nimport useFilterState from '../useFilterState';\nvar defaultReferenceSource = function (resource, source) {\n    return resource + \"@\" + source;\n};\nvar defaultFilter = {};\n/**\n * A hook for choosing a reference record. Useful for foreign keys.\n *\n * This hook fetches the possible values in the reference resource\n * (using `dataProvider.getMatching()`), it returns the possible choices\n * as the `choices` attribute.\n *\n * @example\n * const {\n *      choices, // the available reference resource\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n * });\n *\n * The hook also allow to filter results. It returns a `setFilter`\n * function. It uses the value to create a filter\n * for the query - by default { q: [searchText] }. You can customize the mapping\n * searchText => searchQuery by setting a custom `filterToQuery` function option\n * You can also add a permanentFilter to further filter the result:\n *\n * @example\n * const {\n *      choices, // the available reference resource\n *      setFilter,\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n *      permanentFilter: {\n *          author: 'john'\n *      },\n *      filterToQuery: searchText => ({ title: searchText })\n * });\n */\nvar useReferenceInputController = function (_a) {\n    var input = _a.input, _b = _a.perPage, perPage = _b === void 0 ? 25 : _b, _c = _a.filter, filter = _c === void 0 ? defaultFilter : _c, reference = _a.reference, filterToQuery = _a.filterToQuery, _d = _a.referenceSource, referenceSource = _d === void 0 ? defaultReferenceSource : _d, resource = _a.resource, sortOverride = _a.sort, source = _a.source;\n    var translate = useTranslate();\n    var _e = usePaginationState({ perPage: perPage }), pagination = _e.pagination, setPagination = _e.setPagination;\n    var _f = useSortState(sortOverride), sort = _f.sort, setSort = _f.setSort;\n    var _g = useFilterState({\n        permanentFilter: filter,\n        filterToQuery: filterToQuery,\n    }), filterValue = _g.filter, setFilter = _g.setFilter;\n    var matchingReferences = useGetMatchingReferences({\n        reference: reference,\n        referenceSource: referenceSource,\n        filter: filterValue,\n        pagination: pagination,\n        sort: sort,\n        resource: resource,\n        source: source,\n        id: input.value,\n    }).matchingReferences;\n    var referenceRecord = useReference({\n        id: input.value,\n        reference: reference,\n    }).referenceRecord;\n    var dataStatus = getDataStatus({\n        input: input,\n        matchingReferences: matchingReferences,\n        referenceRecord: referenceRecord,\n        translate: translate,\n    });\n    return {\n        choices: dataStatus.choices,\n        error: dataStatus.error,\n        loading: dataStatus.waiting,\n        filter: filterValue,\n        setFilter: setFilter,\n        pagination: pagination,\n        setPagination: setPagination,\n        sort: sort,\n        setSort: setSort,\n        warning: dataStatus.warning,\n    };\n};\nexport default useReferenceInputController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport Progress from '@material-ui/core/LinearProgress';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        margin: theme.spacing(1) + \"px 0\",\n        width: theme.spacing(20) + \"px\",\n    },\n}); }, { name: 'RaLinearProgress' });\n/**\n * Progress bar formatted to replace an input or a field in a form layout\n *\n * Avoids visual jumps when replaced by value or form input\n *\n * @see ReferenceField\n * @see ReferenceInput\n *\n * @param {Object} classes CSS class names\n */\nvar LinearProgress = function (props) {\n    var classesOverride = props.classes, className = props.className, rest = __rest(props, [\"classes\", \"className\"]);\n    var classes = useStyles(props);\n    return (React.createElement(Progress, __assign({ className: classnames(classes.root, className) }, rest)));\n};\nLinearProgress.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n};\n// wat? TypeScript looses the displayName if we don't set it explicitly\nLinearProgress.displayName = 'LinearProgress';\nexport default LinearProgress;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nvar ReferenceError = function (_a) {\n    var label = _a.label, error = _a.error;\n    return (React.createElement(TextField, { error: true, disabled: true, label: label, value: error, margin: \"normal\" }));\n};\nReferenceError.propTypes = {\n    error: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n};\nexport default ReferenceError;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, cloneElement, } from 'react';\nimport PropTypes from 'prop-types';\nimport { useInput, useReferenceInputController, warning as warningLog, } from 'ra-core';\nimport sanitizeInputProps from './sanitizeRestProps';\nimport LinearProgress from '../layout/LinearProgress';\nimport Labeled from './Labeled';\nimport ReferenceError from './ReferenceError';\n/**\n * An Input component for choosing a reference record. Useful for foreign keys.\n *\n * This component fetches the possible values in the reference resource\n * (using `dataProvider.getMatching()`), then delegates rendering\n * to a subcomponent, to which it passes the possible choices\n * as the `choices` attribute.\n *\n * Use it with a selector component as child, like `<AutocompleteInput>`,\n * `<SelectInput>`, or `<RadioButtonGroupInput>`.\n *\n * @example\n * export const CommentEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <ReferenceInput label=\"Post\" source=\"post_id\" reference=\"posts\">\n *                 <AutocompleteInput optionText=\"title\" />\n *             </ReferenceInput>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * @example\n * export const CommentEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <ReferenceInput label=\"Post\" source=\"post_id\" reference=\"posts\">\n *                 <SelectInput optionText=\"title\" />\n *             </ReferenceInput>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * By default, restricts the possible values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      perPage={100}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      sort={{ field: 'title', order: 'ASC' }}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      filter={{ is_published: true }}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * The enclosed component may filter results. ReferenceInput passes a `setFilter`\n * function as prop to its child component. It uses the value to create a filter\n * for the query - by default { q: [searchText] }. You can customize the mapping\n * searchText => searchQuery by setting a custom `filterToQuery` function prop:\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      filterToQuery={searchText => ({ title: searchText })}>\n *     <AutocompleteInput optionText=\"title\" />\n * </ReferenceInput>\n */\nvar ReferenceInput = function (_a) {\n    var format = _a.format, onBlur = _a.onBlur, onChange = _a.onChange, onFocus = _a.onFocus, parse = _a.parse, validate = _a.validate, props = __rest(_a, [\"format\", \"onBlur\", \"onChange\", \"onFocus\", \"parse\", \"validate\"]);\n    var inputProps = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        validate: validate }, props));\n    return (React.createElement(ReferenceInputView, __assign({}, inputProps, props, useReferenceInputController(__assign(__assign({}, props), inputProps)))));\n};\nReferenceInput.propTypes = {\n    allowEmpty: PropTypes.bool,\n    basePath: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    filter: PropTypes.object,\n    filterToQuery: PropTypes.func.isRequired,\n    label: PropTypes.string,\n    onChange: PropTypes.func,\n    perPage: PropTypes.number,\n    record: PropTypes.object,\n    reference: PropTypes.string.isRequired,\n    resource: PropTypes.string,\n    sort: PropTypes.shape({\n        field: PropTypes.string,\n        order: PropTypes.oneOf(['ASC', 'DESC']),\n    }),\n    source: PropTypes.string,\n};\nReferenceInput.defaultProps = {\n    filter: {},\n    filterToQuery: function (searchText) { return (searchText ? { q: searchText } : {}); },\n    perPage: 25,\n    sort: { field: 'id', order: 'DESC' },\n};\nvar sanitizeRestProps = function (_a) {\n    var choices = _a.choices, className = _a.className, crudGetMatching = _a.crudGetMatching, crudGetOne = _a.crudGetOne, filter = _a.filter, filterToQuery = _a.filterToQuery, onChange = _a.onChange, perPage = _a.perPage, reference = _a.reference, referenceSource = _a.referenceSource, setFilter = _a.setFilter, setPagination = _a.setPagination, setSort = _a.setSort, sort = _a.sort, validation = _a.validation, rest = __rest(_a, [\"choices\", \"className\", \"crudGetMatching\", \"crudGetOne\", \"filter\", \"filterToQuery\", \"onChange\", \"perPage\", \"reference\", \"referenceSource\", \"setFilter\", \"setPagination\", \"setSort\", \"sort\", \"validation\"]);\n    return sanitizeInputProps(rest);\n};\nexport var ReferenceInputView = function (_a) {\n    var allowEmpty = _a.allowEmpty, basePath = _a.basePath, children = _a.children, choices = _a.choices, classes = _a.classes, className = _a.className, error = _a.error, helperText = _a.helperText, id = _a.id, input = _a.input, isRequired = _a.isRequired, loading = _a.loading, label = _a.label, meta = _a.meta, resource = _a.resource, setFilter = _a.setFilter, setPagination = _a.setPagination, setSort = _a.setSort, source = _a.source, warning = _a.warning, rest = __rest(_a, [\"allowEmpty\", \"basePath\", \"children\", \"choices\", \"classes\", \"className\", \"error\", \"helperText\", \"id\", \"input\", \"isRequired\", \"loading\", \"label\", \"meta\", \"resource\", \"setFilter\", \"setPagination\", \"setSort\", \"source\", \"warning\"]);\n    if (Children.count(children) !== 1) {\n        throw new Error('<ReferenceInput> only accepts a single child');\n    }\n    if (loading) {\n        return (React.createElement(Labeled, { id: id, label: label, source: source, resource: resource, className: className, isRequired: isRequired, meta: meta, input: input },\n            React.createElement(LinearProgress, null)));\n    }\n    // This is not a final-form error but an unrecoverable error from the\n    // useReferenceInputController hook\n    if (error) {\n        return React.createElement(ReferenceError, { label: label, error: error });\n    }\n    // When the useReferenceInputController returns a warning, it means there it\n    // had an issue trying to load the referenced record\n    // We display it by overriding the final-form meta\n    var finalMeta = warning\n        ? __assign(__assign({}, meta), { error: warning }) : meta;\n    // helperText should never be set on ReferenceInput, only in child component\n    // But in a Filter component, the child helperText have to be forced to false\n    warningLog(helperText !== undefined && helperText !== false, \"<ReferenceInput> doesn't accept a helperText prop. Set the helperText prop on the child component instead\");\n    var disabledHelperText = helperText === false ? { helperText: helperText } : {};\n    return cloneElement(children, __assign(__assign({ allowEmpty: allowEmpty,\n        classes: classes,\n        className: className,\n        input: input,\n        isRequired: isRequired,\n        label: label,\n        resource: resource, meta: finalMeta, source: source,\n        choices: choices,\n        basePath: basePath,\n        setFilter: setFilter,\n        setPagination: setPagination,\n        setSort: setSort, translateChoice: false }, disabledHelperText), sanitizeRestProps(rest)));\n};\nexport default ReferenceInput;\n","import { useCallback, isValidElement } from 'react';\nimport set from 'lodash/set';\nimport useChoices from './useChoices';\nimport { useTranslate } from '../i18n';\n/*\n * Returns helper functions for suggestions handling.\n *\n * @param allowDuplicates A boolean indicating whether a suggestion can be added several times\n * @param allowEmpty A boolean indicating whether an empty suggestion should be added\n * @param choices An array of available choices\n * @param emptyText The text to use for the empty suggestion. Defaults to an empty string\n * @param emptyValue The value to use for the empty suggestion. Defaults to `null`\n * @param limitChoicesToValue A boolean indicating whether the initial suggestions should be limited to the currently selected one(s)\n * @param matchSuggestion Optional unless `optionText` is a React element. Function which check wether a choice matches a filter. Must return a boolean.\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param selectedItem The currently selected item. May be an array of selected items\n * @param suggestionLimit The maximum number of suggestions returned, excluding the empty one if `allowEmpty` is `true`\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n * - getSuggestions: A function taking a filter value (string) and returning the matching suggestions\n */\nvar useSuggestions = function (_a) {\n    var allowDuplicates = _a.allowDuplicates, allowEmpty = _a.allowEmpty, choices = _a.choices, _b = _a.emptyText, emptyText = _b === void 0 ? '' : _b, _c = _a.emptyValue, emptyValue = _c === void 0 ? null : _c, limitChoicesToValue = _a.limitChoicesToValue, matchSuggestion = _a.matchSuggestion, optionText = _a.optionText, optionValue = _a.optionValue, selectedItem = _a.selectedItem, _d = _a.suggestionLimit, suggestionLimit = _d === void 0 ? 0 : _d, translateChoice = _a.translateChoice;\n    var translate = useTranslate();\n    var _e = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        translateChoice: translateChoice,\n    }), getChoiceText = _e.getChoiceText, getChoiceValue = _e.getChoiceValue;\n    var getSuggestions = useCallback(getSuggestionsFactory({\n        allowDuplicates: allowDuplicates,\n        allowEmpty: allowEmpty,\n        choices: choices,\n        emptyText: translate(emptyText, { _: emptyText }),\n        emptyValue: emptyValue,\n        getChoiceText: getChoiceText,\n        getChoiceValue: getChoiceValue,\n        limitChoicesToValue: limitChoicesToValue,\n        matchSuggestion: matchSuggestion,\n        optionText: optionText,\n        optionValue: optionValue,\n        selectedItem: selectedItem,\n        suggestionLimit: suggestionLimit,\n    }), [\n        allowDuplicates,\n        allowEmpty,\n        choices,\n        emptyText,\n        emptyValue,\n        getChoiceText,\n        getChoiceValue,\n        limitChoicesToValue,\n        matchSuggestion,\n        optionText,\n        optionValue,\n        selectedItem,\n        suggestionLimit,\n        translate,\n    ]);\n    return {\n        getChoiceText: getChoiceText,\n        getChoiceValue: getChoiceValue,\n        getSuggestions: getSuggestions,\n    };\n};\nexport default useSuggestions;\nvar escapeRegExp = function (value) {\n    return value ? value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') : '';\n}; // $& means the whole matched string\n/**\n * Default matcher implementation which check whether the suggestion text matches the filter.\n */\nvar defaultMatchSuggestion = function (getChoiceText) { return function (filter, suggestion) {\n    var suggestionText = getChoiceText(suggestion);\n    var isReactElement = isValidElement(suggestionText);\n    return isReactElement\n        ? false\n        : suggestionText.match(\n        // We must escape any RegExp reserved characters to avoid errors\n        // For example, the filter might contains * which must be escaped as \\*\n        new RegExp(escapeRegExp(filter), 'i'));\n}; };\n/**\n * Get the suggestions to display after applying a fuzzy search on the available choices\n *\n * @example\n *\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n */\nexport var getSuggestionsFactory = function (_a) {\n    var _b = _a.choices, choices = _b === void 0 ? [] : _b, allowDuplicates = _a.allowDuplicates, allowEmpty = _a.allowEmpty, emptyText = _a.emptyText, emptyValue = _a.emptyValue, optionText = _a.optionText, optionValue = _a.optionValue, getChoiceText = _a.getChoiceText, getChoiceValue = _a.getChoiceValue, _c = _a.limitChoicesToValue, limitChoicesToValue = _c === void 0 ? false : _c, _d = _a.matchSuggestion, matchSuggestion = _d === void 0 ? defaultMatchSuggestion(getChoiceText) : _d, selectedItem = _a.selectedItem, _e = _a.suggestionLimit, suggestionLimit = _e === void 0 ? 0 : _e;\n    return function (filter) {\n        var suggestions = [];\n        // if an item is selected and matches the filter\n        if (selectedItem &&\n            !Array.isArray(selectedItem) &&\n            matchSuggestion(filter, selectedItem)) {\n            if (limitChoicesToValue) {\n                // display only the selected item\n                suggestions = choices.filter(function (choice) {\n                    return getChoiceValue(choice) === getChoiceValue(selectedItem);\n                });\n            }\n            else if (!allowDuplicates) {\n                // ignore the filter to show more choices\n                suggestions = removeAlreadySelectedSuggestions(choices, selectedItem, getChoiceValue);\n            }\n            else {\n                suggestions = choices;\n            }\n        }\n        else {\n            suggestions = choices.filter(function (choice) { return matchSuggestion(filter, choice); });\n            if (!allowDuplicates) {\n                suggestions = removeAlreadySelectedSuggestions(suggestions, selectedItem, getChoiceValue);\n            }\n        }\n        suggestions = limitSuggestions(suggestions, suggestionLimit);\n        if (allowEmpty) {\n            suggestions = addEmptySuggestion(suggestions, {\n                optionText: optionText,\n                optionValue: optionValue,\n                emptyText: emptyText,\n                emptyValue: emptyValue,\n            });\n        }\n        return suggestions;\n    };\n};\n/**\n * @example\n *\n * removeAlreadySelectedSuggestions(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n *  [{ id: 1, name: 'foo'}]\n * );\n *\n * // Will return [{ id: 2, name: 'bar' }]\n *\n * @param suggestions List of suggestions\n * @param selectedItems List of selection\n * @param getChoiceValue Converter function from suggestion to value\n */\nvar removeAlreadySelectedSuggestions = function (suggestions, selectedItems, getChoiceValue) {\n    if (!selectedItems) {\n        return suggestions;\n    }\n    var selectedValues = Array.isArray(selectedItems)\n        ? selectedItems.map(getChoiceValue)\n        : [getChoiceValue(selectedItems)];\n    return suggestions.filter(function (suggestion) { return !selectedValues.includes(getChoiceValue(suggestion)); });\n};\n/**\n * @example\n *\n * limitSuggestions(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n *  1\n * );\n *\n * // Will return [{ id: 1, name: 'foo' }]\n *\n * @param suggestions List of suggestions\n * @param limit\n */\nvar limitSuggestions = function (suggestions, limit) {\n    if (limit === void 0) { limit = 0; }\n    return Number.isInteger(limit) && limit > 0\n        ? suggestions.slice(0, limit)\n        : suggestions;\n};\n/**\n * addEmptySuggestion(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n * );\n *\n * // Will return [{ id: null, name: '' }, { id: 1, name: 'foo' }, , { id: 2, name: 'bar' }]\n *\n * @param suggestions List of suggestions\n * @param options\n */\nvar addEmptySuggestion = function (suggestions, _a) {\n    var _b = _a.optionText, optionText = _b === void 0 ? 'name' : _b, _c = _a.optionValue, optionValue = _c === void 0 ? 'id' : _c, _d = _a.emptyText, emptyText = _d === void 0 ? '' : _d, _e = _a.emptyValue, emptyValue = _e === void 0 ? null : _e;\n    var newSuggestions = suggestions;\n    var emptySuggestion = {};\n    set(emptySuggestion, optionValue, emptyValue);\n    if (typeof optionText === 'string') {\n        set(emptySuggestion, optionText, emptyText);\n    }\n    return [].concat(emptySuggestion, newSuggestions);\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport { makeStyles, Paper, Popper } from '@material-ui/core';\nvar useStyles = makeStyles({\n    suggestionsContainer: {\n        zIndex: 2,\n    },\n    suggestionsPaper: {\n        maxHeight: '50vh',\n        overflowY: 'auto',\n    },\n}, { name: 'RaAutocompleteSuggestionList' });\nvar AutocompleteSuggestionList = function (props) {\n    var children = props.children, isOpen = props.isOpen, menuProps = props.menuProps, inputEl = props.inputEl, suggestionsContainerProps = props.suggestionsContainerProps;\n    var classes = useStyles(props);\n    return (React.createElement(Popper, __assign({ open: isOpen, anchorEl: inputEl, className: classes.suggestionsContainer, modifiers: {} }, suggestionsContainerProps),\n        React.createElement(\"div\", __assign({}, (isOpen ? menuProps : {})),\n            React.createElement(Paper, { square: true, style: {\n                    marginTop: 8,\n                    minWidth: inputEl ? inputEl.clientWidth : null,\n                }, className: classes.suggestionsPaper }, children))));\n};\nexport default AutocompleteSuggestionList;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { isValidElement, cloneElement } from 'react';\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\nimport { makeStyles, MenuItem } from '@material-ui/core';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        fontWeight: 400,\n    },\n    selected: {\n        fontWeight: 500,\n    },\n    suggestion: {\n        display: 'block',\n        fontFamily: theme.typography.fontFamily,\n    },\n    suggestionText: { fontWeight: 300 },\n    highlightedSuggestionText: { fontWeight: 500 },\n}); }, { name: 'RaAutocompleteSuggestionItem' });\nvar AutocompleteSuggestionItem = function (props) {\n    var _a;\n    var suggestion = props.suggestion, index = props.index, highlightedIndex = props.highlightedIndex, isSelected = props.isSelected, filterValue = props.filterValue, classesOverride = props.classes, getSuggestionText = props.getSuggestionText, rest = __rest(props, [\"suggestion\", \"index\", \"highlightedIndex\", \"isSelected\", \"filterValue\", \"classes\", \"getSuggestionText\"]);\n    var classes = useStyles(props);\n    var isHighlighted = highlightedIndex === index;\n    var suggestionText = getSuggestionText(suggestion);\n    var matches;\n    var parts;\n    if (!isValidElement(suggestionText)) {\n        matches = match(suggestionText, filterValue);\n        parts = parse(suggestionText, matches);\n    }\n    return (React.createElement(MenuItem, __assign({ key: suggestionText, selected: isHighlighted, className: classnames(classes.root, (_a = {},\n            _a[classes.selected] = isSelected,\n            _a)) }, rest), isValidElement(suggestionText) ? (cloneElement(suggestionText, { filterValue: filterValue })) : (React.createElement(\"div\", { className: classes.suggestion }, parts.map(function (part, index) {\n        return part.highlight ? (React.createElement(\"span\", { key: index, className: classes.highlightedSuggestionText }, part.text)) : (React.createElement(\"strong\", { key: index, className: classes.suggestionText }, part.text));\n    })))));\n};\nexport default AutocompleteSuggestionItem;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useCallback, useEffect, useRef, useState, useMemo, isValidElement, } from 'react';\nimport Downshift from 'downshift';\nimport get from 'lodash/get';\nimport { makeStyles, TextField } from '@material-ui/core';\nimport { useInput, FieldTitle, useSuggestions, warning, } from 'ra-core';\nimport InputHelperText from './InputHelperText';\nimport AutocompleteSuggestionList from './AutocompleteSuggestionList';\nimport AutocompleteSuggestionItem from './AutocompleteSuggestionItem';\n/**\n * An Input component for an autocomplete field, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property an the option text\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <AutocompleteInput source=\"gender\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <AutocompleteInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <AutocompleteInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * Note that you must also specify the `matchSuggestion` prop\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const matchSuggestion = (filterValue, choice) => choice.first_name.match(filterValue) || choice.last_name.match(filterValue);\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectInput source=\"gender\" choices={choices} optionText={<FullNameField />} matchSuggestion={matchSuggestion} />\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <AutocompleteInput source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * The object passed as `options` props is passed to the material-ui <TextField> component\n *\n * @example\n * <AutocompleteInput source=\"author_id\" options={{ color: 'secondary', InputLabelProps: { shrink: true } }} />\n */\nvar AutocompleteInput = function (props) {\n    var allowEmpty = props.allowEmpty, className = props.className, classesOverride = props.classes, _a = props.choices, choices = _a === void 0 ? [] : _a, emptyText = props.emptyText, emptyValue = props.emptyValue, format = props.format, fullWidth = props.fullWidth, helperText = props.helperText, idOverride = props.id, inputOverride = props.input, isRequiredOverride = props.isRequired, label = props.label, limitChoicesToValue = props.limitChoicesToValue, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, matchSuggestion = props.matchSuggestion, metaOverride = props.meta, onBlur = props.onBlur, onChange = props.onChange, onFocus = props.onFocus, _c = props.options, _d = _c === void 0 ? {\n        suggestionsContainerProps: undefined,\n        labelProps: undefined,\n        InputProps: undefined,\n    } : _c, suggestionsContainerProps = _d.suggestionsContainerProps, labelProps = _d.labelProps, InputProps = _d.InputProps, options = __rest(_d, [\"suggestionsContainerProps\", \"labelProps\", \"InputProps\"]), _e = props.optionText, optionText = _e === void 0 ? 'name' : _e, inputText = props.inputText, _f = props.optionValue, optionValue = _f === void 0 ? 'id' : _f, parse = props.parse, resource = props.resource, setFilter = props.setFilter, shouldRenderSuggestionsOverride = props.shouldRenderSuggestions, source = props.source, suggestionLimit = props.suggestionLimit, _g = props.translateChoice, translateChoice = _g === void 0 ? true : _g, validate = props.validate, _h = props.variant, variant = _h === void 0 ? 'filled' : _h, rest = __rest(props, [\"allowEmpty\", \"className\", \"classes\", \"choices\", \"emptyText\", \"emptyValue\", \"format\", \"fullWidth\", \"helperText\", \"id\", \"input\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"margin\", \"matchSuggestion\", \"meta\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"optionText\", \"inputText\", \"optionValue\", \"parse\", \"resource\", \"setFilter\", \"shouldRenderSuggestions\", \"source\", \"suggestionLimit\", \"translateChoice\", \"validate\", \"variant\"]);\n    if (isValidElement(optionText) && !inputText) {\n        throw new Error(\"If the optionText prop is a React element, you must also specify the inputText prop:\\n        <AutocompleteInput\\n            inputText={(record) => record.title}\\n        />\");\n    }\n    warning(isValidElement(optionText) && !matchSuggestion, \"If the optionText prop is a React element, you must also specify the matchSuggestion prop:\\n<AutocompleteInput\\n    matchSuggestion={(filterValue, suggestion) => true}\\n/>\\n        \");\n    var classes = useStyles(props);\n    var inputEl = useRef();\n    var anchorEl = useRef();\n    var _j = useInput(__assign({ format: format, id: idOverride, input: inputOverride, meta: metaOverride, onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source,\n        validate: validate }, rest)), id = _j.id, input = _j.input, isRequired = _j.isRequired, _k = _j.meta, touched = _k.touched, error = _k.error;\n    var _l = useState(''), filterValue = _l[0], setFilterValue = _l[1];\n    var getSuggestionFromValue = useCallback(function (value) { return choices.find(function (choice) { return get(choice, optionValue) === value; }); }, [choices, optionValue]);\n    var selectedItem = useMemo(function () { return getSuggestionFromValue(input.value) || null; }, [input.value, getSuggestionFromValue]);\n    var _m = useSuggestions({\n        allowEmpty: allowEmpty,\n        choices: choices,\n        emptyText: emptyText,\n        emptyValue: emptyValue,\n        limitChoicesToValue: limitChoicesToValue,\n        matchSuggestion: matchSuggestion,\n        optionText: optionText,\n        optionValue: optionValue,\n        selectedItem: selectedItem,\n        suggestionLimit: suggestionLimit,\n        translateChoice: translateChoice,\n    }), getChoiceText = _m.getChoiceText, getChoiceValue = _m.getChoiceValue, getSuggestions = _m.getSuggestions;\n    var handleFilterChange = useCallback(function (eventOrValue) {\n        var event = eventOrValue;\n        var value = event.target\n            ? event.target.value\n            : eventOrValue;\n        if (setFilter) {\n            setFilter(value);\n        }\n    }, [setFilter]);\n    // We must reset the filter every time the value changes to ensure we\n    // display at least some choices even if the input has a value.\n    // Otherwise, it would only display the currently selected one and the user\n    // would have to first clear the input before seeing any other choices\n    useEffect(function () {\n        handleFilterChange('');\n        // If we have a value, set the filter to its text so that\n        // Downshift displays it correctly\n        setFilterValue(input.value\n            ? inputText\n                ? inputText(getChoiceText(selectedItem).props.record)\n                : getChoiceText(selectedItem)\n            : '');\n    }, [\n        input.value,\n        handleFilterChange,\n        selectedItem,\n        getChoiceText,\n        inputText,\n    ]);\n    var handleChange = useCallback(function (item) {\n        input.onChange(getChoiceValue(item));\n    }, [getChoiceValue, input]);\n    // This function ensures that the suggestion list stay aligned to the\n    // input element even if it moves (because user scrolled for example)\n    var updateAnchorEl = function () {\n        if (!inputEl.current) {\n            return;\n        }\n        var inputPosition = inputEl.current.getBoundingClientRect();\n        // It works by implementing a mock element providing the only method used\n        // by the PopOver component, getBoundingClientRect, which will return a\n        // position based on the input position\n        if (!anchorEl.current) {\n            anchorEl.current = { getBoundingClientRect: function () { return inputPosition; } };\n        }\n        else {\n            var anchorPosition = anchorEl.current.getBoundingClientRect();\n            if (anchorPosition.x !== inputPosition.x ||\n                anchorPosition.y !== inputPosition.y) {\n                anchorEl.current = {\n                    getBoundingClientRect: function () { return inputPosition; },\n                };\n            }\n        }\n    };\n    var storeInputRef = function (input) {\n        inputEl.current = input;\n        updateAnchorEl();\n    };\n    var handleBlur = useCallback(function (event) {\n        handleFilterChange('');\n        // If we had a value before, set the filter back to its text so that\n        // Downshift displays it correctly\n        setFilterValue(input.value\n            ? inputText\n                ? inputText(getChoiceText(selectedItem).props.record)\n                : getChoiceText(selectedItem)\n            : '');\n        input.onBlur(event);\n    }, [getChoiceText, handleFilterChange, input, inputText, selectedItem]);\n    var handleFocus = useCallback(function (openMenu) { return function (event) {\n        openMenu(event);\n        input.onFocus(event);\n    }; }, [input]);\n    var shouldRenderSuggestions = function (val) {\n        if (shouldRenderSuggestionsOverride !== undefined &&\n            typeof shouldRenderSuggestionsOverride === 'function') {\n            return shouldRenderSuggestionsOverride(val);\n        }\n        return true;\n    };\n    return (React.createElement(Downshift, __assign({ inputValue: filterValue, onChange: handleChange, selectedItem: selectedItem, itemToString: function (item) { return getChoiceValue(item); } }, rest), function (_a) {\n        var getInputProps = _a.getInputProps, getItemProps = _a.getItemProps, getLabelProps = _a.getLabelProps, getMenuProps = _a.getMenuProps, isOpen = _a.isOpen, highlightedIndex = _a.highlightedIndex, openMenu = _a.openMenu;\n        var isMenuOpen = isOpen && shouldRenderSuggestions(filterValue);\n        var _b = getInputProps(__assign({ onBlur: handleBlur, onFocus: handleFocus(openMenu) }, InputProps)), downshiftId = _b.id, // We want to ignore this to correctly link our label and the input\n        value = _b.value, onBlur = _b.onBlur, onChange = _b.onChange, onFocus = _b.onFocus, ref = _b.ref, size = _b.size, color = _b.color, inputProps = __rest(_b, [\"id\", \"value\", \"onBlur\", \"onChange\", \"onFocus\", \"ref\", \"size\", \"color\"]);\n        var suggestions = getSuggestions(filterValue);\n        return (React.createElement(\"div\", { className: classes.container },\n            React.createElement(TextField, __assign({ id: id, name: input.name, InputProps: {\n                    inputRef: storeInputRef,\n                    onBlur: onBlur,\n                    onChange: function (event) {\n                        handleFilterChange(event);\n                        setFilterValue(event.target.value);\n                        onChange(event);\n                    },\n                    onFocus: onFocus,\n                }, error: !!(touched && error), label: React.createElement(FieldTitle, __assign({ label: label }, labelProps, { source: source, resource: resource, isRequired: typeof isRequiredOverride !==\n                        'undefined'\n                        ? isRequiredOverride\n                        : isRequired })), InputLabelProps: getLabelProps({\n                    htmlFor: id,\n                }), helperText: React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }), variant: variant, margin: margin, fullWidth: fullWidth, value: filterValue, className: className, size: size, color: color }, inputProps, options)),\n            React.createElement(AutocompleteSuggestionList, { isOpen: isMenuOpen, menuProps: getMenuProps({}, \n                // https://github.com/downshift-js/downshift/issues/235\n                { suppressRefError: true }), inputEl: inputEl.current, suggestionsContainerProps: suggestionsContainerProps }, suggestions.map(function (suggestion, index) { return (React.createElement(AutocompleteSuggestionItem, __assign({ key: getChoiceValue(suggestion), suggestion: suggestion, index: index, highlightedIndex: highlightedIndex, isSelected: input.value ===\n                    getChoiceValue(suggestion), filterValue: filterValue, getSuggestionText: getChoiceText }, getItemProps({\n                item: suggestion,\n            })))); }))));\n    }));\n};\nvar useStyles = makeStyles({\n    root: {\n        flexGrow: 1,\n        height: 250,\n    },\n    container: {\n        flexGrow: 1,\n        position: 'relative',\n    },\n}, { name: 'RaAutocompleteInput' });\nexport default AutocompleteInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport pure from 'recompose/pure';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport { fieldPropTypes } from './types';\n/**\n * @example\n * <FunctionField source=\"last_name\" label=\"Name\" render={record => `${record.first_name} ${record.last_name}`} />\n */\nvar FunctionField = function (_a) {\n    var className = _a.className, _b = _a.record, record = _b === void 0 ? {} : _b, source = _a.source, render = _a.render, rest = __rest(_a, [\"className\", \"record\", \"source\", \"render\"]);\n    return record ? (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeRestProps(rest)), render(record, source))) : null;\n};\nvar EnhancedFunctionField = pure(FunctionField);\nEnhancedFunctionField.defaultProps = {\n    addLabel: true,\n};\nEnhancedFunctionField.propTypes = __assign(__assign({}, Typography.propTypes), fieldPropTypes);\nEnhancedFunctionField.displayName = 'EnhancedFunctionField';\nexport default EnhancedFunctionField;\n","import React from 'react';\nimport { FunctionField } from 'react-admin';\n\nconst render = record => record.basket.length;\n\nconst NbItemsField = props => <FunctionField {...props} render={render} />;\n\nNbItemsField.defaultProps = {\n    label: 'Nb Items',\n    textAlign: 'right',\n};\n\nexport default NbItemsField;\n","import get from 'lodash/get';\nimport { linkToRecord } from '../../util';\n/**\n * Get the link toward the referenced resource\n *\n * @example\n *\n * const linkPath = getResourceLinkPath({\n *      basePath: '/comments',\n *      link: 'edit',\n *      reference: 'users',\n *      record: {\n *          userId: 7\n *      },\n *      resource: 'comments',\n *      source: 'userId',\n * });\n *\n * @param {Object} option\n * @param {string} option.basePath basepath to current resource\n * @param {string | false | LinkToFunctionType} option.link=\"edit\" The link toward the referenced record. 'edit', 'show' or false for no link (default to edit). Alternatively a function that returns a string\n * @param {string | false | LinkToFunctionType} [option.linkType] DEPRECATED : old name for link\n * @param {string} option.reference The linked resource name\n * @param {Object} option.record The The current resource record\n * @param {string} option.resource The current resource name\n * @param {string} option.source The key of the linked resource identifier\n *\n * @returns {string | false} The reference props\n */\nvar getResourceLinkPath = function (_a) {\n    var basePath = _a.basePath, _b = _a.link, link = _b === void 0 ? 'edit' : _b, linkType = _a.linkType, reference = _a.reference, _c = _a.record, record = _c === void 0 ? { id: '' } : _c, resource = _a.resource, source = _a.source;\n    var sourceId = get(record, source);\n    var rootPath = basePath.replace(resource, reference);\n    // Backward compatibility: keep linkType but with warning\n    var getResourceLinkPath = function (linkTo) {\n        return !linkTo\n            ? false\n            : typeof linkTo === 'function'\n                ? linkTo(record, reference)\n                : linkToRecord(rootPath, sourceId, linkTo);\n    };\n    if (linkType !== undefined) {\n        console.warn(\"The 'linkType' prop is deprecated and should be named to 'link' in <ReferenceField />\");\n    }\n    var resourceLinkPath = getResourceLinkPath(linkType !== undefined ? linkType : link);\n    return resourceLinkPath;\n};\nexport default getResourceLinkPath;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport get from 'lodash/get';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport { useReference, getResourceLinkPath, } from 'ra-core';\nimport LinearProgress from '../layout/LinearProgress';\nimport Link from '../Link';\nimport sanitizeRestProps from './sanitizeRestProps';\n/**\n * Fetch reference record, and delegate rendering to child component.\n *\n * The reference prop sould be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\">\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * By default, includes a link to the <Edit> page of the related record\n * (`/users/:userId` in the previous example).\n *\n * Set the `link` prop to \"show\" to link to the <Show> page instead.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link=\"show\">\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * You can also prevent `<ReferenceField>` from adding link to children by setting\n * `link` to false.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link={false}>\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * Alternatively, you can also pass a custom function to `link`. It must take reference and record\n * as arguments and return a string\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link={(reference, record) => \"/path/to/${reference}/${record}\"}>\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * In previous versions of React-Admin, the prop `linkType` was used. It is now deprecated and replaced with `link`. However\n * backward-compatibility is still kept\n */\nvar ReferenceField = function (_a) {\n    var children = _a.children, record = _a.record, source = _a.source, props = __rest(_a, [\"children\", \"record\", \"source\"]);\n    if (React.Children.count(children) !== 1) {\n        throw new Error('<ReferenceField> only accepts a single child');\n    }\n    var basePath = props.basePath, resource = props.resource;\n    var resourceLinkPath = getResourceLinkPath(__assign(__assign({}, props), { resource: resource,\n        record: record,\n        source: source,\n        basePath: basePath }));\n    return (React.createElement(PureReferenceFieldView, __assign({}, props, useReference({\n        reference: props.reference,\n        id: get(record, source),\n    }), { resourceLinkPath: resourceLinkPath }), children));\n};\nReferenceField.propTypes = {\n    addLabel: PropTypes.bool,\n    basePath: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    cellClassName: PropTypes.string,\n    headerClassName: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    reference: PropTypes.string.isRequired,\n    resource: PropTypes.string,\n    sortBy: PropTypes.string,\n    source: PropTypes.string.isRequired,\n    translateChoice: PropTypes.func,\n    linkType: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    link: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]).isRequired,\n};\nReferenceField.defaultProps = {\n    addLabel: true,\n    classes: {},\n    link: 'edit',\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    link: {\n        color: theme.palette.primary.main,\n    },\n}); }, { name: 'RaReferenceField' });\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\nexport var ReferenceFieldView = function (props) {\n    var basePath = props.basePath, children = props.children, className = props.className, classesOverride = props.classes, error = props.error, loaded = props.loaded, loading = props.loading, record = props.record, reference = props.reference, referenceRecord = props.referenceRecord, resource = props.resource, resourceLinkPath = props.resourceLinkPath, source = props.source, _a = props.translateChoice, translateChoice = _a === void 0 ? false : _a, rest = __rest(props, [\"basePath\", \"children\", \"className\", \"classes\", \"error\", \"loaded\", \"loading\", \"record\", \"reference\", \"referenceRecord\", \"resource\", \"resourceLinkPath\", \"source\", \"translateChoice\"]);\n    var classes = useStyles(props);\n    if (!loaded) {\n        return React.createElement(LinearProgress, null);\n    }\n    if (error) {\n        return (React.createElement(ErrorIcon, { \"aria-errormessage\": error.message ? error.message : error, color: \"error\", fontSize: \"small\" }));\n    }\n    if (!referenceRecord) {\n        return null;\n    }\n    if (resourceLinkPath) {\n        return (React.createElement(Link, { to: resourceLinkPath, className: className, onClick: stopPropagation }, cloneElement(Children.only(children), __assign({ className: classnames(children.props.className, classes.link // force color override for Typography components\n            ), record: referenceRecord, resource: reference, basePath: basePath,\n            translateChoice: translateChoice }, sanitizeRestProps(rest)))));\n    }\n    return cloneElement(Children.only(children), __assign({ record: referenceRecord, resource: reference, basePath: basePath,\n        translateChoice: translateChoice }, sanitizeRestProps(rest)));\n};\nReferenceFieldView.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    className: PropTypes.string,\n    classes: PropTypes.any,\n    loading: PropTypes.bool,\n    record: PropTypes.any,\n    reference: PropTypes.string,\n    referenceRecord: PropTypes.any,\n    resource: PropTypes.string,\n    resourceLinkPath: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.oneOf([false]),\n    ]),\n    source: PropTypes.string,\n    translateChoice: PropTypes.bool,\n};\nvar PureReferenceFieldView = memo(ReferenceFieldView);\nexport default ReferenceField;\n","import React, { FC } from 'react';\nimport { ReferenceField } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { FieldProps } from '../types';\n\nconst CustomerReferenceField: FC<FieldProps> = props => (\n    <ReferenceField source=\"customer_id\" reference=\"customers\" {...props}>\n        <FullNameField />\n    </ReferenceField>\n);\n\nCustomerReferenceField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerReferenceField;\n","// in src/comments.js\nimport React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'rows',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'rows',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\nconst MobileGrid = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                                className={classes.total}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import React, { Fragment } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    EditButton,\n    Filter,\n    List,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    SearchInput,\n    TextField,\n    TextInput,\n} from 'react-admin';\nimport {\n    makeStyles,\n    useMediaQuery,\n    Divider,\n    Tabs,\n    Tab,\n} from '@material-ui/core';\n\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport MobileGrid from './MobileGrid';\n\nconst OrderFilter = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput source=\"customer_id\" reference=\"customers\">\n            <AutocompleteInput\n                optionText={choice =>\n                    choice.first_name && choice.last_name\n                        ? `${choice.first_name} ${choice.last_name}`\n                        : ''\n                }\n            />\n        </ReferenceInput>\n        <DateInput source=\"date_gte\" />\n        <DateInput source=\"date_lte\" />\n        <TextInput source=\"total_gte\" />\n        <NullableBooleanInput source=\"returned\" />\n    </Filter>\n);\n\nconst useDatagridStyles = makeStyles({\n    total: { fontWeight: 'bold' },\n});\n\nclass TabbedDatagrid extends React.Component {\n    tabs = [\n        { id: 'ordered', name: 'ordered' },\n        { id: 'delivered', name: 'delivered' },\n        { id: 'cancelled', name: 'cancelled' },\n    ];\n\n    state = { ordered: [], delivered: [], cancelled: [] };\n\n    static getDerivedStateFromProps(props, state) {\n        if (props.ids !== state[props.filterValues.status]) {\n            return { ...state, [props.filterValues.status]: props.ids };\n        }\n        return null;\n    }\n\n    handleChange = (event, value) => {\n        const { filterValues, setFilters } = this.props;\n        setFilters({ ...filterValues, status: value });\n    };\n\n    render() {\n        const { isXSmall, classes, filterValues, ...props } = this.props;\n\n        return (\n            <Fragment>\n                <Tabs\n                    variant=\"fullWidth\"\n                    centered\n                    value={filterValues.status}\n                    indicatorColor=\"primary\"\n                    onChange={this.handleChange}\n                >\n                    {this.tabs.map(choice => (\n                        <Tab\n                            key={choice.id}\n                            label={choice.name}\n                            value={choice.id}\n                        />\n                    ))}\n                </Tabs>\n                <Divider />\n                {isXSmall ? (\n                    <MobileGrid\n                        {...props}\n                        ids={this.state[filterValues.status]}\n                    />\n                ) : (\n                    <div>\n                        {filterValues.status === 'ordered' && (\n                            <Datagrid\n                                {...props}\n                                ids={this.state.ordered}\n                                optimized\n                                rowClick=\"edit\"\n                            >\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                            </Datagrid>\n                        )}\n                        {filterValues.status === 'delivered' && (\n                            <Datagrid {...props} ids={this.state.delivered}>\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                                <EditButton />\n                            </Datagrid>\n                        )}\n                        {filterValues.status === 'cancelled' && (\n                            <Datagrid {...props} ids={this.state.cancelled}>\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                                <EditButton />\n                            </Datagrid>\n                        )}\n                    </div>\n                )}\n            </Fragment>\n        );\n    }\n}\n\nconst StyledTabbedDatagrid = props => {\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery(theme => theme.breakpoints.down('xs'));\n    return <TabbedDatagrid classes={classes} isXSmall={isXSmall} {...props} />;\n};\n\nconst OrderList = ({ classes, ...props }) => (\n    <List\n        {...props}\n        filterDefaultValues={{ status: 'ordered' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        filters={<OrderFilter />}\n    >\n        <StyledTabbedDatagrid />\n    </List>\n);\n\nexport default OrderList;\n","import PropTypes from 'prop-types';\n/**\n * Common PropTypes for all react-admin inputs\n */\nvar InputPropTypes = {\n    label: PropTypes.string,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n};\nexport default InputPropTypes;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Switch from '@material-ui/core/Switch';\nimport { FieldTitle, useInput } from 'ra-core';\nimport sanitizeRestProps from './sanitizeRestProps';\nimport InputHelperText from './InputHelperText';\nimport InputPropTypes from './InputPropTypes';\nvar BooleanInput = function (_a) {\n    var format = _a.format, label = _a.label, fullWidth = _a.fullWidth, helperText = _a.helperText, onBlur = _a.onBlur, onChange = _a.onChange, onFocus = _a.onFocus, options = _a.options, disabled = _a.disabled, parse = _a.parse, resource = _a.resource, source = _a.source, validate = _a.validate, rest = __rest(_a, [\"format\", \"label\", \"fullWidth\", \"helperText\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"disabled\", \"parse\", \"resource\", \"source\", \"validate\"]);\n    var _b = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source, type: 'checkbox', validate: validate }, rest)), id = _b.id, _c = _b.input, finalFormOnChange = _c.onChange, type = _c.type, value = _c.value, inputProps = __rest(_c, [\"onChange\", \"type\", \"value\"]), isRequired = _b.isRequired, _d = _b.meta, error = _d.error, touched = _d.touched;\n    var handleChange = useCallback(function (event, value) {\n        finalFormOnChange(value);\n    }, [finalFormOnChange]);\n    return (React.createElement(FormGroup, __assign({}, sanitizeRestProps(rest)),\n        React.createElement(FormControlLabel, { control: React.createElement(Switch, __assign({ id: id, color: \"primary\", onChange: handleChange }, inputProps, options, { disabled: disabled })), label: React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }) }),\n        React.createElement(FormHelperText, { error: !!error },\n            React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }))));\n};\nBooleanInput.propTypes = __assign(__assign({}, InputPropTypes), { options: PropTypes.shape(Switch.propTypes), disabled: PropTypes.bool });\nBooleanInput.defaultProps = {\n    options: {},\n};\nexport default BooleanInput;\n","import React, { FC } from 'react';\nimport classnames from 'classnames';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Link, useTranslate, useQueryWithStore } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, AppState, Order, Product } from '../types';\n\nconst useStyles = makeStyles({\n    container: { minWidth: '35em', marginLeft: '1em' },\n    rightAlignedCell: { textAlign: 'right' },\n    boldCell: { fontWeight: 'bold' },\n});\n\nconst Basket: FC<FieldProps<Order>> = ({ record }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const { loaded, data: products } = useQueryWithStore(\n        {\n            type: 'getMany',\n            resource: 'products',\n            payload: {\n                ids: record ? record.basket.map(item => item.product_id) : [],\n            },\n        },\n        {},\n        (state: AppState) => {\n            const productIds = record\n                ? record.basket.map(item => item.product_id)\n                : [];\n\n            return productIds\n                .map<Product>(\n                    (productId: string) =>\n                        state.admin.resources.products.data[\n                            productId\n                        ] as Product\n                )\n                .filter(r => typeof r !== 'undefined')\n                .reduce(\n                    (prev, next) => {\n                        prev[next.id] = next;\n                        return prev;\n                    },\n                    {} as { [key: string]: Product }\n                );\n        }\n    );\n\n    if (!loaded || !record) return null;\n\n    return (\n        <Paper className={classes.container} elevation={2}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.reference'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.unit_price'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.quantity'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {record.basket.map(\n                        (item: any) =>\n                            products[item.product_id] && (\n                                <TableRow key={item.product_id}>\n                                    <TableCell>\n                                        <Link\n                                            to={`/products/${item.product_id}`}\n                                        >\n                                            {\n                                                products[item.product_id]\n                                                    .reference\n                                            }\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {products[\n                                            item.product_id\n                                        ].price.toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {item.quantity}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {(\n                                            products[item.product_id].price *\n                                            item.quantity\n                                        ).toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                </TableRow>\n                            )\n                    )}\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate('resources.commands.fields.basket.sum')}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.total_ex_taxes.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.delivery'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.delivery_fees.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.tax_rate'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.tax_rate.toLocaleString(undefined, {\n                                style: 'percent',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell className={classes.boldCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                        <TableCell\n                            className={classnames(\n                                classes.boldCell,\n                                classes.rightAlignedCell\n                            )}\n                        >\n                            {record.total.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n        </Paper>\n    );\n};\n\nexport default Basket;\n","import React from 'react';\nimport {\n    AutocompleteInput,\n    BooleanInput,\n    DateInput,\n    Edit,\n    ReferenceInput,\n    SelectInput,\n    SimpleForm,\n    useTranslate,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Basket from './Basket';\n\nconst OrderTitle = ({ record }) => {\n    const translate = useTranslate();\n    return (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    );\n};\n\nconst useEditStyles = makeStyles({\n    root: { alignItems: 'flex-start' },\n});\n\nconst OrderEdit = props => {\n    const classes = useEditStyles();\n    return (\n        <Edit\n            title={<OrderTitle />}\n            aside={<Basket />}\n            classes={classes}\n            {...props}\n        >\n            <SimpleForm>\n                <DateInput source=\"date\" />\n                <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                    <AutocompleteInput\n                        optionText={choice =>\n                            `${choice.first_name} ${choice.last_name}`\n                        }\n                    />\n                </ReferenceInput>\n                <SelectInput\n                    source=\"status\"\n                    choices={[\n                        { id: 'delivered', name: 'delivered' },\n                        { id: 'ordered', name: 'ordered' },\n                        { id: 'cancelled', name: 'cancelled' },\n                        {\n                            id: 'unknown',\n                            name: 'unknown',\n                            disabled: true,\n                        },\n                    ]}\n                />\n                <BooleanInput source=\"returned\" />\n            </SimpleForm>\n        </Edit>\n    );\n};\n\nexport default OrderEdit;\n","import OrderIcon from '@material-ui/icons/AttachMoney';\n\nimport OrderList from './OrderList';\nimport OrderEdit from './OrderEdit';\n\nexport default {\n    list: OrderList,\n    edit: OrderEdit,\n    icon: OrderIcon,\n};\n","import { UPDATE_MANY } from '../../core';\nexport var crudUpdateMany = function (resource, ids, data, basePath, refresh) {\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_UPDATE_MANY,\n        payload: { ids: ids, data: data },\n        meta: {\n            resource: resource,\n            fetch: UPDATE_MANY,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.updated',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: ids.length,\n                    },\n                },\n                basePath: basePath,\n                refresh: refresh,\n                unselectAll: true,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_UPDATE_MANY = 'RA/CRUD_UPDATE_MANY';\nexport var CRUD_UPDATE_MANY_LOADING = 'RA/CRUD_UPDATE_MANY_LOADING';\nexport var CRUD_UPDATE_MANY_FAILURE = 'RA/CRUD_UPDATE_MANY_FAILURE';\nexport var CRUD_UPDATE_MANY_SUCCESS = 'RA/CRUD_UPDATE_MANY_SUCCESS';\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n} from 'react-admin';\n\nconst BulkAcceptButton = ({ selectedIds }) => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [approve, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'accepted' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.accept\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp />\n        </Button>\n    );\n};\n\nBulkAcceptButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkAcceptButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n} from 'react-admin';\n\nconst BulkRejectButton = ({ selectedIds }) => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [reject, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'rejected' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.reject\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown />\n        </Button>\n    );\n};\n\nBulkRejectButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkRejectButton;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport {\n    linkToRecord,\n    ReferenceField,\n    FunctionField,\n    TextField,\n} from 'react-admin';\n\nimport AvatarField from '../visitors/AvatarField';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100vw',\n    },\n    link: {\n        textDecoration: 'none',\n        color: 'inherit',\n    },\n    inline: {\n        display: 'inline',\n    },\n});\n\nconst ReviewMobileList = ({ basePath, data, ids, loading, total }) => {\n    const classes = useStyles();\n    return (\n        (loading || total > 0) && (\n            <List className={classes.root}>\n                {ids.map(id => (\n                    <Link\n                        to={linkToRecord(basePath, id)}\n                        className={classes.link}\n                        key={id}\n                    >\n                        <ListItem button>\n                            <ListItemAvatar>\n                                <ReferenceField\n                                    record={data[id]}\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    basePath={basePath}\n                                    linkType={false}\n                                >\n                                    <AvatarField size={40} />\n                                </ReferenceField>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <Fragment>\n                                        <ReferenceField\n                                            record={data[id]}\n                                            source=\"customer_id\"\n                                            reference=\"customers\"\n                                            basePath={basePath}\n                                            linkType={false}\n                                        >\n                                            <FunctionField\n                                                render={record =>\n                                                    `${record.first_name} ${\n                                                        record.last_name\n                                                    }`\n                                                }\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>{' '}\n                                        on{' '}\n                                        <ReferenceField\n                                            record={data[id]}\n                                            source=\"product_id\"\n                                            reference=\"products\"\n                                            basePath={basePath}\n                                            linkType={false}\n                                        >\n                                            <TextField\n                                                source=\"reference\"\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>\n                                    </Fragment>\n                                }\n                                secondary={data[id].comment}\n                                secondaryTypographyProps={{ noWrap: true }}\n                            />\n                        </ListItem>\n                    </Link>\n                ))}\n            </List>\n        )\n    );\n};\n\nReviewMobileList.propTypes = {\n    basePath: PropTypes.string,\n    data: PropTypes.object,\n    hasBulkActions: PropTypes.bool.isRequired,\n    ids: PropTypes.array,\n    leftAvatar: PropTypes.func,\n    leftIcon: PropTypes.func,\n    linkType: PropTypes.oneOfType([PropTypes.string, PropTypes.bool])\n        .isRequired,\n    onToggleItem: PropTypes.func,\n    primaryText: PropTypes.func,\n    rightAvatar: PropTypes.func,\n    rightIcon: PropTypes.func,\n    secondaryText: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n    tertiaryText: PropTypes.func,\n};\n\nReviewMobileList.defaultProps = {\n    linkType: 'edit',\n    hasBulkActions: false,\n    selectedIds: [],\n};\n\nexport default ReviewMobileList;\n","import React from 'react';\nimport { ReferenceField, TextField } from 'react-admin';\n\nconst ProductReferenceField = props => (\n    <ReferenceField\n        label=\"Product\"\n        source=\"product_id\"\n        reference=\"products\"\n        {...props}\n    >\n        <TextField source=\"reference\" />\n    </ReferenceField>\n);\n\nProductReferenceField.defaultProps = {\n    source: 'product_id',\n    addLabel: true,\n};\n\nexport default ProductReferenceField;\n","import React, { FC } from 'react';\nimport Icon from '@material-ui/icons/Stars';\nimport { makeStyles } from '@material-ui/core';\n\nimport { FieldProps } from '../types';\n\nconst useStyles = makeStyles({\n    root: {\n        opacity: 0.87,\n        whiteSpace: 'nowrap',\n    },\n    large: {\n        width: 20,\n        height: 20,\n    },\n    small: {\n        width: 15,\n        haight: 15,\n    },\n});\n\ninterface OwnProps {\n    size: 'large' | 'small';\n}\n\nconst StarRatingField: FC<FieldProps & OwnProps> = ({\n    record,\n    size = 'large',\n}) => {\n    const classes = useStyles();\n    return record ? (\n        <span>\n            {Array(record.rating)\n                .fill(true)\n                .map((_, i) => (\n                    <Icon\n                        key={i}\n                        className={\n                            size === 'large' ? classes.large : classes.small\n                        }\n                    />\n                ))}\n        </span>\n    ) : null;\n};\n\nStarRatingField.defaultProps = {\n    label: 'resources.reviews.fields.rating',\n    source: 'rating',\n    addLabel: true,\n};\n\nexport default StarRatingField;\n","import green from '@material-ui/core/colors/green';\nimport orange from '@material-ui/core/colors/orange';\nimport red from '@material-ui/core/colors/red';\n\nconst rowStyle = (selectedRow, theme) => (record, index, defaultStyle = {}) => {\n    let style = defaultStyle;\n    if (selectedRow === record.id) {\n        style = {\n            ...style,\n            backgroundColor: theme.palette.action.selected,\n        };\n    }\n    if (record.status === 'accepted')\n        return {\n            ...style,\n            borderLeftColor: green[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'pending')\n        return {\n            ...style,\n            borderLeftColor: orange[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'rejected')\n        return {\n            ...style,\n            borderLeftColor: red[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    return style;\n};\n\nexport default rowStyle;\n","import React from 'react';\nimport { Datagrid, DateField, TextField } from 'react-admin';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\n\nimport rowStyle from './rowStyle';\n\nconst useListStyles = makeStyles({\n    headerRow: {\n        borderLeftColor: 'white',\n        borderLeftWidth: 5,\n        borderLeftStyle: 'solid',\n    },\n    headerCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    rowCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    comment: {\n        maxWidth: '18em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n});\n\nconst ReviewListDesktop = ({ selectedRow, ...props }) => {\n    const classes = useListStyles();\n    const theme = useTheme();\n    return (\n        <Datagrid\n            rowClick=\"edit\"\n            rowStyle={rowStyle(selectedRow, theme)}\n            classes={{\n                headerRow: classes.headerRow,\n                headerCell: classes.headerCell,\n                rowCell: classes.rowCell,\n            }}\n            optimized\n            {...props}\n        >\n            <DateField source=\"date\" />\n            <CustomerReferenceField link={false} />\n            <ProductReferenceField link={false} />\n            <StarRatingField size=\"small\" />\n            <TextField source=\"comment\" cellClassName={classes.comment} />\n            <TextField source=\"status\" />\n        </Datagrid>\n    );\n};\n\nexport default ReviewListDesktop;\n","import React from 'react';\nimport {\n    AutocompleteInput,\n    DateInput,\n    Filter,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useFilterStyles = makeStyles({\n    status: { width: 150 },\n});\n\nconst ReviewFilter = props => {\n    const classes = useFilterStyles();\n    return (\n        <Filter {...props}>\n            <SearchInput source=\"q\" alwaysOn />\n            <SelectInput\n                source=\"status\"\n                choices={[\n                    { id: 'accepted', name: 'Accepted' },\n                    { id: 'pending', name: 'Pending' },\n                    { id: 'rejected', name: 'Rejected' },\n                ]}\n                className={classes.status}\n            />\n            <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                <AutocompleteInput\n                    optionText={choice =>\n                        `${choice.first_name} ${choice.last_name}`\n                    }\n                />\n            </ReferenceInput>\n            <ReferenceInput source=\"product_id\" reference=\"products\">\n                <AutocompleteInput optionText=\"reference\" />\n            </ReferenceInput>\n            <DateInput source=\"date_gte\" />\n            <DateInput source=\"date_lte\" />\n        </Filter>\n    );\n};\n\nexport default ReviewFilter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\n\n/**\n * This custom button demonstrate using useUpdate to update data\n */\nconst AcceptButton = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [approve, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'accepted' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'green' }}\n            />\n            {translate('resources.reviews.action.accept')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nAcceptButton.propTypes = {\n    record: PropTypes.object,\n};\n\nexport default AcceptButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\n\n/**\n * This custom button demonstrate using a custom action to update data\n */\nconst RejectButton = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [reject, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'rejected' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.rejected_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.rejected_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'red' }}\n            />\n            {translate('resources.reviews.action.reject')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nRejectButton.propTypes = {\n    record: PropTypes.object,\n};\n\nexport default RejectButton;\n","import React, { Fragment } from 'react';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { SaveButton, DeleteButton } from 'react-admin';\nimport AcceptButton from './AcceptButton';\nimport RejectButton from './RejectButton';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}));\n\nconst ReviewEditToolbar = ({\n    basePath,\n    handleSubmitWithRedirect,\n    invalid,\n    record,\n    resource,\n    saving,\n}) => {\n    const classes = useStyles();\n    return (\n        <MuiToolbar className={classes.root}>\n            {record.status === 'pending' ? (\n                <Fragment>\n                    <AcceptButton record={record} />\n                    <RejectButton record={record} />\n                </Fragment>\n            ) : (\n                <Fragment>\n                    <SaveButton\n                        handleSubmitWithRedirect={handleSubmitWithRedirect}\n                        invalid={invalid}\n                        saving={saving}\n                        redirect=\"list\"\n                        submitOnEnter={true}\n                    />\n                    <DeleteButton\n                        basePath={basePath}\n                        record={record}\n                        resource={resource}\n                    />\n                </Fragment>\n            )}\n        </MuiToolbar>\n    );\n};\n\nexport default ReviewEditToolbar;\n","import React from 'react';\nimport {\n    useEditController,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    DateField,\n} from 'react-admin';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport ReviewEditToolbar from './ReviewEditToolbar';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: 40,\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n}));\n\nconst ReviewEdit = ({ onCancel, ...props }) => {\n    const classes = useStyles();\n    const controllerProps = useEditController(props);\n    const translate = useTranslate();\n    if (!controllerProps.record) {\n        return null;\n    }\n    return (\n        <div className={classes.root}>\n            <div className={classes.title}>\n                <Typography variant=\"h6\">\n                    {translate('resources.reviews.detail')}\n                </Typography>\n                <IconButton onClick={onCancel}>\n                    <CloseIcon />\n                </IconButton>\n            </div>\n            <SimpleForm\n                className={classes.form}\n                basePath={controllerProps.basePath}\n                record={controllerProps.record}\n                save={controllerProps.save}\n                version={controllerProps.version}\n                redirect=\"list\"\n                resource=\"reviews\"\n                toolbar={<ReviewEditToolbar />}\n            >\n                <CustomerReferenceField formClassName={classes.inlineField} />\n\n                <ProductReferenceField formClassName={classes.inlineField} />\n                <DateField source=\"date\" formClassName={classes.inlineField} />\n                <StarRatingField formClassName={classes.inlineField} />\n                <TextInput source=\"comment\" rowsMax={15} multiline fullWidth />\n            </SimpleForm>\n        </div>\n    );\n};\n\nexport default ReviewEdit;\n","import React, { Fragment, useCallback } from 'react';\nimport classnames from 'classnames';\nimport { BulkDeleteButton, List } from 'react-admin';\nimport { Route, useHistory } from 'react-router-dom';\nimport { Drawer, useMediaQuery, makeStyles } from '@material-ui/core';\nimport BulkAcceptButton from './BulkAcceptButton';\nimport BulkRejectButton from './BulkRejectButton';\nimport ReviewListMobile from './ReviewListMobile';\nimport ReviewListDesktop from './ReviewListDesktop';\nimport ReviewFilter from './ReviewFilter';\nimport ReviewEdit from './ReviewEdit';\n\nconst ReviewsBulkActionButtons = props => (\n    <Fragment>\n        <BulkAcceptButton {...props} />\n        <BulkRejectButton {...props} />\n        <BulkDeleteButton {...props} />\n    </Fragment>\n);\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n    },\n    list: {\n        flexGrow: 1,\n        transition: theme.transitions.create(['all'], {\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginRight: 0,\n    },\n    listWithDrawer: {\n        marginRight: 400,\n    },\n    drawerPaper: {\n        zIndex: 100,\n    },\n}));\n\nconst ReviewList = props => {\n    const classes = useStyles();\n    const isXSmall = useMediaQuery(theme => theme.breakpoints.down('xs'));\n    const history = useHistory();\n\n    const handleClose = useCallback(() => {\n        history.push('/reviews');\n    }, [history]);\n\n    return (\n        <div className={classes.root}>\n            <Route path=\"/reviews/:id\">\n                {({ match }) => {\n                    const isMatch = !!(\n                        match &&\n                        match.params &&\n                        match.params.id !== 'create'\n                    );\n\n                    return (\n                        <Fragment>\n                            <List\n                                {...props}\n                                className={classnames(classes.list, {\n                                    [classes.listWithDrawer]: isMatch,\n                                })}\n                                bulkActionButtons={<ReviewsBulkActionButtons />}\n                                filters={<ReviewFilter />}\n                                perPage={25}\n                                sort={{ field: 'date', order: 'DESC' }}\n                            >\n                                {isXSmall ? (\n                                    <ReviewListMobile />\n                                ) : (\n                                    <ReviewListDesktop\n                                        selectedRow={\n                                            isMatch &&\n                                            parseInt(match.params.id, 10)\n                                        }\n                                    />\n                                )}\n                            </List>\n                            <Drawer\n                                variant=\"persistent\"\n                                open={isMatch}\n                                anchor=\"right\"\n                                onClose={handleClose}\n                                classes={{\n                                    paper: classes.drawerPaper,\n                                }}\n                            >\n                                {/* To avoid any errors if the route does not match, we don't render at all the component in this case */}\n                                {isMatch ? (\n                                    <ReviewEdit\n                                        id={match.params.id}\n                                        onCancel={handleClose}\n                                        {...props}\n                                    />\n                                ) : null}\n                            </Drawer>\n                        </Fragment>\n                    );\n                }}\n            </Route>\n        </div>\n    );\n};\n\nexport default ReviewList;\n","import ReviewIcon from '@material-ui/icons/Comment';\nimport ReviewList from './ReviewList';\n\nexport default {\n    icon: ReviewIcon,\n    list: ReviewList,\n};\n","import React from 'react';\nimport {\n    NumberField,\n    TextField,\n    DateField,\n    useTranslate,\n    useGetList,\n    linkToRecord,\n} from 'react-admin';\nimport PropTypes from 'prop-types';\nimport {\n    Tooltip,\n    Typography,\n    Card,\n    CardContent,\n    CardHeader,\n    Avatar,\n    IconButton,\n    Box,\n} from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport ContentCreate from '@material-ui/icons/Create';\nimport order from '../orders';\nimport review from '../reviews';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\n\nconst useAsideStyles = makeStyles(theme => ({\n    root: {\n        width: 400,\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst Aside = ({ record, basePath }) => {\n    const classes = useAsideStyles();\n    return (\n        <div className={classes.root}>\n            {record && <EventList record={record} basePath={basePath} />}\n        </div>\n    );\n};\n\nAside.propTypes = {\n    record: PropTypes.any,\n    basePath: PropTypes.string,\n};\n\nconst EventList = ({ record, basePath }) => {\n    const translate = useTranslate();\n    const { data: orders, ids: orderIds } = useGetList(\n        'commands',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const { data: reviews, ids: reviewIds } = useGetList(\n        'reviews',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const events = mixOrdersAndReviews(orders, orderIds, reviews, reviewIds);\n\n    return (\n        <>\n            <Box m=\"0 0 1em 1em\">\n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate(\n                                'resources.customers.fieldGroups.history'\n                            )}\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.first_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"first_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {orderIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <order.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.commands.amount',\n                                                    {\n                                                        smart_count:\n                                                            orderIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.last_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"last_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {reviewIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <review.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.reviews.amount',\n                                                    {\n                                                        smart_count:\n                                                            reviewIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                        </Box>\n                    </CardContent>\n                </Card>\n            </Box>\n\n            {events.map(event =>\n                event.type === 'order' ? (\n                    <Order\n                        record={event.data}\n                        key={`event_${event.data.id}`}\n                        basePath={basePath}\n                    />\n                ) : (\n                    <Review\n                        record={event.data}\n                        key={`review_${event.data.id}`}\n                        basePath={basePath}\n                    />\n                )\n            )}\n        </>\n    );\n};\n\nconst mixOrdersAndReviews = (orders, orderIds, reviews, reviewIds) => {\n    const eventsFromOrders = orderIds.map(id => ({\n        type: 'order',\n        date: orders[id].date,\n        data: orders[id],\n    }));\n    const eventsFromReviews = reviewIds.map(id => ({\n        type: 'review',\n        date: reviews[id].date,\n        data: reviews[id],\n    }));\n    const events = eventsFromOrders.concat(eventsFromReviews);\n    events.sort((e1, e2) => new Date(e1.date) - new Date(e2.date));\n    return events;\n};\n\nconst useEventStyles = makeStyles({\n    card: {\n        margin: '0 0 1em 1em',\n    },\n    cardHeader: {\n        alignItems: 'flex-start',\n    },\n    clamp: {\n        display: '-webkit-box',\n        '-webkit-line-clamp': 3,\n        '-webkit-box-orient': 'vertical',\n        overflow: 'hidden',\n    },\n});\n\nconst Order = ({ record, basePath }) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n    return (\n        <Card className={classes.card}>\n            <CardHeader\n                className={classes.cardHeader}\n                avatar={\n                    <Avatar\n                        aria-label={translate('resources.commands.name', {\n                            smart_count: 1,\n                        })}\n                        className={classes.avatar}\n                    >\n                        <order.icon />\n                    </Avatar>\n                }\n                action={<EditButton record={record} basePath=\"/commands\" />}\n                title={`${translate('resources.commands.name', {\n                    smart_count: 1,\n                })} #${record.reference}`}\n                subheader={\n                    <>\n                        <Typography variant=\"body2\">{record.date}</Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                            {translate('resources.commands.nb_items', {\n                                smart_count: record.basket.length,\n                                _: '1 item |||| %{smart_count} items',\n                            })}\n                            &nbsp;-&nbsp;\n                            <NumberField\n                                source=\"total\"\n                                options={{\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }}\n                                record={record}\n                                basePath={basePath}\n                            />\n                            &nbsp;-&nbsp;\n                            <TextField\n                                source=\"status\"\n                                record={record}\n                                basePath={basePath}\n                            />\n                        </Typography>\n                    </>\n                }\n            />\n        </Card>\n    );\n};\n\nconst Review = ({ record, basePath }) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n    return (\n        <Card className={classes.card}>\n            <CardHeader\n                className={classes.cardHeader}\n                avatar={\n                    <Avatar\n                        aria-label={translate('resources.reviews.name', {\n                            smart_count: 1,\n                        })}\n                        className={classes.avatar}\n                    >\n                        <review.icon />\n                    </Avatar>\n                }\n                action={<EditButton record={record} basePath=\"/reviews\" />}\n                title={\n                    <span>\n                        {translate('resources.reviews.relative_to_poster')}{' '}\n                        <ProductReferenceField\n                            resource=\"reviews\"\n                            record={record}\n                            basePath={basePath}\n                        />\n                    </span>\n                }\n                subheader={\n                    <>\n                        <Typography variant=\"body2\">{record.date}</Typography>\n                        <StarRatingField record={record} />\n                        <Typography variant=\"inherit\" className={classes.clamp}>\n                            {record.comment}\n                        </Typography>\n                    </>\n                }\n            />\n        </Card>\n    );\n};\n\nconst EditButton = ({ record, basePath }) => {\n    const translate = useTranslate();\n    return (\n        <Tooltip title={translate('ra.action.edit')}>\n            <IconButton\n                aria-label={translate('ra.action.edit')}\n                component={Link}\n                to={linkToRecord(basePath, record && record.id)}\n            >\n                <ContentCreate />\n            </IconButton>\n        </Tooltip>\n    );\n};\n\nexport default Aside;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles, Select, MenuItem, InputLabel, Input, FilledInput, FormHelperText, FormControl, Chip, } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { FieldTitle, useInput, useChoices, } from 'ra-core';\nimport InputHelperText from './InputHelperText';\nvar sanitizeRestProps = function (_a) {\n    var addLabel = _a.addLabel, allowEmpty = _a.allowEmpty, alwaysOn = _a.alwaysOn, basePath = _a.basePath, choices = _a.choices, classNamInputWithOptionsPropse = _a.classNamInputWithOptionsPropse, componenInputWithOptionsPropst = _a.componenInputWithOptionsPropst, crudGetMInputWithOptionsPropsatching = _a.crudGetMInputWithOptionsPropsatching, crudGetOInputWithOptionsPropsne = _a.crudGetOInputWithOptionsPropsne, defaultValue = _a.defaultValue, filter = _a.filter, filterToQuery = _a.filterToQuery, formClassName = _a.formClassName, initializeForm = _a.initializeForm, input = _a.input, isRequired = _a.isRequired, label = _a.label, limitChoicesToValue = _a.limitChoicesToValue, loaded = _a.loaded, locale = _a.locale, meta = _a.meta, onChange = _a.onChange, options = _a.options, optionValue = _a.optionValue, optionText = _a.optionText, perPage = _a.perPage, record = _a.record, reference = _a.reference, resource = _a.resource, setFilter = _a.setFilter, setPagination = _a.setPagination, setSort = _a.setSort, sort = _a.sort, source = _a.source, textAlign = _a.textAlign, translate = _a.translate, translateChoice = _a.translateChoice, validation = _a.validation, rest = __rest(_a, [\"addLabel\", \"allowEmpty\", \"alwaysOn\", \"basePath\", \"choices\", \"classNamInputWithOptionsPropse\", \"componenInputWithOptionsPropst\", \"crudGetMInputWithOptionsPropsatching\", \"crudGetOInputWithOptionsPropsne\", \"defaultValue\", \"filter\", \"filterToQuery\", \"formClassName\", \"initializeForm\", \"input\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"loaded\", \"locale\", \"meta\", \"onChange\", \"options\", \"optionValue\", \"optionText\", \"perPage\", \"record\", \"reference\", \"resource\", \"setFilter\", \"setPagination\", \"setSort\", \"sort\", \"source\", \"textAlign\", \"translate\", \"translateChoice\", \"validation\"]);\n    return rest;\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {},\n    chips: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    chip: {\n        margin: theme.spacing(1 / 4),\n    },\n    select: {\n        height: 'auto',\n        overflow: 'auto',\n    },\n}); }, { name: 'RaSelectArrayInput' });\n/**\n * An Input component for a select box allowing multiple selections, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property an the option text\n * @example\n * const choices = [\n *    { id: 'programming', name: 'Programming' },\n *    { id: 'lifestyle', name: 'Lifestyle' },\n *    { id: 'photography', name: 'Photography' },\n * ];\n * <SelectArrayInput source=\"tags\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectArrayInput source=\"authors\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectArrayInput source=\"authors\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectArrayInput source=\"authors\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'programming', name: 'myroot.tags.programming' },\n *    { id: 'lifestyle', name: 'myroot.tags.lifestyle' },\n *    { id: 'photography', name: 'myroot.tags.photography' },\n * ];\n */\nvar SelectArrayInput = function (props) {\n    var _a = props.choices, choices = _a === void 0 ? [] : _a, classesOverride = props.classes, className = props.className, format = props.format, helperText = props.helperText, label = props.label, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, onBlur = props.onBlur, onChange = props.onChange, onFocus = props.onFocus, options = props.options, optionText = props.optionText, optionValue = props.optionValue, parse = props.parse, resource = props.resource, source = props.source, translateChoice = props.translateChoice, validate = props.validate, _c = props.variant, variant = _c === void 0 ? 'filled' : _c, rest = __rest(props, [\"choices\", \"classes\", \"className\", \"format\", \"helperText\", \"label\", \"margin\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"resource\", \"source\", \"translateChoice\", \"validate\", \"variant\"]);\n    var classes = useStyles(props);\n    var _d = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        translateChoice: translateChoice,\n    }), getChoiceText = _d.getChoiceText, getChoiceValue = _d.getChoiceValue;\n    var _e = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source,\n        validate: validate }, rest)), id = _e.id, input = _e.input, isRequired = _e.isRequired, _f = _e.meta, error = _f.error, touched = _f.touched;\n    var renderMenuItemOption = useCallback(function (choice) { return getChoiceText(choice); }, [\n        getChoiceText,\n    ]);\n    var renderMenuItem = useCallback(function (choice) {\n        return choice ? (React.createElement(MenuItem, { key: getChoiceValue(choice), value: getChoiceValue(choice) }, renderMenuItemOption(choice))) : null;\n    }, [getChoiceValue, renderMenuItemOption]);\n    return (React.createElement(FormControl, __assign({ margin: margin, className: classnames(classes.root, className), error: touched && !!error, variant: variant }, sanitizeRestProps(rest)),\n        React.createElement(InputLabel, { htmlFor: id, shrink: true, variant: variant, error: touched && !!error },\n            React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired })),\n        React.createElement(Select, __assign({ autoWidth: true, multiple: true, input: variant === 'standard' ? (React.createElement(Input, { id: id })) : (React.createElement(FilledInput, { id: id })), error: !!(touched && error), renderValue: function (selected) { return (React.createElement(\"div\", { className: classes.chips }, selected\n                .map(function (item) {\n                return choices.find(function (choice) { return getChoiceValue(choice) === item; });\n            })\n                .map(function (item) { return (React.createElement(Chip, { key: getChoiceValue(item), label: renderMenuItemOption(item), className: classes.chip })); }))); }, \"data-testid\": \"selectArray\", variant: variant }, input, { value: input.value || [] }, options), choices.map(renderMenuItem)),\n        React.createElement(FormHelperText, { error: touched && !!error },\n            React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }))));\n};\nSelectArrayInput.propTypes = {\n    choices: PropTypes.arrayOf(PropTypes.object),\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    label: PropTypes.string,\n    options: PropTypes.object,\n    optionText: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.func,\n        PropTypes.element,\n    ]).isRequired,\n    optionValue: PropTypes.string.isRequired,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    translateChoice: PropTypes.bool,\n};\nSelectArrayInput.defaultProps = {\n    options: {},\n    optionText: 'name',\n    optionValue: 'id',\n    translateChoice: true,\n};\nexport default SelectArrayInput;\n","import React, { FC } from 'react';\nimport { useTranslate, SelectArrayInput } from 'react-admin';\nimport { InputProps } from 'ra-core';\n\nimport segments from '../segments/data';\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentsInput: FC<Props> = ({ addField, ...rest }) => {\n    const translate = useTranslate();\n    return (\n        <SelectArrayInput\n            {...rest}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n        />\n    );\n};\n\nSegmentsInput.defaultProps = {\n    addField: true,\n    source: 'groups',\n    resource: 'customers',\n};\n\nexport default SegmentsInput;\n","import React, { FC } from 'react';\nimport {\n    DateInput,\n    Edit,\n    NullableBooleanInput,\n    TextInput,\n    PasswordInput,\n    Toolbar,\n    useTranslate,\n    FormWithRedirect,\n} from 'react-admin';\nimport { Box, Card, CardContent, Typography } from '@material-ui/core';\n\nimport Aside from './Aside';\nimport FullNameField from './FullNameField';\nimport SegmentsInput from './SegmentsInput';\nimport { validatePasswords } from './VisitorCreate';\nimport { Customer, FieldProps } from '../types';\n\nconst VisitorEdit = (props: any) => {\n    return (\n        <Edit\n            title={<VisitorTitle />}\n            aside={<Aside />}\n            component=\"div\"\n            {...props}\n        >\n            <VisitorForm />\n        </Edit>\n    );\n};\n\nconst VisitorTitle: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? <FullNameField record={record} size=\"32\" /> : null;\n\nconst VisitorForm = (props: any) => {\n    const translate = useTranslate();\n\n    return (\n        <FormWithRedirect\n            {...props}\n            validate={validatePasswords}\n            render={(formProps: any) => (\n                <Card>\n                    <form>\n                        <CardContent>\n                            <Box display={{ md: 'block', lg: 'flex' }}>\n                                <Box flex={2} mr={{ md: 0, lg: '1em' }}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.identity'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"first_name\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"last_name\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                    <TextInput\n                                        type=\"email\"\n                                        source=\"email\"\n                                        resource=\"customers\"\n                                        validation={{ email: true }}\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <DateInput\n                                                source=\"birthday\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        />\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.address'\n                                        )}\n                                    </Typography>\n                                    <TextInput\n                                        source=\"address\"\n                                        resource=\"customers\"\n                                        multiline\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"zipcode\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"city\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.change_password'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"confirm_password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                </Box>\n                                <Box\n                                    flex={1}\n                                    ml={{ xs: 0, lg: '1em' }}\n                                    mt={{ xs: '1em', lg: 0 }}\n                                >\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.stats'\n                                        )}\n                                    </Typography>\n                                    <div>\n                                        <SegmentsInput fullWidth />\n                                    </div>\n                                    <div>\n                                        <NullableBooleanInput\n                                            source=\"has_newsletter\"\n                                            resource=\"customers\"\n                                        />\n                                    </div>\n                                </Box>\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable={true}\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"customers\"\n                        />\n                    </form>\n                </Card>\n            )}\n        />\n    );\n};\n\nexport default VisitorEdit;\n","import VisitorIcon from '@material-ui/icons/People';\n\nimport VisitorList from './VisitorList';\nimport VisitorCreate from './VisitorCreate';\nimport VisitorEdit from './VisitorEdit';\n\nexport default {\n    list: VisitorList,\n    create: VisitorCreate,\n    edit: VisitorEdit,\n    icon: VisitorIcon,\n};\n","import React, { FC } from 'react';\nimport { FieldProps, Customer } from '../types';\n\nconst AddressField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <span>\n            {record.address}, {record.city} {record.zipcode}\n        </span>\n    ) : null;\n\nexport default AddressField;\n","import inflection from 'inflection';\nimport useVersion from './useVersion';\nimport { useCheckMinimumRequiredProps } from './checkMinimumRequiredProps';\nimport { useGetOne } from '../dataProvider';\nimport { useTranslate } from '../i18n';\nimport { useNotify, useRedirect, useRefresh } from '../sideEffect';\nimport { CRUD_GET_ONE } from '../actions';\n/**\n * Prepare data for the Show view\n *\n * @param {Object} props The props passed to the Show component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Show view\n *\n * @example\n *\n * import { useShowController } from 'react-admin';\n * import ShowView from './ShowView';\n *\n * const MyShow = props => {\n *     const controllerProps = useShowController(props);\n *     return <ShowView {...controllerProps} {...props} />;\n * }\n */\nvar useShowController = function (props) {\n    useCheckMinimumRequiredProps('Show', ['basePath', 'resource'], props);\n    var basePath = props.basePath, id = props.id, resource = props.resource;\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var version = useVersion();\n    var _a = useGetOne(resource, id, {\n        version: version,\n        action: CRUD_GET_ONE,\n        onFailure: function () {\n            notify('ra.notification.item_doesnt_exist', 'warning');\n            redirect('list', basePath);\n            refresh();\n        },\n    }), record = _a.data, loading = _a.loading, loaded = _a.loaded;\n    var resourceName = translate(\"resources.\" + resource + \".name\", {\n        smart_count: 1,\n        _: inflection.humanize(inflection.singularize(resource)),\n    });\n    var defaultTitle = translate('ra.page.show', {\n        name: \"\" + resourceName,\n        id: id,\n        record: record,\n    });\n    return {\n        loading: loading,\n        loaded: loaded,\n        defaultTitle: defaultTitle,\n        resource: resource,\n        basePath: basePath,\n        record: record,\n        version: version,\n    };\n};\nexport default useShowController;\n","import React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useShowController, ReferenceField, TextField } from 'react-admin';\n\nimport Basket from '../orders/Basket';\nimport { FieldProps, Customer } from '../types';\n\nconst CustomerField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <Typography>\n            {record.first_name} {record.last_name}\n            <br />\n            {record.address}\n            <br />\n            {record.city}, {record.zipcode}\n        </Typography>\n    ) : null;\n\nconst InvoiceShow = (props: any) => {\n    const { record } = useShowController(props);\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Posters Galore\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"right\">\n                            Invoice {record.id}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} container alignContent=\"flex-end\">\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <CustomerField />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Date{' '}\n                        </Typography>\n                        <Typography gutterBottom align=\"center\">\n                            {new Date(record.date).toLocaleDateString()}\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={5}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Order\n                        </Typography>\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"commands\"\n                            source=\"command_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <TextField\n                                source=\"reference\"\n                                align=\"center\"\n                                component=\"p\"\n                                gutterBottom\n                            />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.invoices}>\n                    <ReferenceField\n                        resource=\"invoices\"\n                        reference=\"commands\"\n                        source=\"command_id\"\n                        basePath=\"/invoices\"\n                        record={record}\n                        link={false}\n                    >\n                        <Basket />\n                    </ReferenceField>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default InvoiceShow;\n\nconst useStyles = makeStyles({\n    root: { width: 600, margin: 'auto' },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n});\n","import React from 'react';\nimport {\n    List,\n    Datagrid,\n    TextField,\n    DateField,\n    ReferenceField,\n    NumberField,\n    Filter,\n    DateInput,\n} from 'react-admin';\n\nimport FullNameField from '../visitors/FullNameField';\nimport AddressField from '../visitors/AddressField';\nimport InvoiceShow from './InvoiceShow';\n\nconst ListFilters = (props: any) => (\n    <Filter {...props}>\n        <DateInput source=\"date_gte\" alwaysOn />\n        <DateInput source=\"date_lte\" alwaysOn />\n    </Filter>\n);\n\nconst InvoiceList = (props: any) => (\n    <List {...props} filters={<ListFilters />} perPage={25}>\n        <Datagrid rowClick=\"expand\" expand={<InvoiceShow />}>\n            <TextField source=\"id\" />\n            <DateField source=\"date\" />\n            <ReferenceField source=\"customer_id\" reference=\"customers\">\n                <FullNameField />\n            </ReferenceField>\n            <ReferenceField\n                source=\"customer_id\"\n                reference=\"customers\"\n                link={false}\n                label=\"resources.invoices.fields.address\"\n            >\n                <AddressField />\n            </ReferenceField>\n            <ReferenceField source=\"command_id\" reference=\"commands\">\n                <TextField source=\"reference\" />\n            </ReferenceField>\n            <NumberField source=\"total_ex_taxes\" />\n            <NumberField source=\"delivery_fees\" />\n            <NumberField source=\"taxes\" />\n            <NumberField source=\"total\" />\n        </Datagrid>\n    </List>\n);\n\nexport default InvoiceList;\n","import InvoiceIcon from '@material-ui/icons/LibraryBooks';\n\nimport InvoiceList from './InvoiceList';\n\nexport default {\n    list: InvoiceList,\n    icon: InvoiceIcon,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport { useInput, FieldTitle } from 'ra-core';\nimport InputHelperText from './InputHelperText';\nimport sanitizeRestProps from './sanitizeRestProps';\nvar convertStringToNumber = function (value) {\n    var float = parseFloat(value);\n    return isNaN(float) ? null : float;\n};\n/**\n * An Input component for a number\n *\n * @example\n * <NumberInput source=\"nb_views\" />\n *\n * You can customize the `step` props (which defaults to \"any\")\n * @example\n * <NumberInput source=\"nb_views\" step={1} />\n *\n * The object passed as `options` props is passed to the material-ui <TextField> component\n */\nvar NumberInput = function (_a) {\n    var format = _a.format, helperText = _a.helperText, label = _a.label, _b = _a.margin, margin = _b === void 0 ? 'dense' : _b, onBlur = _a.onBlur, onFocus = _a.onFocus, onChange = _a.onChange, options = _a.options, _c = _a.parse, parse = _c === void 0 ? convertStringToNumber : _c, resource = _a.resource, source = _a.source, step = _a.step, validate = _a.validate, _d = _a.variant, variant = _d === void 0 ? 'filled' : _d, overrideInputProps = _a.inputProps, rest = __rest(_a, [\"format\", \"helperText\", \"label\", \"margin\", \"onBlur\", \"onFocus\", \"onChange\", \"options\", \"parse\", \"resource\", \"source\", \"step\", \"validate\", \"variant\", \"inputProps\"]);\n    var _e = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source, type: 'number', validate: validate }, rest)), id = _e.id, input = _e.input, isRequired = _e.isRequired, _f = _e.meta, error = _f.error, touched = _f.touched;\n    var inputProps = __assign(__assign({}, overrideInputProps), { step: step });\n    return (React.createElement(TextField, __assign({ id: id }, input, { variant: variant, error: !!(touched && error), helperText: React.createElement(InputHelperText, { touched: touched, error: error, helperText: helperText }), label: React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }), margin: margin, inputProps: inputProps }, options, sanitizeRestProps(rest))));\n};\nNumberInput.propTypes = {\n    label: PropTypes.string,\n    options: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    step: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\nNumberInput.defaultProps = {\n    options: {},\n    step: 'any',\n    textAlign: 'right',\n};\nexport default NumberInput;\n","import React from 'react';\nimport MuiGridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth from '@material-ui/core/withWidth';\nimport { Link } from 'react-router-dom';\nimport { NumberField } from 'react-admin';\nimport { linkToRecord } from 'ra-core';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: '-2px',\n    },\n    gridList: {\n        width: '100%',\n        margin: 0,\n    },\n    tileBar: {\n        background:\n            'linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)',\n    },\n    placeholder: {\n        backgroundColor: theme.palette.grey[300],\n        height: '100%',\n    },\n    price: {\n        display: 'inline',\n        fontSize: '1em',\n    },\n    link: {\n        color: '#fff',\n    },\n}));\n\nconst getColsForWidth = width => {\n    if (width === 'xs') return 2;\n    if (width === 'sm') return 3;\n    if (width === 'md') return 4;\n    if (width === 'lg') return 5;\n    return 6;\n};\n\nconst times = (nbChildren, fn) =>\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\n\nconst LoadingGridList = ({ width, nbItems = 10 }) => {\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <MuiGridList\n                cellHeight={180}\n                cols={getColsForWidth(width)}\n                className={classes.gridList}\n            >\n                {' '}\n                {times(nbItems, key => (\n                    <GridListTile key={key}>\n                        <div className={classes.placeholder} />\n                    </GridListTile>\n                ))}\n            </MuiGridList>\n        </div>\n    );\n};\n\nconst LoadedGridList = ({ ids, data, basePath, width }) => {\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <MuiGridList\n                cellHeight={180}\n                cols={getColsForWidth(width)}\n                className={classes.gridList}\n            >\n                {ids.map(id => (\n                    <GridListTile\n                        component={Link}\n                        key={id}\n                        to={linkToRecord(basePath, data[id].id)}\n                    >\n                        <img src={data[id].thumbnail} alt=\"\" />\n                        <GridListTileBar\n                            className={classes.tileBar}\n                            title={data[id].reference}\n                            subtitle={\n                                <span>\n                                    {data[id].width}x{data[id].height},{' '}\n                                    <NumberField\n                                        className={classes.price}\n                                        source=\"price\"\n                                        record={data[id]}\n                                        color=\"inherit\"\n                                        options={{\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        }}\n                                    />\n                                </span>\n                            }\n                        />\n                    </GridListTile>\n                ))}\n            </MuiGridList>\n        </div>\n    );\n};\n\nconst GridList = ({ loaded, ...props }) =>\n    loaded ? <LoadedGridList {...props} /> : <LoadingGridList {...props} />;\n\nexport default withWidth()(GridList);\n","import React from 'react';\nimport {\n    Filter,\n    List,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    useTranslate,\n} from 'react-admin';\nimport Chip from '@material-ui/core/Chip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport GridList from './GridList';\n\nconst useQuickFilterStyles = makeStyles(theme => ({\n    root: {\n        marginBottom: theme.spacing(3),\n    },\n}));\n\nconst QuickFilter = ({ label }) => {\n    const translate = useTranslate();\n    const classes = useQuickFilterStyles();\n    return <Chip className={classes.root} label={translate(label)} />;\n};\n\nexport const ProductFilter = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput\n            source=\"category_id\"\n            reference=\"categories\"\n            sort={{ field: 'id', order: 'ASC' }}\n        >\n            <SelectInput source=\"name\" />\n        </ReferenceInput>\n        <NumberInput source=\"width_gte\" />\n        <NumberInput source=\"width_lte\" />\n        <NumberInput source=\"height_gte\" />\n        <NumberInput source=\"height_lte\" />\n        <QuickFilter\n            label=\"resources.products.fields.stock_lte\"\n            source=\"stock_lte\"\n            defaultValue={10}\n        />\n    </Filter>\n);\n\nconst ProductList = props => (\n    <List\n        {...props}\n        filters={<ProductFilter />}\n        perPage={20}\n        pagination={<Pagination rowsPerPageOptions={[10, 20, 40]} />}\n        sort={{ field: 'id', order: 'ASC' }}\n    >\n        <GridList />\n    </List>\n);\n\nexport default ProductList;\n","/**\n * Escape special characters in path so that react-router Route does not do any special treatment\n *\n * @see https://github.com/ReactTraining/react-router/blob/v3/docs/guides/RouteMatching.md#path-syntax\n *\n * @example\n *\n * escapePath('/foo(bar)') => 'foo\\(bar\\)'\n */\nexport default (function (url) { return url.replace(/(\\(|\\))/g, '\\\\$1'); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, cloneElement, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Tabs from '@material-ui/core/Tabs';\nimport { useLocation } from 'react-router-dom';\nexport var getTabFullPath = function (tab, index, baseUrl) {\n    return \"\" + baseUrl + (tab.props.path ? \"/\" + tab.props.path : index > 0 ? \"/\" + index : '');\n};\nvar TabbedFormTabs = function (_a) {\n    var children = _a.children, classes = _a.classes, url = _a.url, tabsWithErrors = _a.tabsWithErrors, rest = __rest(_a, [\"children\", \"classes\", \"url\", \"tabsWithErrors\"]);\n    var location = useLocation();\n    var validTabPaths = Children.map(children, function (tab, index) {\n        if (!isValidElement(tab))\n            return undefined;\n        return getTabFullPath(tab, index, url);\n    });\n    // This ensure we don't get warnings from material-ui Tabs component when\n    // the current location pathname targets a dynamically added Tab\n    // In the case the targeted Tab is not present at first render (when\n    // using permissions for example) we temporarily switch to the first\n    // available tab. The current location will be applied again on the\n    // first render containing the targeted tab. This is almost transparent\n    // for the user who may just see an short tab selection animation\n    var tabValue = validTabPaths.includes(location.pathname)\n        ? location.pathname\n        : validTabPaths[0];\n    return (React.createElement(Tabs, __assign({ value: tabValue, indicatorColor: \"primary\" }, rest), Children.map(children, function (tab, index) {\n        if (!isValidElement(tab))\n            return null;\n        // Builds the full tab tab which is the concatenation of the last matched route in the\n        // TabbedShowLayout hierarchy (ex: '/posts/create', '/posts/12', , '/posts/12/show')\n        // and the tab path.\n        // This will be used as the Tab's value\n        var tabPath = getTabFullPath(tab, index, url);\n        return cloneElement(tab, {\n            intent: 'header',\n            value: tabPath,\n            className: tabsWithErrors.includes(tab.props.label) &&\n                location.pathname !== tabPath\n                ? classes.errorTabButton\n                : null,\n        });\n    })));\n};\nTabbedFormTabs.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    url: PropTypes.string,\n    tabsWithErrors: PropTypes.arrayOf(PropTypes.string),\n};\nexport default TabbedFormTabs;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport React, { Children, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Route, useRouteMatch, useLocation } from 'react-router-dom';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { escapePath, FormWithRedirect } from 'ra-core';\nimport get from 'lodash/get';\nimport Toolbar from './Toolbar';\nimport TabbedFormTabs, { getTabFullPath } from './TabbedFormTabs';\n/**\n * Form layout where inputs are divided by tab, one input per line.\n *\n * Pass FormTab components as children.\n *\n * @example\n *\n * import React from 'react';\n * import {\n *     Edit,\n *     TabbedForm,\n *     FormTab,\n *     Datagrid,\n *     TextField,\n *     DateField,\n *     TextInput,\n *     ReferenceManyField,\n *     NumberInput,\n *     DateInput,\n *     BooleanInput,\n *     EditButton\n * } from 'react-admin';\n *\n * export const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <TabbedForm>\n *             <FormTab label=\"summary\">\n *                 <TextInput disabled label=\"Id\" source=\"id\" />\n *                 <TextInput source=\"title\" validate={required()} />\n *                 <TextInput multiline source=\"teaser\" validate={required()} />\n *             </FormTab>\n *             <FormTab label=\"body\">\n *                 <RichTextInput source=\"body\" validate={required()} addLabel={false} />\n *             </FormTab>\n *             <FormTab label=\"Miscellaneous\">\n *                 <TextInput label=\"Password (if protected post)\" source=\"password\" type=\"password\" />\n *                 <DateInput label=\"Publication date\" source=\"published_at\" />\n *                 <NumberInput source=\"average_note\" validate={[ number(), minValue(0) ]} />\n *                 <BooleanInput label=\"Allow comments?\" source=\"commentable\" defaultValue />\n *                 <TextInput disabled label=\"Nb views\" source=\"views\" />\n *             </FormTab>\n *             <FormTab label=\"comments\">\n *                 <ReferenceManyField reference=\"comments\" target=\"post_id\" addLabel={false}>\n *                     <Datagrid>\n *                         <TextField source=\"body\" />\n *                         <DateField source=\"created_at\" />\n *                         <EditButton />\n *                     </Datagrid>\n *                 </ReferenceManyField>\n *             </FormTab>\n *         </TabbedForm>\n *     </Edit>\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by Create or Edit)\n * @prop {ReactElement[]} FormTab elements\n * @prop {Object} initialValues\n * @prop {Function} validate\n * @prop {boolean} submitOnEnter\n * @prop {string} redirect\n * @prop {ReactElement} toolbar The element displayed at the bottom of the form, contzining the SaveButton\n * @prop {string} variant Apply variant to all inputs. Possible values are 'standard', 'outlined', and 'filled' (default)\n * @prop {string} margin Apply variant to all inputs. Possible values are 'none', 'normal', and 'dense' (default)\n *\n * @param {Prop} props\n */\nvar TabbedForm = function (props) { return (React.createElement(FormWithRedirect, __assign({}, props, { render: function (formProps) { return React.createElement(TabbedFormView, __assign({}, formProps)); } }))); };\nTabbedForm.propTypes = {\n    children: PropTypes.node,\n    defaultValue: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    initialValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    save: PropTypes.func,\n    saving: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n    submitOnEnter: PropTypes.bool,\n    undoable: PropTypes.bool,\n    validate: PropTypes.func,\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    errorTabButton: { color: theme.palette.error.main },\n    content: {\n        paddingTop: theme.spacing(1),\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n    },\n}); }, { name: 'RaTabbedForm' });\nexport var TabbedFormView = function (props) {\n    var basePath = props.basePath, children = props.children, className = props.className, classesOverride = props.classes, form = props.form, handleSubmit = props.handleSubmit, handleSubmitWithRedirect = props.handleSubmitWithRedirect, invalid = props.invalid, pristine = props.pristine, record = props.record, defaultRedirect = props.redirect, resource = props.resource, saving = props.saving, setRedirect = props.setRedirect, submitOnEnter = props.submitOnEnter, tabs = props.tabs, toolbar = props.toolbar, translate = props.translate, undoable = props.undoable, value = props.value, variant = props.variant, margin = props.margin, rest = __rest(props, [\"basePath\", \"children\", \"className\", \"classes\", \"form\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"setRedirect\", \"submitOnEnter\", \"tabs\", \"toolbar\", \"translate\", \"undoable\", \"value\", \"variant\", \"margin\"]);\n    var tabsWithErrors = findTabsWithErrors(children, form.getState().errors);\n    var classes = useStyles(props);\n    var match = useRouteMatch();\n    var location = useLocation();\n    var url = match ? match.url : location.pathname;\n    return (React.createElement(\"form\", __assign({ className: classnames('tabbed-form', className) }, sanitizeRestProps(rest)),\n        React.cloneElement(tabs, {\n            classes: classes,\n            url: url,\n            tabsWithErrors: tabsWithErrors,\n        }, children),\n        React.createElement(Divider, null),\n        React.createElement(\"div\", { className: classes.content }, Children.map(children, function (tab, index) {\n            return tab && (React.createElement(Route, { exact: true, path: escapePath(getTabFullPath(tab, index, url)) }, function (routeProps) {\n                return isValidElement(tab)\n                    ? React.cloneElement(tab, {\n                        intent: 'content',\n                        resource: resource,\n                        record: record,\n                        basePath: basePath,\n                        hidden: !routeProps.match,\n                        variant: tab.props.variant || variant,\n                        margin: tab.props.margin || margin,\n                    })\n                    : null;\n            }));\n        })),\n        toolbar &&\n            React.cloneElement(toolbar, {\n                basePath: basePath,\n                className: 'toolbar',\n                handleSubmitWithRedirect: handleSubmitWithRedirect,\n                handleSubmit: handleSubmit,\n                invalid: invalid,\n                pristine: pristine,\n                record: record,\n                redirect: defaultRedirect,\n                resource: resource,\n                saving: saving,\n                submitOnEnter: submitOnEnter,\n                undoable: undoable,\n            })));\n};\nTabbedFormView.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    defaultValue: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    initialValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    handleSubmit: PropTypes.func,\n    invalid: PropTypes.bool,\n    location: PropTypes.object,\n    match: PropTypes.object,\n    pristine: PropTypes.bool,\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    save: PropTypes.func,\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    tabs: PropTypes.element.isRequired,\n    tabsWithErrors: PropTypes.arrayOf(PropTypes.string),\n    toolbar: PropTypes.element,\n    translate: PropTypes.func,\n    undoable: PropTypes.bool,\n    validate: PropTypes.func,\n    value: PropTypes.number,\n    version: PropTypes.number,\n};\nTabbedFormView.defaultProps = {\n    submitOnEnter: true,\n    tabs: React.createElement(TabbedFormTabs, null),\n    toolbar: React.createElement(Toolbar, null),\n};\nvar sanitizeRestProps = function (_a) {\n    var anyTouched = _a.anyTouched, array = _a.array, asyncBlurFields = _a.asyncBlurFields, asyncValidate = _a.asyncValidate, asyncValidating = _a.asyncValidating, autofill = _a.autofill, blur = _a.blur, change = _a.change, clearAsyncError = _a.clearAsyncError, clearFields = _a.clearFields, clearSubmit = _a.clearSubmit, clearSubmitErrors = _a.clearSubmitErrors, destroy = _a.destroy, dirty = _a.dirty, dirtyFields = _a.dirtyFields, dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit, dirtySinceLastSubmit = _a.dirtySinceLastSubmit, dispatch = _a.dispatch, form = _a.form, handleSubmit = _a.handleSubmit, hasSubmitErrors = _a.hasSubmitErrors, hasValidationErrors = _a.hasValidationErrors, initialize = _a.initialize, initialized = _a.initialized, initialValues = _a.initialValues, pristine = _a.pristine, pure = _a.pure, redirect = _a.redirect, reset = _a.reset, resetSection = _a.resetSection, save = _a.save, staticContext = _a.staticContext, submit = _a.submit, submitAsSideEffect = _a.submitAsSideEffect, submitError = _a.submitError, submitErrors = _a.submitErrors, submitFailed = _a.submitFailed, submitSucceeded = _a.submitSucceeded, submitting = _a.submitting, touch = _a.touch, translate = _a.translate, triggerSubmit = _a.triggerSubmit, undoable = _a.undoable, untouch = _a.untouch, valid = _a.valid, validate = _a.validate, validating = _a.validating, _reduxForm = _a._reduxForm, props = __rest(_a, [\"anyTouched\", \"array\", \"asyncBlurFields\", \"asyncValidate\", \"asyncValidating\", \"autofill\", \"blur\", \"change\", \"clearAsyncError\", \"clearFields\", \"clearSubmit\", \"clearSubmitErrors\", \"destroy\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"dispatch\", \"form\", \"handleSubmit\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialize\", \"initialized\", \"initialValues\", \"pristine\", \"pure\", \"redirect\", \"reset\", \"resetSection\", \"save\", \"staticContext\", \"submit\", \"submitAsSideEffect\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touch\", \"translate\", \"triggerSubmit\", \"undoable\", \"untouch\", \"valid\", \"validate\", \"validating\", \"_reduxForm\"]);\n    return props;\n};\nexport var findTabsWithErrors = function (children, errors) {\n    return Children.toArray(children).reduce(function (acc, child) {\n        if (!isValidElement(child)) {\n            return acc;\n        }\n        var inputs = Children.toArray(child.props.children);\n        if (inputs.some(function (input) {\n            return isValidElement(input) && get(errors, input.props.source);\n        })) {\n            return __spreadArrays(acc, [child.props.label]);\n        }\n        return acc;\n    }, []);\n};\nexport default TabbedForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport MuiTab from '@material-ui/core/Tab';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\nimport FormInput from './FormInput';\nvar sanitizeRestProps = function (_a) {\n    var contentClassName = _a.contentClassName, label = _a.label, icon = _a.icon, value = _a.value, translate = _a.translate, rest = __rest(_a, [\"contentClassName\", \"label\", \"icon\", \"value\", \"translate\"]);\n    return rest;\n};\nvar hiddenStyle = { display: 'none' };\nvar FormTab = function (_a) {\n    var basePath = _a.basePath, className = _a.className, contentClassName = _a.contentClassName, children = _a.children, hidden = _a.hidden, icon = _a.icon, intent = _a.intent, label = _a.label, margin = _a.margin, record = _a.record, resource = _a.resource, variant = _a.variant, value = _a.value, rest = __rest(_a, [\"basePath\", \"className\", \"contentClassName\", \"children\", \"hidden\", \"icon\", \"intent\", \"label\", \"margin\", \"record\", \"resource\", \"variant\", \"value\"]);\n    var translate = useTranslate();\n    var location = useLocation();\n    var renderHeader = function () { return (React.createElement(MuiTab, __assign({ key: label, label: translate(label, { _: label }), value: value, icon: icon, className: classnames('form-tab', className), component: Link, to: __assign(__assign({}, location), { pathname: value }) }, sanitizeRestProps(rest)))); };\n    var renderContent = function () { return (React.createElement(\"span\", { style: hidden ? hiddenStyle : null, className: contentClassName }, React.Children.map(children, function (input) {\n        return input && (React.createElement(FormInput, { basePath: basePath, input: input, record: record, resource: resource, variant: input.props.variant || variant, margin: input.props.margin || margin }));\n    }))); };\n    return intent === 'header' ? renderHeader() : renderContent();\n};\nFormTab.propTypes = {\n    className: PropTypes.string,\n    contentClassName: PropTypes.string,\n    children: PropTypes.node,\n    intent: PropTypes.oneOf(['header', 'content']),\n    hidden: PropTypes.bool,\n    icon: PropTypes.element,\n    label: PropTypes.string.isRequired,\n    path: PropTypes.string,\n    value: PropTypes.string,\n};\nFormTab.displayName = 'FormTab';\nexport default FormTab;\n","import get from 'lodash/get';\nimport { useGetManyReference } from '../../dataProvider';\nimport { useNotify } from '../../sideEffect';\nvar defaultFilter = {};\n/**\n * Fetch reference records, and return them when avaliable\n *\n * The reference prop sould be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { loaded, referenceRecord, resourceLinkPath } = useReferenceManyFieldController({\n *     resource\n *     reference: 'users',\n *     record: {\n *         userId: 7\n *     }\n *     target: 'comments',\n *     source: 'userId',\n *     basePath: '/comments',\n *     page: 1,\n *     perPage: 25,\n * });\n *\n * @param {Object} option\n * @param {string} option.resource The current resource name\n * @param {string} option.reference The linked resource name\n * @param {Object} option.record The current resource record\n * @param {string} option.target The target resource key\n * @param {Object} option.filter The filter applied on the recorded records list\n * @param {string} option.source The key of the linked resource identifier\n * @param {string} option.basePath basepath to current resource\n * @param {number} option.page the page number\n * @param {number} option.perPage the number of item per page\n * @param {Object} option.sort the sort to apply to the referenced records\n *\n * @returns {ReferenceManyProps} The reference many props\n */\nvar useReferenceManyFieldController = function (_a) {\n    var resource = _a.resource, reference = _a.reference, record = _a.record, target = _a.target, _b = _a.filter, filter = _b === void 0 ? defaultFilter : _b, source = _a.source, basePath = _a.basePath, page = _a.page, perPage = _a.perPage, _c = _a.sort, sort = _c === void 0 ? { field: 'id', order: 'DESC' } : _c;\n    var referenceId = get(record, source);\n    var notify = useNotify();\n    var _d = useGetManyReference(reference, target, referenceId, { page: page, perPage: perPage }, sort, filter, resource, {\n        onFailure: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning');\n        },\n    }), data = _d.data, ids = _d.ids, total = _d.total, loading = _d.loading, loaded = _d.loaded;\n    var referenceBasePath = basePath.replace(resource, reference);\n    return {\n        data: data,\n        ids: ids,\n        loaded: loaded,\n        loading: loading,\n        referenceBasePath: referenceBasePath,\n        total: total,\n    };\n};\nexport default useReferenceManyFieldController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { Fragment, cloneElement, Children, } from 'react';\nimport PropTypes from 'prop-types';\nimport { usePaginationState, useReferenceManyFieldController, useSortState, } from 'ra-core';\n/**\n * Render related records to the current one.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Display all the comments of the current post as a datagrid\n * <ReferenceManyField reference=\"comments\" target=\"post_id\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"body\" />\n *         <DateField source=\"created_at\" />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceManyField>\n *\n * @example Display all the books by the current author, only the title\n * <ReferenceManyField reference=\"books\" target=\"author_id\">\n *     <SingleFieldList>\n *         <ChipField source=\"title\" />\n *     </SingleFieldList>\n * </ReferenceManyField>\n *\n * By default, restricts the possible values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceManyField perPage={10} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceManyField sort={{ field: 'created_at', order: 'DESC' }} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceManyField filter={{ is_published: true }} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n */\nexport var ReferenceManyField = function (props) {\n    var children = props.children, initialSort = props.sort, initialPerPage = props.perPage, resource = props.resource, reference = props.reference, record = props.record, target = props.target, filter = props.filter, source = props.source, basePath = props.basePath;\n    if (React.Children.count(children) !== 1) {\n        throw new Error('<ReferenceManyField> only accepts a single child (like <Datagrid>)');\n    }\n    var _a = useSortState(initialSort), sort = _a.sort, setSortField = _a.setSortField;\n    var _b = usePaginationState({\n        perPage: initialPerPage,\n    }), page = _b.page, perPage = _b.perPage, setPage = _b.setPage, setPerPage = _b.setPerPage;\n    var controllerProps = useReferenceManyFieldController({\n        resource: resource,\n        reference: reference,\n        record: record,\n        target: target,\n        filter: filter,\n        source: source,\n        basePath: basePath,\n        page: page,\n        perPage: perPage,\n        sort: sort,\n    });\n    return (React.createElement(ReferenceManyFieldView, __assign({}, props, __assign({ currentSort: sort, page: page,\n        perPage: perPage,\n        setPage: setPage,\n        setPerPage: setPerPage, setSort: setSortField }, controllerProps))));\n};\nReferenceManyField.propTypes = {\n    addLabel: PropTypes.bool,\n    basePath: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    className: PropTypes.string,\n    filter: PropTypes.object,\n    label: PropTypes.string,\n    perPage: PropTypes.number,\n    record: PropTypes.any,\n    reference: PropTypes.string.isRequired,\n    resource: PropTypes.string,\n    sortBy: PropTypes.string,\n    source: PropTypes.string.isRequired,\n    sort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    target: PropTypes.string.isRequired,\n};\nReferenceManyField.defaultProps = {\n    filter: {},\n    perPage: 25,\n    sort: { field: 'id', order: 'DESC' },\n    source: 'id',\n    addLabel: true,\n};\nexport var ReferenceManyFieldView = function (_a) {\n    var children = _a.children, className = _a.className, currentSort = _a.currentSort, data = _a.data, ids = _a.ids, loaded = _a.loaded, page = _a.page, pagination = _a.pagination, perPage = _a.perPage, reference = _a.reference, referenceBasePath = _a.referenceBasePath, setPage = _a.setPage, setPerPage = _a.setPerPage, setSort = _a.setSort, total = _a.total;\n    return (React.createElement(Fragment, null,\n        cloneElement(Children.only(children), {\n            className: className,\n            resource: reference,\n            ids: ids,\n            loaded: loaded,\n            data: data,\n            basePath: referenceBasePath,\n            currentSort: currentSort,\n            setSort: setSort,\n            total: total,\n        }),\n        pagination &&\n            total !== undefined &&\n            cloneElement(pagination, {\n                page: page,\n                perPage: perPage,\n                setPage: setPage,\n                setPerPage: setPerPage,\n                total: total,\n            })));\n};\nReferenceManyFieldView.propTypes = {\n    children: PropTypes.element,\n    className: PropTypes.string,\n    currentSort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    data: PropTypes.any,\n    ids: PropTypes.array,\n    loaded: PropTypes.bool,\n    pagination: PropTypes.element,\n    reference: PropTypes.string,\n    referenceBasePath: PropTypes.string,\n    setSort: PropTypes.func,\n};\nexport default ReferenceManyField;\n","// converted from vendor (node_modules/quill/dist/quill.snow.css) using the jss cli\nexport default {\n    '.ql-container': {\n        boxSizing: 'border-box',\n        fontFamily: 'Helvetica, Arial, sans-serif',\n        fontSize: 13,\n        height: '100%',\n        margin: 0,\n        position: 'relative',\n    },\n    '.ql-container.ql-disabled .ql-tooltip': {\n        visibility: 'hidden',\n    },\n    '.ql-container.ql-disabled .ql-editor ul[data-checked] > li::before': {\n        pointerEvents: 'none',\n    },\n    '.ql-clipboard': {\n        left: -100000,\n        height: 1,\n        overflowY: 'hidden',\n        position: 'absolute',\n        top: '50%',\n    },\n    '.ql-clipboard p': {\n        margin: '0',\n        padding: '0',\n    },\n    '.ql-editor': {\n        boxSizing: 'border-box',\n        lineHeight: '1.42',\n        height: '100%',\n        outline: 'none',\n        overflowY: 'auto',\n        padding: '12px 15px',\n        tabSize: '4',\n        textAlign: 'left',\n        whiteSpace: 'pre-wrap',\n        wordWrap: 'break-word',\n    },\n    '.ql-editor > *': {\n        cursor: 'text',\n    },\n    '.ql-editor p, .ql-editor ol, .ql-editor ul, .ql-editor pre, .ql-editor blockquote, .ql-editor h1, .ql-editor h2, .ql-editor h3, .ql-editor h4, .ql-editor h5, .ql-editor h6': {\n        margin: '0',\n        padding: '0',\n        counterReset: 'list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol, .ql-editor ul': {\n        paddingLeft: '1.5em',\n    },\n    '.ql-editor ol > li, .ql-editor ul > li': {\n        listStyleType: 'none',\n    },\n    '.ql-editor ul > li::before': {\n        content: \"'\\\\2022'\",\n    },\n    '.ql-editor ul[data-checked=true], .ql-editor ul[data-checked=false]': {\n        pointerEvents: 'none',\n    },\n    '.ql-editor ul[data-checked=true] > li *, .ql-editor ul[data-checked=false] > li *': {\n        pointerEvents: 'all',\n    },\n    '.ql-editor ul[data-checked=true] > li::before, .ql-editor ul[data-checked=false] > li::before': {\n        color: '#777',\n        cursor: 'pointer',\n        pointerEvents: 'all',\n    },\n    '.ql-editor ul[data-checked=true] > li::before': {\n        content: \"'\\\\2611'\",\n    },\n    '.ql-editor ul[data-checked=false] > li::before': {\n        content: \"'\\\\2610'\",\n    },\n    '.ql-editor li::before': {\n        display: 'inline-block',\n        whiteSpace: 'nowrap',\n        width: '1.2em',\n    },\n    '.ql-editor li:not(.ql-direction-rtl)::before': {\n        marginLeft: '-1.5em',\n        marginRight: '0.3em',\n        textAlign: 'right',\n    },\n    '.ql-editor li.ql-direction-rtl::before': {\n        marginLeft: '0.3em',\n        marginRight: '-1.5em',\n    },\n    '.ql-editor ol li:not(.ql-direction-rtl), .ql-editor ul li:not(.ql-direction-rtl)': {\n        paddingLeft: '1.5em',\n    },\n    '.ql-editor ol li.ql-direction-rtl, .ql-editor ul li.ql-direction-rtl': {\n        paddingRight: '1.5em',\n    },\n    '.ql-editor ol li': {\n        counterReset: 'list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9',\n        counterIncrement: 'list-0',\n    },\n    '.ql-editor ol li:before': {\n        content: \"counter(list-0, decimal) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-1': {\n        counterIncrement: 'list-1',\n        counterReset: 'list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-1:before': {\n        content: \"counter(list-1, lower-alpha) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-2': {\n        counterIncrement: 'list-2',\n        counterReset: 'list-3 list-4 list-5 list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-2:before': {\n        content: \"counter(list-2, lower-roman) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-3': {\n        counterIncrement: 'list-3',\n        counterReset: 'list-4 list-5 list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-3:before': {\n        content: \"counter(list-3, decimal) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-4': {\n        counterIncrement: 'list-4',\n        counterReset: 'list-5 list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-4:before': {\n        content: \"counter(list-4, lower-alpha) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-5': {\n        counterIncrement: 'list-5',\n        counterReset: 'list-6 list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-5:before': {\n        content: \"counter(list-5, lower-roman) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-6': {\n        counterIncrement: 'list-6',\n        counterReset: 'list-7 list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-6:before': {\n        content: \"counter(list-6, decimal) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-7': {\n        counterIncrement: 'list-7',\n        counterReset: 'list-8 list-9',\n    },\n    '.ql-editor ol li.ql-indent-7:before': {\n        content: \"counter(list-7, lower-alpha) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-8': {\n        counterIncrement: 'list-8',\n        counterReset: 'list-9',\n    },\n    '.ql-editor ol li.ql-indent-8:before': {\n        content: \"counter(list-8, lower-roman) '. '\",\n    },\n    '.ql-editor ol li.ql-indent-9': {\n        counterIncrement: 'list-9',\n    },\n    '.ql-editor ol li.ql-indent-9:before': {\n        content: \"counter(list-9, decimal) '. '\",\n    },\n    '.ql-editor .ql-indent-1:not(.ql-direction-rtl)': {\n        paddingLeft: '3em',\n    },\n    '.ql-editor li.ql-indent-1:not(.ql-direction-rtl)': {\n        paddingLeft: '4.5em',\n    },\n    '.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right': {\n        paddingRight: '3em',\n    },\n    '.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right': {\n        paddingRight: '4.5em',\n    },\n    '.ql-editor .ql-indent-2:not(.ql-direction-rtl)': {\n        paddingLeft: '6em',\n    },\n    '.ql-editor li.ql-indent-2:not(.ql-direction-rtl)': {\n        paddingLeft: '7.5em',\n    },\n    '.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right': {\n        paddingRight: '6em',\n    },\n    '.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right': {\n        paddingRight: '7.5em',\n    },\n    '.ql-editor .ql-indent-3:not(.ql-direction-rtl)': {\n        paddingLeft: '9em',\n    },\n    '.ql-editor li.ql-indent-3:not(.ql-direction-rtl)': {\n        paddingLeft: '10.5em',\n    },\n    '.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right': {\n        paddingRight: '9em',\n    },\n    '.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right': {\n        paddingRight: '10.5em',\n    },\n    '.ql-editor .ql-indent-4:not(.ql-direction-rtl)': {\n        paddingLeft: '12em',\n    },\n    '.ql-editor li.ql-indent-4:not(.ql-direction-rtl)': {\n        paddingLeft: '13.5em',\n    },\n    '.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right': {\n        paddingRight: '12em',\n    },\n    '.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right': {\n        paddingRight: '13.5em',\n    },\n    '.ql-editor .ql-indent-5:not(.ql-direction-rtl)': {\n        paddingLeft: '15em',\n    },\n    '.ql-editor li.ql-indent-5:not(.ql-direction-rtl)': {\n        paddingLeft: '16.5em',\n    },\n    '.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right': {\n        paddingRight: '15em',\n    },\n    '.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right': {\n        paddingRight: '16.5em',\n    },\n    '.ql-editor .ql-indent-6:not(.ql-direction-rtl)': {\n        paddingLeft: '18em',\n    },\n    '.ql-editor li.ql-indent-6:not(.ql-direction-rtl)': {\n        paddingLeft: '19.5em',\n    },\n    '.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right': {\n        paddingRight: '18em',\n    },\n    '.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right': {\n        paddingRight: '19.5em',\n    },\n    '.ql-editor .ql-indent-7:not(.ql-direction-rtl)': {\n        paddingLeft: '21em',\n    },\n    '.ql-editor li.ql-indent-7:not(.ql-direction-rtl)': {\n        paddingLeft: '22.5em',\n    },\n    '.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right': {\n        paddingRight: '21em',\n    },\n    '.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right': {\n        paddingRight: '22.5em',\n    },\n    '.ql-editor .ql-indent-8:not(.ql-direction-rtl)': {\n        paddingLeft: '24em',\n    },\n    '.ql-editor li.ql-indent-8:not(.ql-direction-rtl)': {\n        paddingLeft: '25.5em',\n    },\n    '.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right': {\n        paddingRight: '24em',\n    },\n    '.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right': {\n        paddingRight: '25.5em',\n    },\n    '.ql-editor .ql-indent-9:not(.ql-direction-rtl)': {\n        paddingLeft: '27em',\n    },\n    '.ql-editor li.ql-indent-9:not(.ql-direction-rtl)': {\n        paddingLeft: '28.5em',\n    },\n    '.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right': {\n        paddingRight: '27em',\n    },\n    '.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right': {\n        paddingRight: '28.5em',\n    },\n    '.ql-editor .ql-video': {\n        display: 'block',\n        maxWidth: '100%',\n    },\n    '.ql-editor .ql-video.ql-align-center': {\n        margin: '0 auto',\n    },\n    '.ql-editor .ql-video.ql-align-right': {\n        margin: '0 0 0 auto',\n    },\n    '.ql-editor .ql-bg-black': {\n        backgroundColor: '#000',\n    },\n    '.ql-editor .ql-bg-red': {\n        backgroundColor: '#e60000',\n    },\n    '.ql-editor .ql-bg-orange': {\n        backgroundColor: '#f90',\n    },\n    '.ql-editor .ql-bg-yellow': {\n        backgroundColor: '#ff0',\n    },\n    '.ql-editor .ql-bg-green': {\n        backgroundColor: '#008a00',\n    },\n    '.ql-editor .ql-bg-blue': {\n        backgroundColor: '#06c',\n    },\n    '.ql-editor .ql-bg-purple': {\n        backgroundColor: '#93f',\n    },\n    '.ql-editor .ql-color-white': {\n        color: '#fff',\n    },\n    '.ql-editor .ql-color-red': {\n        color: '#e60000',\n    },\n    '.ql-editor .ql-color-orange': {\n        color: '#f90',\n    },\n    '.ql-editor .ql-color-yellow': {\n        color: '#ff0',\n    },\n    '.ql-editor .ql-color-green': {\n        color: '#008a00',\n    },\n    '.ql-editor .ql-color-blue': {\n        color: '#06c',\n    },\n    '.ql-editor .ql-color-purple': {\n        color: '#93f',\n    },\n    '.ql-editor .ql-font-serif': {\n        fontFamily: 'Georgia, Times New Roman, serif',\n    },\n    '.ql-editor .ql-font-monospace': {\n        fontFamily: 'Monaco, Courier New, monospace',\n    },\n    '.ql-editor .ql-size-small': {\n        fontSize: '0.75em',\n    },\n    '.ql-editor .ql-size-large': {\n        fontSize: '1.5em',\n    },\n    '.ql-editor .ql-size-huge': {\n        fontSize: '2.5em',\n    },\n    '.ql-editor .ql-direction-rtl': {\n        direction: 'rtl',\n        textAlign: 'inherit',\n    },\n    '.ql-editor .ql-align-center': {\n        textAlign: 'center',\n    },\n    '.ql-editor .ql-align-justify': {\n        textAlign: 'justify',\n    },\n    '.ql-editor .ql-align-right': {\n        textAlign: 'right',\n    },\n    '.ql-editor.ql-blank::before': {\n        color: 'rgba(0,0,0,0.6)',\n        content: 'attr(data-placeholder)',\n        fontStyle: 'italic',\n        left: 15,\n        pointerEvents: 'none',\n        position: 'absolute',\n        right: 15,\n    },\n    '.ql-snow.ql-toolbar:after, .ql-snow .ql-toolbar:after': {\n        clear: 'both',\n        content: \"''\",\n        display: 'table',\n    },\n    '.ql-snow.ql-toolbar button, .ql-snow .ql-toolbar button': {\n        background: 'none',\n        border: 'none',\n        cursor: 'pointer',\n        display: 'inline-block',\n        float: 'left',\n        height: 24,\n        padding: '3px 5px',\n        width: 28,\n    },\n    '.ql-snow.ql-toolbar button svg, .ql-snow .ql-toolbar button svg': {\n        float: 'left',\n        height: '100%',\n    },\n    '.ql-snow.ql-toolbar button:active:hover, .ql-snow .ql-toolbar button:active:hover': {\n        outline: 'none',\n    },\n    '.ql-snow.ql-toolbar input.ql-image[type=file], .ql-snow .ql-toolbar input.ql-image[type=file]': {\n        display: 'none',\n    },\n    '.ql-snow.ql-toolbar button:hover, .ql-snow .ql-toolbar button:hover, .ql-snow.ql-toolbar button:focus, .ql-snow .ql-toolbar button:focus, .ql-snow.ql-toolbar button.ql-active, .ql-snow .ql-toolbar button.ql-active, .ql-snow.ql-toolbar .ql-picker-label:hover, .ql-snow .ql-toolbar .ql-picker-label:hover, .ql-snow.ql-toolbar .ql-picker-label.ql-active, .ql-snow .ql-toolbar .ql-picker-label.ql-active, .ql-snow.ql-toolbar .ql-picker-item:hover, .ql-snow .ql-toolbar .ql-picker-item:hover, .ql-snow.ql-toolbar .ql-picker-item.ql-selected, .ql-snow .ql-toolbar .ql-picker-item.ql-selected': {\n        color: '#06c',\n    },\n    '.ql-snow.ql-toolbar button:hover .ql-fill, .ql-snow .ql-toolbar button:hover .ql-fill, .ql-snow.ql-toolbar button:focus .ql-fill, .ql-snow .ql-toolbar button:focus .ql-fill, .ql-snow.ql-toolbar button.ql-active .ql-fill, .ql-snow .ql-toolbar button.ql-active .ql-fill, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill, .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill, .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill, .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill': {\n        fill: '#06c',\n    },\n    '.ql-snow.ql-toolbar button:hover .ql-stroke, .ql-snow .ql-toolbar button:hover .ql-stroke, .ql-snow.ql-toolbar button:focus .ql-stroke, .ql-snow .ql-toolbar button:focus .ql-stroke, .ql-snow.ql-toolbar button.ql-active .ql-stroke, .ql-snow .ql-toolbar button.ql-active .ql-stroke, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke, .ql-snow.ql-toolbar button:hover .ql-stroke-miter, .ql-snow .ql-toolbar button:hover .ql-stroke-miter, .ql-snow.ql-toolbar button:focus .ql-stroke-miter, .ql-snow .ql-toolbar button:focus .ql-stroke-miter, .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter, .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter, .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter, .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter': {\n        stroke: '#06c',\n    },\n    '@media (pointer: coarse)': {\n        '.ql-snow.ql-toolbar button:hover:not(.ql-active), .ql-snow .ql-toolbar button:hover:not(.ql-active)': {\n            color: '#444',\n        },\n        '.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill, .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill': {\n            fill: '#444',\n        },\n        '.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke, .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter, .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter': {\n            stroke: '#444',\n        },\n    },\n    '.ql-snow': {\n        boxSizing: 'border-box',\n    },\n    '.ql-snow *': {\n        boxSizing: 'border-box',\n    },\n    '.ql-snow .ql-hidden': {\n        display: 'none',\n    },\n    '.ql-snow .ql-out-bottom, .ql-snow .ql-out-top': {\n        visibility: 'hidden',\n    },\n    '.ql-snow .ql-tooltip': {\n        position: 'absolute',\n        transform: 'translateY(10px)',\n        backgroundColor: '#fff',\n        border: '1px solid #ccc',\n        boxShadow: '0px 0px 5px #ddd',\n        color: '#444',\n        padding: '5px 12px',\n        whiteSpace: 'nowrap',\n        zIndex: 1,\n    },\n    '.ql-snow .ql-tooltip a': {\n        cursor: 'pointer',\n        textDecoration: 'none',\n        lineHeight: '26px',\n    },\n    '.ql-snow .ql-tooltip.ql-flip': {\n        transform: 'translateY(-10px)',\n    },\n    '.ql-snow .ql-formats': {\n        display: 'inline-block',\n        verticalAlign: 'middle',\n    },\n    '.ql-snow .ql-formats:after': {\n        clear: 'both',\n        content: \"''\",\n        display: 'table',\n    },\n    '.ql-snow .ql-stroke': {\n        fill: 'none',\n        stroke: '#444',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeWidth: '2',\n    },\n    '.ql-snow .ql-stroke-miter': {\n        fill: 'none',\n        stroke: '#444',\n        strokeMiterlimit: 10,\n        strokeWidth: '2',\n    },\n    '.ql-snow .ql-fill, .ql-snow .ql-stroke.ql-fill': {\n        fill: '#444',\n    },\n    '.ql-snow .ql-empty': {\n        fill: 'none',\n    },\n    '.ql-snow .ql-even': {\n        fillRule: 'evenodd',\n    },\n    '.ql-snow .ql-thin, .ql-snow .ql-stroke.ql-thin': {\n        strokeWidth: '1',\n    },\n    '.ql-snow .ql-transparent': {\n        opacity: 0.4,\n    },\n    '.ql-snow .ql-direction svg:last-child': {\n        display: 'none',\n    },\n    '.ql-snow .ql-direction.ql-active svg:last-child': {\n        display: 'inline',\n    },\n    '.ql-snow .ql-direction.ql-active svg:first-child': {\n        display: 'none',\n    },\n    '.ql-snow .ql-editor h1': {\n        fontSize: '2em',\n    },\n    '.ql-snow .ql-editor h2': {\n        fontSize: '1.5em',\n    },\n    '.ql-snow .ql-editor h3': {\n        fontSize: '1.17em',\n    },\n    '.ql-snow .ql-editor h4': {\n        fontSize: '1em',\n    },\n    '.ql-snow .ql-editor h5': {\n        fontSize: '0.83em',\n    },\n    '.ql-snow .ql-editor h6': {\n        fontSize: '0.67em',\n    },\n    '.ql-snow .ql-editor a': {\n        textDecoration: 'underline',\n    },\n    '.ql-snow .ql-editor blockquote': {\n        borderLeft: '4px solid #ccc',\n        marginBottom: 5,\n        marginTop: 5,\n        paddingLeft: 16,\n    },\n    '.ql-snow .ql-editor code, .ql-snow .ql-editor pre': {\n        backgroundColor: '#f0f0f0',\n        borderRadius: 3,\n    },\n    '.ql-snow .ql-editor pre': {\n        whiteSpace: 'pre-wrap',\n        marginBottom: 5,\n        marginTop: 5,\n        padding: '5px 10px',\n    },\n    '.ql-snow .ql-editor code': {\n        fontSize: '85%',\n        padding: '2px 4px',\n    },\n    '.ql-snow .ql-editor pre.ql-syntax': {\n        backgroundColor: '#23241f',\n        color: '#f8f8f2',\n        overflow: 'visible',\n    },\n    '.ql-snow .ql-editor img': {\n        maxWidth: '100%',\n    },\n    '.ql-snow .ql-picker': {\n        color: '#444',\n        display: 'inline-block',\n        float: 'left',\n        fontSize: 14,\n        fontWeight: 500,\n        height: 24,\n        position: 'relative',\n        verticalAlign: 'middle',\n    },\n    '.ql-snow .ql-picker-label': {\n        cursor: 'pointer',\n        display: 'inline-block',\n        height: '100%',\n        paddingLeft: 8,\n        paddingRight: 2,\n        position: 'relative',\n        width: '100%',\n    },\n    '.ql-snow .ql-picker-label::before': {\n        display: 'inline-block',\n        lineHeight: '22px',\n    },\n    '.ql-snow .ql-picker-options': {\n        backgroundColor: '#fff',\n        display: 'none',\n        minWidth: '100%',\n        padding: '4px 8px',\n        position: 'absolute',\n        whiteSpace: 'nowrap',\n    },\n    '.ql-snow .ql-picker-options .ql-picker-item': {\n        cursor: 'pointer',\n        display: 'block',\n        paddingBottom: 5,\n        paddingTop: 5,\n    },\n    '.ql-snow .ql-picker.ql-expanded .ql-picker-label': {\n        color: '#ccc',\n        zIndex: 2,\n    },\n    '.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill': {\n        fill: '#ccc',\n    },\n    '.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke': {\n        stroke: '#ccc',\n    },\n    '.ql-snow .ql-picker.ql-expanded .ql-picker-options': {\n        display: 'block',\n        marginTop: -1,\n        top: '100%',\n        zIndex: 1,\n    },\n    '.ql-snow .ql-color-picker, .ql-snow .ql-icon-picker': {\n        width: 28,\n    },\n    '.ql-snow .ql-color-picker .ql-picker-label, .ql-snow .ql-icon-picker .ql-picker-label': {\n        padding: '2px 4px',\n    },\n    '.ql-snow .ql-color-picker .ql-picker-label svg, .ql-snow .ql-icon-picker .ql-picker-label svg': {\n        right: 4,\n    },\n    '.ql-snow .ql-icon-picker .ql-picker-options': {\n        padding: '4px 0px',\n    },\n    '.ql-snow .ql-icon-picker .ql-picker-item': {\n        height: 24,\n        width: 24,\n        padding: '2px 4px',\n    },\n    '.ql-snow .ql-color-picker .ql-picker-options': {\n        padding: '3px 5px',\n        width: 152,\n    },\n    '.ql-snow .ql-color-picker .ql-picker-item': {\n        border: '1px solid transparent',\n        float: 'left',\n        height: 16,\n        margin: 2,\n        padding: 0,\n        width: 16,\n    },\n    '.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg': {\n        position: 'absolute',\n        marginTop: -9,\n        right: '0',\n        top: '50%',\n        width: 18,\n    },\n    \".ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before\": {\n        content: 'attr(data-label)',\n    },\n    '.ql-snow .ql-picker.ql-header': {\n        width: 98,\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label::before, .ql-snow .ql-picker.ql-header .ql-picker-item::before': {\n        content: \"'Normal'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before': {\n        content: \"'Heading 1'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before': {\n        content: \"'Heading 2'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before': {\n        content: \"'Heading 3'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before': {\n        content: \"'Heading 4'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before': {\n        content: \"'Heading 5'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before': {\n        content: \"'Heading 6'\",\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before': {\n        fontSize: '2em',\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before': {\n        fontSize: '1.5em',\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before': {\n        fontSize: '1.17em',\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before': {\n        fontSize: '1em',\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before': {\n        fontSize: '0.83em',\n    },\n    '.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before': {\n        fontSize: '0.67em',\n    },\n    '.ql-snow .ql-picker.ql-font': {\n        width: 108,\n    },\n    '.ql-snow .ql-picker.ql-font .ql-picker-label::before, .ql-snow .ql-picker.ql-font .ql-picker-item::before': {\n        content: \"'Sans Serif'\",\n    },\n    '.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before, .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before': {\n        content: \"'Serif'\",\n    },\n    '.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before, .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before': {\n        content: \"'Monospace'\",\n    },\n    '.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before': {\n        fontFamily: 'Georgia, Times New Roman, serif',\n    },\n    '.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before': {\n        fontFamily: 'Monaco, Courier New, monospace',\n    },\n    '.ql-snow .ql-picker.ql-size': {\n        width: 98,\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-label::before, .ql-snow .ql-picker.ql-size .ql-picker-item::before': {\n        content: \"'Normal'\",\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before': {\n        content: \"'Small'\",\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before': {\n        content: \"'Large'\",\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before, .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before': {\n        content: \"'Huge'\",\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before': {\n        fontSize: 10,\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before': {\n        fontSize: 18,\n    },\n    '.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before': {\n        fontSize: 32,\n    },\n    '.ql-snow .ql-color-picker.ql-background .ql-picker-item': {\n        backgroundColor: '#fff',\n    },\n    '.ql-snow .ql-color-picker.ql-color .ql-picker-item': {\n        backgroundColor: '#000',\n    },\n    '.ql-toolbar.ql-snow': {\n        border: '1px solid #ccc',\n        boxSizing: 'border-box',\n        fontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n        padding: 8,\n    },\n    '.ql-toolbar.ql-snow .ql-formats': {\n        marginRight: 15,\n    },\n    '.ql-toolbar.ql-snow .ql-picker-label': {\n        border: '1px solid transparent',\n    },\n    '.ql-toolbar.ql-snow .ql-picker-options': {\n        border: '1px solid transparent',\n        boxShadow: 'rgba(0,0,0,0.2) 0 2px 8px',\n    },\n    '.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label': {\n        borderColor: '#ccc',\n    },\n    '.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options': {\n        borderColor: '#ccc',\n    },\n    '.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected, .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover': {\n        borderColor: '#000',\n    },\n    '.ql-toolbar.ql-snow + .ql-container.ql-snow': {\n        borderTop: 0,\n    },\n    '.ql-snow .ql-tooltip::before': {\n        content: '\"Visit URL:\"',\n        lineHeight: '26px',\n        marginRight: 8,\n    },\n    '.ql-snow .ql-tooltip input[type=text]': {\n        display: 'none',\n        border: '1px solid #ccc',\n        fontSize: 13,\n        height: 26,\n        margin: 0,\n        padding: '3px 5px',\n        width: 170,\n    },\n    '.ql-snow .ql-tooltip a.ql-preview': {\n        display: 'inline-block',\n        maxWidth: 200,\n        overflowX: 'hidden',\n        textOverflow: 'ellipsis',\n        verticalAlign: 'top',\n    },\n    '.ql-snow .ql-tooltip a.ql-action::after': {\n        borderRight: '1px solid #ccc',\n        content: \"'Edit'\",\n        marginLeft: 16,\n        paddingRight: 8,\n    },\n    '.ql-snow .ql-tooltip a.ql-remove::before': {\n        content: \"'Remove'\",\n        marginLeft: 8,\n    },\n    '.ql-snow .ql-tooltip.ql-editing a.ql-preview, .ql-snow .ql-tooltip.ql-editing a.ql-remove': {\n        display: 'none',\n    },\n    '.ql-snow .ql-tooltip.ql-editing input[type=text]': {\n        display: 'inline-block',\n    },\n    '.ql-snow .ql-tooltip.ql-editing a.ql-action::after': {\n        borderRight: 0,\n        content: \"'Save'\",\n        paddingRight: 0,\n    },\n    '.ql-snow .ql-tooltip[data-mode=link]::before': {\n        content: '\"Enter link:\"',\n    },\n    '.ql-snow .ql-tooltip[data-mode=formula]::before': {\n        content: '\"Enter formula:\"',\n    },\n    '.ql-snow .ql-tooltip[data-mode=video]::before': {\n        content: '\"Enter video:\"',\n    },\n    '.ql-snow a': {\n        color: '#06c',\n    },\n    '.ql-container.ql-snow': {\n        border: '1px solid #ccc',\n    },\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport QuillSnowStylesheet from './QuillSnowStylesheet';\nexport default (function (theme) { return ({\n    label: {\n        position: 'relative',\n    },\n    '@global': __assign(__assign({}, QuillSnowStylesheet), { '.ra-rich-text-input': {\n            '& .ql-editor': {\n                fontSize: '1rem',\n                fontFamily: 'Roboto, sans-serif',\n                padding: '6px 12px',\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&:hover::before': {\n                    backgroundColor: 'rgba(0, 0, 0, 1)',\n                    height: 2,\n                },\n                '&::before': {\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    height: 1,\n                    content: '\"\"',\n                    position: 'absolute',\n                    transition: 'background-color 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n                    backgroundColor: 'rgba(0, 0, 0, 0.42)',\n                },\n                '&::after': {\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    height: 2,\n                    content: '\"\"',\n                    position: 'absolute',\n                    transform: 'scaleX(0)',\n                    transition: 'transform 200ms cubic-bezier(0, 0, 0.2, 1) 0ms',\n                    backgroundColor: theme.palette.primary.main,\n                },\n                '& p:not(:last-child)': {\n                    marginBottom: '1rem',\n                },\n                '& strong': {\n                    fontWeight: 700,\n                },\n                '& h1': {\n                    margin: '1rem 0 0.5rem 0',\n                    fontWeight: 500,\n                },\n                '& h2': {\n                    margin: '1rem 0 0.5rem 0',\n                    fontWeight: 500,\n                },\n                '& h3': {\n                    margin: '1rem 0 0.5rem 0',\n                    fontWeight: 500,\n                },\n                '& a': {\n                    color: theme.palette.primary.main,\n                },\n                '& ul': {\n                    marginBottom: '1rem',\n                },\n                '& li:not(.ql-direction-rtl)::before': {\n                    fontSize: '0.5rem',\n                    position: 'relative',\n                    top: '-0.2rem',\n                    marginRight: '0.5rem',\n                },\n                '&:focus::after': {\n                    transform: 'scaleX(1)',\n                },\n            },\n            '& .standard .ql-editor': {\n                backgroundColor: theme.palette.background.paper,\n            },\n            '& .outlined .ql-editor': {\n                backgroundColor: theme.palette.background.paper,\n            },\n            '& .ql-toolbar.ql-snow': {\n                margin: '0.5rem 0',\n                border: 0,\n                padding: 0,\n                '& .ql-picker-item': {\n                    color: theme.palette.text.primary,\n                },\n                '& .ql-stroke': {\n                    stroke: theme.palette.text.primary,\n                },\n                '& .ql-fill': {\n                    fill: theme.palette.text.primary,\n                },\n                '& .ql-picker-item.ql-active': {\n                    color: theme.palette.primary.main,\n                },\n                '& .ql-picker-item:hover': {\n                    color: theme.palette.primary.main,\n                },\n                '& .ql-picker-item.ql-selected': {\n                    color: theme.palette.primary.main,\n                },\n                '& .ql-picker-label.ql-active': {\n                    color: theme.palette.primary.main,\n                },\n                '& .ql-picker-label.ql-selected': {\n                    color: theme.palette.primary.main,\n                },\n                '& .ql-picker-label:hover': {\n                    color: theme.palette.primary.main,\n                },\n                '& button:hover .ql-fill': {\n                    fill: theme.palette.primary.main,\n                },\n                '& button.ql-active .ql-fill': {\n                    fill: theme.palette.primary.main,\n                },\n                '& button:hover .ql-stroke': {\n                    stroke: theme.palette.primary.main,\n                },\n                '& button.ql-active .ql-stroke': {\n                    stroke: theme.palette.primary.main,\n                },\n                '& .ql-picker-label:hover .ql-stroke': {\n                    stroke: theme.palette.primary.main,\n                },\n                '& .ql-picker.ql-expanded .ql-picker-options': {\n                    backgroundColor: theme.palette.background.paper,\n                    borderColor: theme.palette.background.paper,\n                },\n                '& .ql-snow .ql-picker.ql-expanded .ql-picker-options': {\n                    background: '#fff',\n                    zIndex: 10,\n                },\n                '& .ql-picker-label': {\n                    paddingLeft: 0,\n                    color: theme.palette.text.primary,\n                },\n                '& + .ql-container.ql-snow': {\n                    border: 0,\n                },\n            },\n        } }),\n}); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport debounce from 'lodash/debounce';\nimport React, { useRef, useEffect, useCallback, } from 'react';\nimport Quill from 'quill';\nimport { useInput, FieldTitle } from 'ra-core';\nimport { InputHelperText } from 'ra-ui-materialui';\nimport { FormHelperText, FormControl, InputLabel, makeStyles, } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport styles from './styles';\nvar useStyles = makeStyles(styles, { name: 'RaRichTextInput' });\nvar RichTextInput = function (props) {\n    var _a = props.options, options = _a === void 0 ? {} : _a, // Quill editor options\n    _b = props.toolbar, // Quill editor options\n    toolbar = _b === void 0 ? true : _b, _c = props.fullWidth, fullWidth = _c === void 0 ? true : _c, classesOverride = props.classes, configureQuill = props.configureQuill, helperText = props.helperText, label = props.label, source = props.source, resource = props.resource, variant = props.variant, _d = props.margin, margin = _d === void 0 ? 'dense' : _d, rest = __rest(props, [\"options\", \"toolbar\", \"fullWidth\", \"classes\", \"configureQuill\", \"helperText\", \"label\", \"source\", \"resource\", \"variant\", \"margin\"]);\n    var classes = useStyles(props);\n    var quillInstance = useRef();\n    var divRef = useRef();\n    var editor = useRef();\n    var _e = useInput(__assign({ source: source }, rest)), id = _e.id, isRequired = _e.isRequired, _f = _e.input, value = _f.value, onChange = _f.onChange, _g = _e.meta, touched = _g.touched, error = _g.error;\n    var lastValueChange = useRef(value);\n    var onTextChange = useCallback(debounce(function () {\n        var value = editor.current.innerHTML === '<p><br></p>'\n            ? ''\n            : editor.current.innerHTML;\n        lastValueChange.current = value;\n        onChange(value);\n    }, 500), []);\n    useEffect(function () {\n        quillInstance.current = new Quill(divRef.current, __assign({ modules: { toolbar: toolbar, clipboard: { matchVisual: false } }, theme: 'snow' }, options));\n        if (configureQuill) {\n            configureQuill(quillInstance.current);\n        }\n        quillInstance.current.setContents(quillInstance.current.clipboard.convert(value));\n        editor.current = divRef.current.querySelector('.ql-editor');\n        quillInstance.current.on('text-change', onTextChange);\n        return function () {\n            quillInstance.current.off('text-change', onTextChange);\n            onTextChange.cancel();\n            quillInstance.current = null;\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    useEffect(function () {\n        if (lastValueChange.current !== value) {\n            var selection = quillInstance.current.getSelection();\n            quillInstance.current.setContents(quillInstance.current.clipboard.convert(value));\n            if (selection && quillInstance.current.hasFocus()) {\n                quillInstance.current.setSelection(selection);\n            }\n        }\n    }, [value]);\n    return (React.createElement(FormControl, { error: !!(touched && error), fullWidth: fullWidth, className: \"ra-rich-text-input\", margin: margin },\n        label !== '' && label !== false && (React.createElement(InputLabel, { shrink: true, htmlFor: id, className: classes.label },\n            React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }))),\n        React.createElement(\"div\", { \"data-testid\": \"quill\", ref: divRef, className: variant }),\n        React.createElement(FormHelperText, { error: !!error, className: !!error ? 'ra-rich-text-input-error' : '' },\n            React.createElement(InputHelperText, { error: error, helperText: helperText, touched: touched }))));\n};\nRichTextInput.propTypes = {\n    label: PropTypes.string,\n    options: PropTypes.object,\n    source: PropTypes.string,\n    fullWidth: PropTypes.bool,\n    configureQuill: PropTypes.func,\n};\nexport default RichTextInput;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    root: { display: 'inline-block', marginTop: '1em', zIndex: 2 },\n    content: { padding: 0, '&:last-child': { padding: 0 } },\n    img: {\n        width: 'initial',\n        minWidth: 'initial',\n        maxWidth: '42em',\n        maxHeight: '15em',\n    },\n});\n\nconst Poster = ({ record }) => {\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <CardContent className={classes.content}>\n                <img src={record.image} alt=\"\" className={classes.img} />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Poster;\n","import React from 'react';\nimport {\n    Create,\n    FormTab,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    TabbedForm,\n    TextInput,\n    required,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nexport const styles = {\n    price: { width: '7em' },\n    width: { width: '7em' },\n    height: { width: '7em' },\n    stock: { width: '7em' },\n    widthFormGroup: { display: 'inline-block' },\n    heightFormGroup: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst ProductCreate = props => {\n    const classes = useStyles();\n    return (\n        <Create {...props}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <TextInput\n                        autoFocus\n                        source=\"image\"\n                        fullWidth\n                        validate={required()}\n                    />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={required()}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput source=\"reference\" validate={required()} />\n                    <NumberInput\n                        source=\"price\"\n                        validate={required()}\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    €\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        validate={required()}\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        validate={required()}\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        allowEmpty\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        validate={required()}\n                        className={classes.stock}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <RichTextInput source=\"description\" label=\"\" />\n                </FormTab>\n            </TabbedForm>\n        </Create>\n    );\n};\n\nexport default ProductCreate;\n","import React from 'react';\nimport {\n    Datagrid,\n    DateField,\n    Edit,\n    EditButton,\n    FormTab,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    ReferenceManyField,\n    SelectInput,\n    TabbedForm,\n    TextField,\n    TextInput,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport Poster from './Poster';\nimport { styles as createStyles } from './ProductCreate';\n\nconst ProductTitle = ({ record }) => <span>Poster #{record.reference}</span>;\n\nconst styles = {\n    ...createStyles,\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst ProductEdit = props => {\n    const classes = useStyles();\n    return (\n        <Edit {...props} title={<ProductTitle />}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <Poster />\n                    <TextInput source=\"image\" fullWidth />\n                    <TextInput source=\"thumbnail\" fullWidth />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput source=\"reference\" />\n                    <NumberInput\n                        source=\"price\"\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    €\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput source=\"category_id\" reference=\"categories\">\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput source=\"stock\" className={classes.stock} />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <RichTextInput source=\"description\" label=\"\" />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.reviews\" path=\"reviews\">\n                    <ReferenceManyField\n                        reference=\"reviews\"\n                        target=\"product_id\"\n                        addLabel={false}\n                        pagination={<Pagination />}\n                        fullWidth\n                    >\n                        <Datagrid>\n                            <DateField source=\"date\" />\n                            <CustomerReferenceField />\n                            <StarRatingField />\n                            <TextField\n                                source=\"comment\"\n                                cellClassName={classes.comment}\n                            />\n                            <TextField source=\"status\" />\n                            <EditButton />\n                        </Datagrid>\n                    </ReferenceManyField>\n                </FormTab>\n            </TabbedForm>\n        </Edit>\n    );\n};\n\nexport default ProductEdit;\n","import ProductIcon from '@material-ui/icons/Collections';\nimport ProductList from './ProductList';\nimport ProductEdit from './ProductEdit';\nimport ProductCreate from './ProductCreate';\n\nexport default {\n    list: ProductList,\n    create: ProductCreate,\n    edit: ProductEdit,\n    icon: ProductIcon,\n};\n","import React, { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport products from '../products';\nimport { FieldProps, Category } from '../types';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedProducts: FC<FieldProps<Category>> = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return record ? (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/products',\n                search: stringify({\n                    page: 1,\n                    perPage: 25,\n                    sort: 'id',\n                    order: 'DESC',\n                    filter: JSON.stringify({ category_id: record.id }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <products.icon className={classes.icon} />\n            {translate('resources.categories.fields.products')}\n        </Button>\n    ) : null;\n};\n\nexport default LinkToRelatedProducts;\n","import React from 'react';\nimport { Datagrid, EditButton, List, TextField } from 'react-admin';\n\nimport LinkToRelatedProducts from './LinkToRelatedProducts';\n\nconst CategoryList = (props: any) => (\n    <List {...props} sort={{ field: 'name', order: 'ASC' }}>\n        <Datagrid>\n            <TextField source=\"name\" />\n            <LinkToRelatedProducts />\n            <EditButton />\n        </Datagrid>\n    </List>\n);\n\nexport default CategoryList;\n","import React, { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { width: 25, maxWidth: 25, maxHeight: 25 },\n});\n\nconst ThumbnailField: FC<FieldProps<Product>> = ({ record }) => {\n    const classes = useStyles();\n    return record ? (\n        <img src={record.thumbnail} className={classes.root} alt=\"\" />\n    ) : null;\n};\n\nexport default ThumbnailField;\n","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FieldProps, Product } from '../types';\n\nconst ProductRefField: FC<FieldProps<Product>> = ({ record }) =>\n    record ? (\n        <Link to={`products/${record.id}`}>{record.reference}</Link>\n    ) : null;\n\nProductRefField.defaultProps = {\n    source: 'id',\n    label: 'Reference',\n};\n\nexport default ProductRefField;\n","import React, { FC } from 'react';\nimport {\n    Datagrid,\n    Edit,\n    EditButton,\n    NumberField,\n    ReferenceManyField,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n} from 'react-admin';\n\nimport ThumbnailField from '../products/ThumbnailField';\nimport ProductRefField from '../products/ProductRefField';\nimport { FieldProps, Category } from '../types';\n\nconst CategoryTitle: FC<FieldProps<Category>> = ({ record }) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.categories.name', { smart_count: 1 })} &quot;\n            {record.name}&quot;\n        </span>\n    ) : null;\n};\n\nconst CategoryEdit = (props: any) => (\n    <Edit title={<CategoryTitle />} {...props}>\n        <SimpleForm>\n            <TextInput source=\"name\" />\n            <ReferenceManyField\n                reference=\"products\"\n                target=\"category_id\"\n                label=\"resources.categories.fields.products\"\n                perPage={5}\n            >\n                <Datagrid>\n                    <ThumbnailField />\n                    <ProductRefField source=\"reference\" />\n                    <NumberField\n                        source=\"price\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <NumberField\n                        source=\"width\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField\n                        source=\"height\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField source=\"stock\" />\n                    <EditButton />\n                </Datagrid>\n            </ReferenceManyField>\n        </SimpleForm>\n    </Edit>\n);\n\nexport default CategoryEdit;\n","import CategoryIcon from '@material-ui/icons/Bookmark';\n\nimport CategoryList from './CategoryList';\nimport CategoryEdit from './CategoryEdit';\n\nexport default {\n    list: CategoryList,\n    edit: CategoryEdit,\n    icon: CategoryIcon,\n};\n","import React, { FC, Fragment, ReactElement } from 'react';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport List from '@material-ui/core/List';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Collapse from '@material-ui/core/Collapse';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\n\nconst useStyles = makeStyles(theme => ({\n    icon: { minWidth: theme.spacing(5) },\n    sidebarIsOpen: {\n        paddingLeft: 25,\n        transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n    },\n    sidebarIsClosed: {\n        paddingLeft: 0,\n        transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n    },\n}));\n\ninterface Props {\n    dense: boolean;\n    handleToggle: () => void;\n    icon: ReactElement;\n    isOpen: boolean;\n    name: string;\n    sidebarIsOpen: boolean;\n}\n\nconst SubMenu: FC<Props> = ({\n    handleToggle,\n    sidebarIsOpen,\n    isOpen,\n    name,\n    icon,\n    children,\n    dense,\n}) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    const header = (\n        <MenuItem dense={dense} button onClick={handleToggle}>\n            <ListItemIcon className={classes.icon}>\n                {isOpen ? <ExpandMore /> : icon}\n            </ListItemIcon>\n            <Typography variant=\"inherit\" color=\"textSecondary\">\n                {translate(name)}\n            </Typography>\n        </MenuItem>\n    );\n\n    return (\n        <Fragment>\n            {sidebarIsOpen || isOpen ? (\n                header\n            ) : (\n                <Tooltip title={translate(name)} placement=\"right\">\n                    {header}\n                </Tooltip>\n            )}\n            <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\n                <List\n                    dense={dense}\n                    component=\"div\"\n                    disablePadding\n                    className={\n                        sidebarIsOpen\n                            ? classes.sidebarIsOpen\n                            : classes.sidebarIsClosed\n                    }\n                >\n                    {children}\n                </List>\n                <Divider />\n            </Collapse>\n        </Fragment>\n    );\n};\n\nexport default SubMenu;\n","import React, { FC, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport LabelIcon from '@material-ui/icons/Label';\nimport { useMediaQuery, Theme } from '@material-ui/core';\nimport { useTranslate, DashboardMenuItem, MenuItemLink } from 'react-admin';\n\nimport visitors from '../visitors';\nimport orders from '../orders';\nimport invoices from '../invoices';\nimport products from '../products';\nimport categories from '../categories';\nimport reviews from '../reviews';\nimport SubMenu from './SubMenu';\nimport { AppState } from '../types';\n\ntype MenuName = 'menuCatalog' | 'menuSales' | 'menuCustomers';\n\ninterface Props {\n    dense: boolean;\n    logout: () => void;\n    onMenuClick: () => void;\n}\n\nconst Menu: FC<Props> = ({ onMenuClick, dense, logout }) => {\n    const [state, setState] = useState({\n        menuCatalog: false,\n        menuSales: false,\n        menuCustomers: false,\n    });\n    const translate = useTranslate();\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n    const open = useSelector((state: AppState) => state.admin.ui.sidebarOpen);\n    useSelector((state: AppState) => state.theme); // force rerender on theme change\n\n    const handleToggle = (menu: MenuName) => {\n        setState(state => ({ ...state, [menu]: !state[menu] }));\n    };\n\n    return (\n        <div>\n            {' '}\n            <DashboardMenuItem onClick={onMenuClick} sidebarIsOpen={open} />\n            <SubMenu\n                handleToggle={() => handleToggle('menuSales')}\n                isOpen={state.menuSales}\n                sidebarIsOpen={open}\n                name=\"pos.menu.sales\"\n                icon={<orders.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={`/commands`}\n                    primaryText={translate(`resources.commands.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<orders.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={`/invoices`}\n                    primaryText={translate(`resources.invoices.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<invoices.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            </SubMenu>\n            <SubMenu\n                handleToggle={() => handleToggle('menuCatalog')}\n                isOpen={state.menuCatalog}\n                sidebarIsOpen={open}\n                name=\"pos.menu.catalog\"\n                icon={<products.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={`/products`}\n                    primaryText={translate(`resources.products.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<products.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={`/categories`}\n                    primaryText={translate(`resources.categories.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<categories.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            </SubMenu>\n            <SubMenu\n                handleToggle={() => handleToggle('menuCustomers')}\n                isOpen={state.menuCustomers}\n                sidebarIsOpen={open}\n                name=\"pos.menu.customers\"\n                icon={<visitors.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={`/customers`}\n                    primaryText={translate(`resources.customers.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<visitors.icon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={`/segments`}\n                    primaryText={translate(`resources.segments.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<LabelIcon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            </SubMenu>\n            <MenuItemLink\n                to={`/reviews`}\n                primaryText={translate(`resources.reviews.name`, {\n                    smart_count: 2,\n                })}\n                leftIcon={<reviews.icon />}\n                onClick={onMenuClick}\n                sidebarIsOpen={open}\n                dense={dense}\n            />\n            {isXSmall && (\n                <MenuItemLink\n                    to=\"/configuration\"\n                    primaryText={translate('pos.configuration')}\n                    leftIcon={<SettingsIcon />}\n                    onClick={onMenuClick}\n                    sidebarIsOpen={open}\n                    dense={dense}\n                />\n            )}\n            {isXSmall && logout}\n        </div>\n    );\n};\n\nexport default Menu;\n","export const darkTheme = {\n    palette: {\n        primary: {\n            main: '#90caf9',\n        },\n        type: 'dark', // Switching the dark mode on is a single property value change.\n    },\n};\n\nexport const lightTheme = {\n    palette: {\n        secondary: {\n            light: '#5f5fc4',\n            main: '#283593',\n            dark: '#001064',\n            contrastText: '#fff',\n        },\n    },\n    overrides: {\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n    },\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Layout, Sidebar } from 'react-admin';\nimport AppBar from './AppBar';\nimport Menu from './Menu';\nimport { darkTheme, lightTheme } from './themes';\nimport { AppState } from '../types';\n\nconst CustomSidebar = (props: any) => <Sidebar {...props} size={200} />;\n\nexport default (props: any) => {\n    const theme = useSelector((state: AppState) =>\n        state.theme === 'dark' ? darkTheme : lightTheme\n    );\n    return (\n        <Layout\n            {...props}\n            appBar={AppBar}\n            sidebar={CustomSidebar}\n            menu={Menu}\n            theme={theme}\n        />\n    );\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, withTypes } from 'react-final-form';\nimport { useLocation } from 'react-router-dom';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\n\nimport { Notification } from 'react-admin';\nimport { useTranslate, useLogin, useNotify } from 'ra-core';\nimport { lightTheme } from './themes';\n\nconst useStyles = makeStyles(theme => ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        background: 'url(https://source.unsplash.com/random/1600x900)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary.main,\n    },\n    hint: {\n        marginTop: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n        color: theme.palette.grey[500],\n    },\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    actions: {\n        padding: '0 1em 1em 1em',\n    },\n}));\n\nconst renderInput = ({\n    meta: { touched, error } = { touched: false, error: undefined },\n    input: { ...inputProps },\n    ...props\n}) => (\n    <TextField\n        error={!!(touched && error)}\n        helperText={touched && error}\n        {...inputProps}\n        {...props}\n        fullWidth\n    />\n);\n\ninterface FormValues {\n    username?: string;\n    password?: string;\n}\n\nconst { Form } = withTypes<FormValues>();\n\nconst Login = () => {\n    const [loading, setLoading] = useState(false);\n    const translate = useTranslate();\n    const classes = useStyles();\n    const notify = useNotify();\n    const login = useLogin();\n    const location = useLocation<{ nextPathname: string } | null>();\n\n    const handleSubmit = (auth: FormValues) => {\n        setLoading(true);\n        login(auth, location.state ? location.state.nextPathname : '/').catch(\n            (error: Error) => {\n                setLoading(false);\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : typeof error === 'undefined' || !error.message\n                        ? 'ra.auth.sign_in_error'\n                        : error.message,\n                    'warning'\n                );\n            }\n        );\n    };\n\n    const validate = (values: FormValues) => {\n        const errors: FormValues = {};\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n\n    return (\n        <Form\n            onSubmit={handleSubmit}\n            validate={validate}\n            render={({ handleSubmit }) => (\n                <form onSubmit={handleSubmit} noValidate>\n                    <div className={classes.main}>\n                        <Card className={classes.card}>\n                            <div className={classes.avatar}>\n                                <Avatar className={classes.icon}>\n                                    <LockIcon />\n                                </Avatar>\n                            </div>\n                            <div className={classes.hint}>\n                                Hint: demo / demo\n                            </div>\n                            <div className={classes.form}>\n                                <div className={classes.input}>\n                                    <Field\n                                        autoFocus\n                                        name=\"username\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label={translate('ra.auth.username')}\n                                        disabled={loading}\n                                    />\n                                </div>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"password\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label={translate('ra.auth.password')}\n                                        type=\"password\"\n                                        disabled={loading}\n                                    />\n                                </div>\n                            </div>\n                            <CardActions className={classes.actions}>\n                                <Button\n                                    variant=\"contained\"\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={loading}\n                                    fullWidth\n                                >\n                                    {loading && (\n                                        <CircularProgress\n                                            size={25}\n                                            thickness={2}\n                                        />\n                                    )}\n                                    {translate('ra.auth.sign_in')}\n                                </Button>\n                            </CardActions>\n                        </Card>\n                        <Notification />\n                    </div>\n                </form>\n            )}\n        />\n    );\n};\n\nLogin.propTypes = {\n    authProvider: PropTypes.func,\n    previousRoute: PropTypes.string,\n};\n\n// We need to put the ThemeProvider decoration in another component\n// Because otherwise the useStyles() hook used in Login won't get\n// the right theme\nconst LoginWithTheme = (props: any) => (\n    <ThemeProvider theme={createMuiTheme(lightTheme)}>\n        <Login {...props} />\n    </ThemeProvider>\n);\n\nexport default LoginWithTheme;\n","import React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CodeIcon from '@material-ui/icons/Code';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\n\nconst useStyles = makeStyles({\n    media: {\n        height: '18em',\n    },\n});\n\nconst mediaUrl = `https://marmelab.com/posters/beard-${parseInt(\n    (Math.random() * 10).toString(),\n    10\n) + 1}.jpeg`;\n\nconst Welcome: FC = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card>\n            <CardMedia image={mediaUrl} className={classes.media} />\n            <CardContent>\n                <Typography variant=\"h5\" component=\"h2\">\n                    {translate('pos.dashboard.welcome.title')}\n                </Typography>\n                <Typography component=\"p\">\n                    {translate('pos.dashboard.welcome.subtitle')}\n                </Typography>\n            </CardContent>\n            <CardActions style={{ justifyContent: 'flex-end' }}>\n                <Button href=\"https://marmelab.com/react-admin\">\n                    <HomeIcon style={{ paddingRight: '0.5em' }} />\n                    {translate('pos.dashboard.welcome.aor_button')}\n                </Button>\n                <Button href=\"https://github.com/marmelab/react-admin/tree/master/examples/demo\">\n                    <CodeIcon style={{ paddingRight: '0.5em' }} />\n                    {translate('pos.dashboard.welcome.demo_button')}\n                </Button>\n            </CardActions>\n        </Card>\n    );\n};\n\nexport default Welcome;\n","import React, { FC, ComponentType } from 'react';\nimport Card from '@material-ui/core/Card';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { SvgIconProps } from '@material-ui/core/SvgIcon';\n\ninterface Props {\n    bgColor: string;\n    Icon: ComponentType<SvgIconProps>;\n}\n\nconst useStyles = makeStyles({\n    card: {\n        float: 'left',\n        margin: '-20px 20px 0 15px',\n        zIndex: 100,\n        borderRadius: 3,\n    },\n    icon: {\n        float: 'right',\n        width: 54,\n        height: 54,\n        padding: 14,\n        color: '#fff',\n    },\n});\n\nconst CardIcon: FC<Props> = ({ Icon, bgColor }) => {\n    const classes = useStyles();\n    return (\n        <Card className={classes.card} style={{ backgroundColor: bgColor }}>\n            <Icon className={classes.icon} />\n        </Card>\n    );\n};\n\nexport default CardIcon;\n","import React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport DollarIcon from '@material-ui/icons/AttachMoney';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslate } from 'react-admin';\n\nimport CardIcon from './CardIcon';\n\ninterface Props {\n    value?: number;\n}\n\nconst useStyles = makeStyles({\n    main: {\n        flex: '1',\n        marginRight: '1em',\n        marginTop: 20,\n    },\n    card: {\n        overflow: 'inherit',\n        textAlign: 'right',\n        padding: 16,\n        minHeight: 52,\n    },\n    title: {},\n});\n\nconst MonthlyRevenue: FC<Props> = ({ value }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <div className={classes.main}>\n            <CardIcon Icon={DollarIcon} bgColor=\"#31708f\" />\n            <Card className={classes.card}>\n                <Typography className={classes.title} color=\"textSecondary\">\n                    {translate('pos.dashboard.monthly_revenue')}\n                </Typography>\n                <Typography variant=\"h5\" component=\"h2\">\n                    {value}\n                </Typography>\n            </Card>\n        </div>\n    );\n};\n\nexport default MonthlyRevenue;\n","import React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslate } from 'react-admin';\n\nimport CardIcon from './CardIcon';\n\ninterface Props {\n    value?: number;\n}\n\nconst useStyles = makeStyles({\n    main: {\n        flex: '1',\n        marginLeft: '1em',\n        marginTop: 20,\n    },\n    card: {\n        overflow: 'inherit',\n        textAlign: 'right',\n        padding: 16,\n        minHeight: 52,\n    },\n    title: {},\n});\n\nconst NbNewOrders: FC<Props> = ({ value }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <div className={classes.main}>\n            <CardIcon Icon={ShoppingCartIcon} bgColor=\"#ff9800\" />\n            <Card className={classes.card}>\n                <Typography className={classes.title} color=\"textSecondary\">\n                    {translate('pos.dashboard.new_orders')}\n                </Typography>\n                <Typography variant=\"h5\" component=\"h2\">\n                    {value}\n                </Typography>\n            </Card>\n        </div>\n    );\n};\n\nexport default NbNewOrders;\n","import React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { Customer, Order } from '../types';\n\ninterface Props {\n    orders?: Order[];\n    customers?: { [key: string]: Customer };\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flex: 1,\n    },\n    cost: {\n        marginRight: '1em',\n        color: theme.palette.text.primary,\n    },\n}));\n\nconst PendingOrders: FC<Props> = ({ orders = [], customers = {} }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <Card className={classes.root}>\n            <CardHeader title={translate('pos.dashboard.pending_orders')} />\n            <List dense={true}>\n                {orders.map(record => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/commands/${record.id}`}\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={new Date(record.date).toLocaleString(\n                                'en-GB'\n                            )}\n                            secondary={translate('pos.dashboard.order.items', {\n                                smart_count: record.basket.length,\n                                nb_items: record.basket.length,\n                                customer_name: customers[record.customer_id]\n                                    ? `${\n                                          customers[record.customer_id]\n                                              .first_name\n                                      } ${\n                                          customers[record.customer_id]\n                                              .last_name\n                                      }`\n                                    : '',\n                            })}\n                        />\n                        <ListItemSecondaryAction>\n                            <span className={classes.cost}>\n                                {record.total}$\n                            </span>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                ))}\n            </List>\n        </Card>\n    );\n};\n\nexport default PendingOrders;\n","import React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\n\nimport CardIcon from './CardIcon';\n\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Customer, Review } from '../types';\n\ninterface Props {\n    reviews?: Review[];\n    customers?: { [key: string]: Customer };\n    nb?: number;\n}\n\nconst useStyles = makeStyles(theme => ({\n    main: {\n        flex: '1',\n        marginRight: '1em',\n        marginTop: 20,\n    },\n    titleLink: { textDecoration: 'none', color: 'inherit' },\n    card: {\n        padding: '16px 0',\n        overflow: 'inherit',\n        textAlign: 'right',\n    },\n    title: {\n        padding: '0 16px',\n    },\n    value: {\n        padding: '0 16px',\n        minHeight: 48,\n    },\n    avatar: {\n        background: theme.palette.background.paper,\n    },\n    listItemText: {\n        overflowY: 'hidden',\n        height: '4em',\n        display: '-webkit-box',\n        WebkitLineClamp: 2,\n        WebkitBoxOrient: 'vertical',\n    },\n}));\n\nconst location = {\n    pathname: 'reviews',\n    query: { filter: JSON.stringify({ status: 'pending' }) },\n};\n\nconst PendingReviews: FC<Props> = ({ reviews = [], customers = {}, nb }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <div className={classes.main}>\n            <CardIcon Icon={CommentIcon} bgColor=\"#f44336\" />\n            <Card className={classes.card}>\n                <Typography className={classes.title} color=\"textSecondary\">\n                    {translate('pos.dashboard.pending_reviews')}\n                </Typography>\n                <Typography\n                    variant=\"h5\"\n                    component=\"h2\"\n                    className={classes.value}\n                >\n                    <Link to={location} className={classes.titleLink}>\n                        {nb}\n                    </Link>\n                </Typography>\n                <Divider />\n                <List>\n                    {reviews.map((record: Review) => (\n                        <ListItem\n                            key={record.id}\n                            button\n                            component={Link}\n                            to={`/reviews/${record.id}`}\n                            alignItems=\"flex-start\"\n                        >\n                            <ListItemAvatar>\n                                {customers[record.customer_id] ? (\n                                    <Avatar\n                                        src={`${\n                                            customers[record.customer_id].avatar\n                                        }?size=32x32`}\n                                        className={classes.avatar}\n                                    />\n                                ) : (\n                                    <Avatar />\n                                )}\n                            </ListItemAvatar>\n\n                            <ListItemText\n                                primary={\n                                    <StarRatingField\n                                        record={record}\n                                        size=\"small\"\n                                    />\n                                }\n                                secondary={record.comment}\n                                className={classes.listItemText}\n                                style={{ paddingRight: 0 }}\n                            />\n                        </ListItem>\n                    ))}\n                </List>\n            </Card>\n        </div>\n    );\n};\n\nexport default PendingReviews;\n","import React, { useMemo } from 'react';\nimport Card from '@material-ui/core/Card';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport CustomerIcon from '@material-ui/icons/PersonAdd';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, useQueryWithStore } from 'react-admin';\n\nimport CardIcon from './CardIcon';\nimport { Customer } from '../types';\n\nconst useStyles = makeStyles({\n    main: {\n        flex: '1',\n        marginLeft: '1em',\n        marginTop: 20,\n    },\n    card: {\n        padding: '16px 0',\n        overflow: 'inherit',\n        textAlign: 'right',\n    },\n    title: {\n        padding: '0 16px',\n    },\n    value: {\n        padding: '0 16px',\n        minHeight: 48,\n    },\n});\n\nconst NewCustomers = () => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    const aMonthAgo = useMemo(() => {\n        const date = new Date();\n        date.setDate(date.getDate() - 30);\n        date.setHours(0);\n        date.setMinutes(0);\n        date.setSeconds(0);\n        date.setMilliseconds(0);\n        return date;\n    }, []);\n\n    const { loaded, data: visitors } = useQueryWithStore({\n        type: 'getList',\n        resource: 'customers',\n        payload: {\n            filter: {\n                has_ordered: true,\n                first_seen_gte: aMonthAgo.toISOString(),\n            },\n            sort: { field: 'first_seen', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        },\n    });\n\n    if (!loaded) return null;\n\n    const nb = visitors ? visitors.reduce((nb: number) => ++nb, 0) : 0;\n    return (\n        <div className={classes.main}>\n            <CardIcon Icon={CustomerIcon} bgColor=\"#4caf50\" />\n            <Card className={classes.card}>\n                <Typography className={classes.title} color=\"textSecondary\">\n                    {translate('pos.dashboard.new_customers')}\n                </Typography>\n                <Typography\n                    variant=\"h5\"\n                    component=\"h2\"\n                    className={classes.value}\n                >\n                    {nb}\n                </Typography>\n                <Divider />\n                <List>\n                    {visitors\n                        ? visitors.map((record: Customer) => (\n                              <ListItem\n                                  button\n                                  to={`/customers/${record.id}`}\n                                  component={Link}\n                                  key={record.id}\n                              >\n                                  <ListItemAvatar>\n                                      <Avatar\n                                          src={`${record.avatar}?size=32x32`}\n                                      />\n                                  </ListItemAvatar>\n                                  <ListItemText\n                                      primary={`${record.first_name} ${\n                                          record.last_name\n                                      }`}\n                                  />\n                              </ListItem>\n                          ))\n                        : null}\n                </List>\n            </Card>\n        </div>\n    );\n};\n\nexport default NewCustomers;\n","import React, {\n    useState,\n    useEffect,\n    useCallback,\n    FC,\n    CSSProperties,\n} from 'react';\nimport { useVersion, useDataProvider } from 'react-admin';\nimport { useMediaQuery, Theme } from '@material-ui/core';\n\nimport Welcome from './Welcome';\nimport MonthlyRevenue from './MonthlyRevenue';\nimport NbNewOrders from './NbNewOrders';\nimport PendingOrders from './PendingOrders';\nimport PendingReviews from './PendingReviews';\nimport NewCustomers from './NewCustomers';\n\nimport { Customer, Order, Review } from '../types';\n\ninterface OrderStats {\n    revenue: number;\n    nbNewOrders: number;\n    pendingOrders: Order[];\n}\n\ninterface CustomerData {\n    [key: string]: Customer;\n}\n\ninterface State {\n    nbNewOrders?: number;\n    nbPendingReviews?: number;\n    pendingOrders?: Order[];\n    pendingOrdersCustomers?: CustomerData;\n    pendingReviews?: Review[];\n    pendingReviewsCustomers?: CustomerData;\n    revenue?: number;\n}\n\nconst styles = {\n    flex: { display: 'flex' },\n    flexColumn: { display: 'flex', flexDirection: 'column' },\n    leftCol: { flex: 1, marginRight: '1em' },\n    rightCol: { flex: 1, marginLeft: '1em' },\n    singleCol: { marginTop: '2em', marginBottom: '2em' },\n};\n\nconst Dashboard: FC = () => {\n    const [state, setState] = useState<State>({});\n    const version = useVersion();\n    const dataProvider = useDataProvider();\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n    const isSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('sm')\n    );\n\n    const fetchOrders = useCallback(async () => {\n        const aMonthAgo = new Date();\n        aMonthAgo.setDate(aMonthAgo.getDate() - 30);\n        const { data: recentOrders } = await dataProvider.getList('commands', {\n            filter: { date_gte: aMonthAgo.toISOString() },\n            sort: { field: 'date', order: 'DESC' },\n            pagination: { page: 1, perPage: 50 },\n        });\n        const aggregations = recentOrders\n            .filter((order: Order) => order.status !== 'cancelled')\n            .reduce(\n                (stats: OrderStats, order: Order) => {\n                    if (order.status !== 'cancelled') {\n                        stats.revenue += order.total;\n                        stats.nbNewOrders++;\n                    }\n                    if (order.status === 'ordered') {\n                        stats.pendingOrders.push(order);\n                    }\n                    return stats;\n                },\n                {\n                    revenue: 0,\n                    nbNewOrders: 0,\n                    pendingOrders: [],\n                }\n            );\n        setState(state => ({\n            ...state,\n            revenue: aggregations.revenue.toLocaleString(undefined, {\n                style: 'currency',\n                currency: 'USD',\n                minimumFractionDigits: 0,\n                maximumFractionDigits: 0,\n            }),\n            nbNewOrders: aggregations.nbNewOrders,\n            pendingOrders: aggregations.pendingOrders,\n        }));\n        const { data: customers } = await dataProvider.getMany('customers', {\n            ids: aggregations.pendingOrders.map(\n                (order: Order) => order.customer_id\n            ),\n        });\n        setState(state => ({\n            ...state,\n            pendingOrdersCustomers: customers.reduce(\n                (prev: CustomerData, customer: Customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    const fetchReviews = useCallback(async () => {\n        const { data: reviews } = await dataProvider.getList('reviews', {\n            filter: { status: 'pending' },\n            sort: { field: 'date', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        });\n        const nbPendingReviews = reviews.reduce((nb: number) => ++nb, 0);\n        const pendingReviews = reviews.slice(0, Math.min(10, reviews.length));\n        setState(state => ({ ...state, pendingReviews, nbPendingReviews }));\n        const { data: customers } = await dataProvider.getMany('customers', {\n            ids: pendingReviews.map((review: Review) => review.customer_id),\n        });\n        setState(state => ({\n            ...state,\n            pendingReviewsCustomers: customers.reduce(\n                (prev: CustomerData, customer: Customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    useEffect(() => {\n        fetchOrders();\n        fetchReviews();\n    }, [version]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const {\n        nbNewOrders,\n        nbPendingReviews,\n        pendingOrders,\n        pendingOrdersCustomers,\n        pendingReviews,\n        pendingReviewsCustomers,\n        revenue,\n    } = state;\n    return isXSmall ? (\n        <div>\n            <div style={styles.flexColumn as CSSProperties}>\n                <div style={{ marginBottom: '2em' }}>\n                    <Welcome />\n                </div>\n                <div style={styles.flex}>\n                    <MonthlyRevenue value={revenue} />\n                    <NbNewOrders value={nbNewOrders} />\n                </div>\n                <div style={styles.singleCol}>\n                    <PendingOrders\n                        orders={pendingOrders}\n                        customers={pendingOrdersCustomers}\n                    />\n                </div>\n            </div>\n        </div>\n    ) : isSmall ? (\n        <div style={styles.flexColumn as CSSProperties}>\n            <div style={styles.singleCol}>\n                <Welcome />\n            </div>\n            <div style={styles.flex}>\n                <MonthlyRevenue value={revenue} />\n                <NbNewOrders value={nbNewOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n        </div>\n    ) : (\n        <div style={styles.flex}>\n            <div style={styles.leftCol}>\n                <div style={styles.flex}>\n                    <MonthlyRevenue value={revenue} />\n                    <NbNewOrders value={nbNewOrders} />\n                </div>\n                <div style={styles.singleCol}>\n                    <Welcome />\n                </div>\n                <div style={styles.singleCol}>\n                    <PendingOrders\n                        orders={pendingOrders}\n                        customers={pendingOrdersCustomers}\n                    />\n                </div>\n            </div>\n            <div style={styles.rightCol}>\n                <div style={styles.flex}>\n                    <PendingReviews\n                        nb={nbPendingReviews}\n                        reviews={pendingReviews}\n                        customers={pendingReviewsCustomers}\n                    />\n                    <NewCustomers />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Dashboard;\n","import DashboardComponent from './Dashboard';\n\nexport const Dashboard = DashboardComponent;\n","import { useContext } from 'react';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Get the current locale from the TranslationContext\n *\n * This hook rerenders when the locale changes.\n *\n * @example\n *\n * import { useLocale } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Français',\n * }\n * const CurrentLanguage = () => {\n *     const locale = useLocale();\n *     return <span>{availableLanguages[locale]}</span>;\n * }\n */\nvar useLocale = function () {\n    var locale = useContext(TranslationContext).locale;\n    return locale;\n};\nexport default useLocale;\n","import { useContext, useCallback } from 'react';\nimport { TranslationContext } from './TranslationContext';\nimport { useUpdateLoading } from '../loading';\nimport { useNotify } from '../sideEffect';\n/**\n * Set the current locale using the TranslationContext\n *\n * This hook rerenders when the locale changes.\n *\n * @example\n *\n * import { useSetLocale } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Français',\n * }\n * const LanguageSwitcher = () => {\n *     const setLocale = useSetLocale();\n *     return (\n *         <ul>{\n *             Object.keys(availableLanguages).map(locale => {\n *                  <li key={locale} onClick={() => setLocale(locale)}>\n *                      {availableLanguages[locale]}\n *                  </li>\n *              })\n *         }</ul>\n *     );\n * }\n */\nvar useSetLocale = function () {\n    var _a = useContext(TranslationContext), setLocale = _a.setLocale, i18nProvider = _a.i18nProvider;\n    var _b = useUpdateLoading(), startLoading = _b.startLoading, stopLoading = _b.stopLoading;\n    var notify = useNotify();\n    return useCallback(function (newLocale) {\n        return new Promise(function (resolve) {\n            startLoading();\n            // so we systematically return a Promise for the messages\n            // i18nProvider may return a Promise for language changes,\n            resolve(i18nProvider.changeLocale(newLocale));\n        })\n            .then(function () {\n            stopLoading();\n            setLocale(newLocale);\n        })\n            .catch(function (error) {\n            stopLoading();\n            notify('ra.notification.i18n_error', 'warning');\n            console.error(error);\n        });\n    }, [i18nProvider, notify, setLocale, startLoading, stopLoading]);\n};\nexport default useSetLocale;\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { fetchStart, fetchEnd } from '../actions/fetchActions';\n/**\n * Update the loading count, which starts or stops the loading indicator.\n *\n * To be used to show the loading indicator when you don't use the dataProvider.\n *\n * @return {Object} startLoading and stopLoading callbacks\n *\n * @example\n * import { useUpdateLoading } from 'react-admin'\n *\n * const MyComponent = () => {\n *      const { startLoading, stopLoading } = useUpdateLoading();\n *      useEffect(() => {\n *          startLoading();\n *          fetch('http://my.domain.api/foo')\n *              .finally(() => stopLoading());\n *      }, []);\n *      return <span>Foo</span>;\n * }\n */\nexport default (function () {\n    var dispatch = useDispatch();\n    var startLoading = useCallback(function () {\n        dispatch(fetchStart());\n    }, [dispatch]);\n    var stopLoading = useCallback(function () {\n        dispatch(fetchEnd());\n    }, [dispatch]);\n    return { startLoading: startLoading, stopLoading: stopLoading };\n});\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport { useTranslate, useLocale, useSetLocale, Title } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { changeTheme } from './actions';\nimport { AppState } from '../types';\n\nconst useStyles = makeStyles({\n    label: { width: '10em', display: 'inline-block' },\n    button: { margin: '1em' },\n});\n\nconst Configuration = () => {\n    const translate = useTranslate();\n    const locale = useLocale();\n    const setLocale = useSetLocale();\n    const classes = useStyles();\n    const theme = useSelector((state: AppState) => state.theme);\n    const dispatch = useDispatch();\n    return (\n        <Card>\n            <Title title={translate('pos.configuration')} />\n            <CardContent>\n                <div className={classes.label}>\n                    {translate('pos.theme.name')}\n                </div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'light' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('light'))}\n                >\n                    {translate('pos.theme.light')}\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'dark' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('dark'))}\n                >\n                    {translate('pos.theme.dark')}\n                </Button>\n            </CardContent>\n            <CardContent>\n                <div className={classes.label}>{translate('pos.language')}</div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'en' ? 'primary' : 'default'}\n                    onClick={() => setLocale('en')}\n                >\n                    en\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'fr' ? 'primary' : 'default'}\n                    onClick={() => setLocale('fr')}\n                >\n                    fr\n                </Button>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Configuration;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport visitors from '../visitors';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedCustomers = ({ segment }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/customers',\n                search: stringify({\n                    page: 1,\n                    perPage: 25,\n                    filter: JSON.stringify({ groups: segment }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <visitors.icon className={classes.icon} />\n            {translate('resources.segments.fields.customers')}\n        </Button>\n    );\n};\n\nexport default LinkToRelatedCustomers;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, Title } from 'react-admin';\n\nimport LinkToRelatedCustomers from './LinkToRelatedCustomers';\nimport segments from './data';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: 16,\n    },\n});\n\nconst Segments = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Title title={translate('resources.segments.name')} />\n            <Table size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate('resources.segments.fields.name')}\n                        </TableCell>\n                        <TableCell />\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {segments.map(segment => (\n                        <TableRow key={segment.id}>\n                            <TableCell>{translate(segment.name)}</TableCell>\n                            <TableCell>\n                                <LinkToRelatedCustomers segment={segment.id} />\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Card>\n    );\n};\n\nexport default Segments;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Configuration from './configuration/Configuration';\nimport Segments from './segments/Segments';\n\nexport default [\n    <Route exact path=\"/configuration\" render={() => <Configuration />} />,\n    <Route exact path=\"/segments\" render={() => <Segments />} />,\n];\n","import { TranslationMessages } from 'ra-core';\nimport englishMessages from 'ra-language-english';\n\nconst customEnglishMessages: TranslationMessages = {\n    ...englishMessages,\n    pos: {\n        search: 'Search',\n        configuration: 'Configuration',\n        language: 'Language',\n        theme: {\n            name: 'Theme',\n            light: 'Light',\n            dark: 'Dark',\n        },\n        dashboard: {\n            monthly_revenue: 'Monthly Revenue',\n            new_orders: 'New Orders',\n            pending_reviews: 'Pending Reviews',\n            new_customers: 'New Customers',\n            pending_orders: 'Pending Orders',\n            order: {\n                items:\n                    'by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items',\n            },\n            welcome: {\n                title: 'Welcome to react-admin demo',\n                subtitle:\n                    \"This is the admin of an imaginary poster shop. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.\",\n                aor_button: 'react-admin site',\n                demo_button: 'Source for this demo',\n            },\n        },\n        menu: {\n            sales: 'Sales',\n            catalog: 'Catalog',\n            customers: 'Customers',\n        },\n    },\n    resources: {\n        customers: {\n            name: 'Customer |||| Customers',\n            fields: {\n                commands: 'Orders',\n                first_seen: 'First seen',\n                groups: 'Segments',\n                last_seen: 'Last seen',\n                last_seen_gte: 'Visited Since',\n                name: 'Name',\n                total_spent: 'Total spent',\n                password: 'Password',\n                confirm_password: 'Confirm password',\n            },\n            fieldGroups: {\n                identity: 'Identity',\n                address: 'Address',\n                stats: 'Stats',\n                history: 'History',\n                password: 'Password',\n                change_password: 'Change Password',\n            },\n            page: {\n                delete: 'Delete Customer',\n            },\n            errors: {\n                password_mismatch:\n                    'The password confirmation is not the same as the password.',\n            },\n        },\n        commands: {\n            name: 'Order |||| Orders',\n            amount: '1 order |||| %{smart_count} orders',\n            title: 'Order %{reference}',\n            fields: {\n                basket: {\n                    delivery: 'Delivery',\n                    reference: 'Reference',\n                    quantity: 'Quantity',\n                    sum: 'Sum',\n                    tax_rate: 'Tax Rate',\n                    total: 'Total',\n                    unit_price: 'Unit Price',\n                },\n                customer_id: 'Customer',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                total_gte: 'Min amount',\n                status: 'Status',\n                returned: 'Returned',\n            },\n        },\n        invoices: {\n            name: 'Invoice |||| Invoices',\n            fields: {\n                date: 'Invoice date',\n                customer_id: 'Customer',\n                command_id: 'Order',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                total_gte: 'Min amount',\n                address: 'Address',\n            },\n        },\n        products: {\n            name: 'Poster |||| Posters',\n            fields: {\n                category_id: 'Category',\n                height_gte: 'Min height',\n                height_lte: 'Max height',\n                height: 'Height',\n                image: 'Image',\n                price: 'Price',\n                reference: 'Reference',\n                stock_lte: 'Low Stock',\n                stock: 'Stock',\n                thumbnail: 'Thumbnail',\n                width_gte: 'Min width',\n                width_lte: 'Max width',\n                width: 'Width',\n            },\n            tabs: {\n                image: 'Image',\n                details: 'Details',\n                description: 'Description',\n                reviews: 'Reviews',\n            },\n        },\n        categories: {\n            name: 'Category |||| Categories',\n            fields: {\n                products: 'Products',\n            },\n        },\n        reviews: {\n            name: 'Review |||| Reviews',\n            amount: '1 review |||| %{smart_count} reviews',\n            relative_to_poster: 'Review on poster',\n            detail: 'Review detail',\n            fields: {\n                customer_id: 'Customer',\n                command_id: 'Order',\n                product_id: 'Product',\n                date_gte: 'Posted since',\n                date_lte: 'Posted before',\n                date: 'Date',\n                comment: 'Comment',\n                rating: 'Rating',\n            },\n            action: {\n                accept: 'Accept',\n                reject: 'Reject',\n            },\n            notification: {\n                approved_success: 'Review approved',\n                approved_error: 'Error: Review not approved',\n                rejected_success: 'Review rejected',\n                rejected_error: 'Error: Review not rejected',\n            },\n        },\n        segments: {\n            name: 'Segments',\n            fields: {\n                customers: 'Customers',\n                name: 'Name',\n            },\n            data: {\n                compulsive: 'Compulsive',\n                collector: 'Collector',\n                ordered_once: 'Ordered once',\n                regular: 'Regular',\n                returns: 'Returns',\n                reviewer: 'Reviewer',\n            },\n        },\n    },\n};\n\nexport default customEnglishMessages;\n","export default type => {\n    switch (type) {\n        case 'graphql':\n            return import('./graphql').then(factory => factory.default());\n        default:\n            return import('./rest').then(provider => provider.default);\n    }\n};\n","export default type => {\n    switch (type) {\n        case 'graphql':\n            return import('./graphql').then(factory => factory.default());\n        default:\n            return import('./rest').then(factory => factory.default());\n    }\n};\n","import React, { useState, useEffect } from 'react';\nimport { Admin, Resource } from 'react-admin';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\n\nimport './App.css';\n\nimport authProvider from './authProvider';\nimport themeReducer from './themeReducer';\nimport { Login, Layout } from './layout';\nimport { Dashboard } from './dashboard';\nimport customRoutes from './routes';\nimport englishMessages from './i18n/en';\n\nimport visitors from './visitors';\nimport orders from './orders';\nimport products from './products';\nimport invoices from './invoices';\nimport categories from './categories';\nimport reviews from './reviews';\n\nimport dataProviderFactory from './dataProvider';\nimport fakeServerFactory from './fakeServer';\n\nconst i18nProvider = polyglotI18nProvider(locale => {\n    if (locale === 'fr') {\n        return import('./i18n/fr').then(messages => messages.default);\n    }\n\n    // Always fallback on english\n    return englishMessages;\n}, 'en');\n\nconst App = () => {\n    const [dataProvider, setDataProvider] = useState(null);\n\n    useEffect(() => {\n        let restoreFetch;\n\n        const fetchDataProvider = async () => {\n            restoreFetch = await fakeServerFactory(\n                process.env.REACT_APP_DATA_PROVIDER\n            );\n            const dataProviderInstance = await dataProviderFactory(\n                process.env.REACT_APP_DATA_PROVIDER\n            );\n            setDataProvider(\n                // GOTCHA: dataProviderInstance can be a function\n                () => dataProviderInstance\n            );\n        };\n\n        fetchDataProvider();\n\n        return restoreFetch;\n    }, []);\n\n    if (!dataProvider) {\n        return (\n            <div className=\"loader-container\">\n                <div className=\"loader\">Loading...</div>\n            </div>\n        );\n    }\n\n    return (\n        <Admin\n            title=\"\"\n            dataProvider={dataProvider}\n            customReducers={{ theme: themeReducer }}\n            customRoutes={customRoutes}\n            authProvider={authProvider}\n            dashboard={Dashboard}\n            loginPage={Login}\n            layout={Layout}\n            i18nProvider={i18nProvider}\n        >\n            <Resource name=\"customers\" {...visitors} />\n            <Resource\n                name=\"commands\"\n                {...orders}\n                options={{ label: 'Orders' }}\n            />\n            <Resource name=\"invoices\" {...invoices} />\n            <Resource name=\"products\" {...products} />\n            <Resource name=\"categories\" {...categories} />\n            <Resource name=\"reviews\" {...reviews} />\n        </Admin>\n    );\n};\n\nexport default App;\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport 'proxy-polyfill';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Hook for Refresh Side Effect\n *\n * @example\n *\n * const refresh = useRefresh();\n * refresh();\n */\nvar useRefresh = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (doRefresh) {\n        if (doRefresh === void 0) { doRefresh = true; }\n        return doRefresh && dispatch(refreshView());\n    }, [dispatch]);\n};\nexport default useRefresh;\n","import { useEffect } from 'react';\nimport { useRefresh } from '../sideEffect';\n/**\n * Trigger a refresh of the page when the page comes back from background after a certain delay\n *\n * @param {number} delay Delay in milliseconds since the time the page was hidden. Defaults to 5 minutes.\n */\nvar useRefreshWhenVisible = function (delay) {\n    if (delay === void 0) { delay = 1000 * 60 * 5; }\n    var refresh = useRefresh();\n    useEffect(function () {\n        var lastHiddenTime;\n        var handleVisibilityChange = function () {\n            if (document.hidden) {\n                // tab goes hidden\n                lastHiddenTime = Date.now();\n            }\n            else {\n                // tab goes visible\n                if (Date.now() - lastHiddenTime > delay) {\n                    refresh();\n                }\n                lastHiddenTime = null;\n            }\n        };\n        document.addEventListener('visibilitychange', handleVisibilityChange);\n        return function () {\n            return document.removeEventListener('visibilitychange', handleVisibilityChange);\n        };\n    }, [delay, refresh]);\n};\nexport default useRefreshWhenVisible;\n","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.deleteMany() method, the result\n * of the call (the list of deleted record ids), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456]\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [delete, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useDeleteMany } from 'react-admin';\n *\n * const BulkDeletePostsButton = ({ selectedIds }) => {\n *     const [deleteMany, { loading, error }] = useDeleteMany('posts', selectedIds);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteMany}>Delete selected posts</button>;\n * };\n */\nvar useDeleteMany = function (resource, ids, options) {\n    return useMutation({ type: 'deleteMany', resource: resource, payload: { ids: ids } }, options);\n};\nexport default useDeleteMany;\n","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.create() method, the result and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param data The data to initialize the new record with, e.g. { title: 'hello, world\" }\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [create, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useCreate } from 'react-admin';\n *\n * const LikeButton = ({ record }) => {\n *     const like = { postId: record.id };\n *     const [create, { loading, error }] = useCreate('likes', like);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={create}>Like</button>;\n * };\n */\nvar useCreate = function (resource, data, options) {\n    if (data === void 0) { data = {}; }\n    return useMutation({ type: 'create', resource: resource, payload: { data: data } }, options);\n};\nexport default useCreate;\n","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.delete() method, the result\n * of the call (the deleted record), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param previousData The record before the delete is applied\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [delete, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { loading, error }] = useDelete('likes', record.id);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteOne}>Delete</div>;\n * };\n */\nvar useDelete = function (resource, id, previousData, options) {\n    if (previousData === void 0) { previousData = {}; }\n    return useMutation({ type: 'delete', resource: resource, payload: { id: id, previousData: previousData } }, options);\n};\nexport default useDelete;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { useMemo } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useSelector } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport debounce from 'lodash/debounce';\nimport union from 'lodash/union';\nimport isEqual from 'lodash/isEqual';\nimport { CRUD_GET_MANY } from '../actions/dataActions/crudGetMany';\nimport { useSafeSetState } from '../util/hooks';\nimport useDataProvider from './useDataProvider';\nimport { useEffect } from 'react';\nvar queriesToCall = {};\nvar dataProvider;\nvar DataProviderOptions = { action: CRUD_GET_MANY };\n/**\n * Call the dataProvider.getMany() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * This hook aggregates and deduplicates calls to the same resource, so for instance, if an app calls:\n *\n * useGetMany('tags', [1, 2, 3]);\n * useGetMany('tags', [3, 4]);\n *\n * during the same tick, the hook will only call the dataProvider once with the following parameters:\n *\n * dataProvider(GET_MANY, 'tags', [1, 2, 3, 4])\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456, 789]\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetMany } from 'react-admin';\n *\n * const PostTags = ({ record }) => {\n *     const { data, loading, error } = useGetMany('tags', record.tagIds);\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return (\n *          <ul>\n *              {data.map(tag => (\n *                  <li key={tag.id}>{tag.name}</li>\n *              ))}\n *          </ul>\n *      );\n * };\n */\nvar useGetMany = function (resource, ids, options) {\n    if (options === void 0) { options = {}; }\n    // we can't use useQueryWithStore here because we're aggregating queries first\n    // therefore part of the useQueryWithStore logic will have to be repeated below\n    var selectMany = useMemo(makeGetManySelector, []);\n    var data = useSelector(function (state) {\n        return selectMany(state, resource, ids);\n    });\n    var _a = useSafeSetState({\n        data: data,\n        error: null,\n        loading: ids.length !== 0,\n        loaded: ids.length === 0 ||\n            (data.length !== 0 && !data.includes(undefined)),\n    }), state = _a[0], setState = _a[1];\n    if (!isEqual(state.data, data)) {\n        setState(__assign(__assign({}, state), { data: data, loaded: true }));\n    }\n    dataProvider = useDataProvider(); // not the best way to pass the dataProvider to a function outside the hook, but I couldn't find a better one\n    useEffect(function () {\n        if (!queriesToCall[resource]) {\n            queriesToCall[resource] = [];\n        }\n        /**\n         * queriesToCall stores the queries to call under the following shape:\n         *\n         * {\n         *   'posts': [\n         *     { ids: [1, 2], setState }\n         *     { ids: [2, 3], setState, onSuccess }\n         *     { ids: [4, 5], setState }\n         *   ],\n         *   'comments': [\n         *     { ids: [345], setState, onFailure }\n         *   ]\n         * }\n         */\n        queriesToCall[resource] = queriesToCall[resource].concat({\n            ids: ids,\n            setState: setState,\n            onSuccess: options && options.onSuccess,\n            onFailure: options && options.onFailure,\n        });\n        callQueries(); // debounced by lodash\n    }, [JSON.stringify({ resource: resource, ids: ids, options: options }), dataProvider]); // eslint-disable-line react-hooks/exhaustive-deps\n    return state;\n};\n/**\n * Memoized selector for getting an array of resources based on an array of ids\n *\n * @see https://react-redux.js.org/next/api/hooks#using-memoizing-selectors\n */\nvar makeGetManySelector = function () {\n    return createSelector(function (state) { return state.admin.resources; }, function (_, resource) { return resource; }, function (_, __, ids) { return ids; }, function (resources, resource, ids) {\n        return resources[resource]\n            ? ids.map(function (id) { return resources[resource].data[id]; })\n            : ids.map(function (id) { return undefined; });\n    });\n};\n/**\n * Call the dataProvider once per resource\n */\nvar callQueries = debounce(function () {\n    var resources = Object.keys(queriesToCall);\n    resources.forEach(function (resource) {\n        var queries = __spreadArrays(queriesToCall[resource]); // cloning to avoid side effects\n        /**\n         * Extract ids from queries, aggregate and deduplicate them\n         *\n         * @example from [[1, 2], [2, null, 3], [4, null]] to [1, 2, 3, 4]\n         */\n        var accumulatedIds = queries\n            .reduce(function (acc, _a) {\n            var ids = _a.ids;\n            return union(acc, ids);\n        }, []) // concat + unique\n            .filter(function (v) { return v != null && v !== ''; }); // remove null values\n        if (accumulatedIds.length === 0) {\n            // no need to call the data provider if all the ids are null\n            queries.forEach(function (_a) {\n                var ids = _a.ids, setState = _a.setState, onSuccess = _a.onSuccess;\n                setState({\n                    data: emptyArray,\n                    loading: false,\n                    loaded: true,\n                });\n                if (onSuccess) {\n                    onSuccess({ data: emptyArray });\n                }\n            });\n            return;\n        }\n        dataProvider\n            .getMany(resource, { ids: accumulatedIds }, DataProviderOptions)\n            .then(function (response) {\n            // Forces batching, see https://stackoverflow.com/questions/48563650/does-react-keep-the-order-for-state-updates/48610973#48610973\n            return ReactDOM.unstable_batchedUpdates(function () {\n                return queries.forEach(function (_a) {\n                    var ids = _a.ids, setState = _a.setState, onSuccess = _a.onSuccess;\n                    setState(function (prevState) { return (__assign(__assign({}, prevState), { error: null, loading: false, loaded: true })); });\n                    if (onSuccess) {\n                        var subData = ids.map(function (id) {\n                            return response.data.find(function (datum) { return datum.id == id; });\n                        } // eslint-disable-line eqeqeq\n                        );\n                        onSuccess({ data: subData });\n                    }\n                });\n            });\n        })\n            .catch(function (error) {\n            return ReactDOM.unstable_batchedUpdates(function () {\n                return queries.forEach(function (_a) {\n                    var setState = _a.setState, onFailure = _a.onFailure;\n                    setState({ error: error, loading: false, loaded: false });\n                    onFailure && onFailure(error);\n                });\n            });\n        });\n        delete queriesToCall[resource];\n    });\n});\nvar emptyArray = [];\nexport default useGetMany;\n","import useQueryWithStore from './useQueryWithStore';\n/**\n * Call the dataProvider.getOne() method and return the resolved value\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetOne } from 'react-admin';\n *\n * const UserProfile = ({ record }) => {\n *     const { data, loading, error } = useGetOne('users', record.id);\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <div>User {data.username}</div>;\n * };\n */\nvar useGetOne = function (resource, id, options) {\n    return useQueryWithStore({ type: 'getOne', resource: resource, payload: { id: id } }, options, function (state) {\n        return state.admin.resources[resource]\n            ? state.admin.resources[resource].data[id]\n            : null;\n    });\n};\nexport default useGetOne;\n","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.update() method, the result and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param data The updates to merge into the record, e.g. { views: 10 }\n * @param previousData The record before the update is applied\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [update, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useUpdate } from 'react-admin';\n *\n * const IncreaseLikeButton = ({ record }) => {\n *     const diff = { likes: record.likes + 1 };\n *     const [update, { loading, error }] = useUpdate('likes', record.id, diff, record);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={update}>Like</div>;\n * };\n */\nvar useUpdate = function (resource, id, data, previousData, options) {\n    return useMutation({ type: 'update', resource: resource, payload: { id: id, data: data, previousData: previousData } }, options);\n};\nexport default useUpdate;\n","import useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.updateMany() method, the result\n * of the call (the list of updated record ids), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: [callback, { loading: true, loaded: false }]\n * - success: [callback, { data: [data from response], loading: false, loaded: true }]\n * - error: [callback, { error: [error from response], loading: false, loaded: true }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456]\n * @param data The updates to merge into all records, e.g. { views: 10 }\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [update, { data, error, loading, loaded }].\n *\n * @example\n *\n * import { useUpdateMany } from 'react-admin';\n *\n * const BulkResetViewsButton = ({ selectedIds }) => {\n *     const [updateMany, { loading, error }] = useUpdateMany('posts', selectedIds, { views: 0 });\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={updateMany}>Reset views</button>;\n * };\n */\nvar useUpdateMany = function (resource, ids, data, options) {\n    return useMutation({ type: 'updateMany', resource: resource, payload: { ids: ids, data: data } }, options);\n};\nexport default useUpdateMany;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useSelector, shallowEqual } from 'react-redux';\nimport { CRUD_GET_MANY_REFERENCE } from '../actions/dataActions/crudGetManyReference';\nimport useQueryWithStore from './useQueryWithStore';\nimport { getReferences, getIds, getTotal, nameRelatedTo, } from '../reducer/admin/references/oneToMany';\nimport { useMemo } from 'react';\n/**\n * Call the dataProvider.getManyReference() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false }\n * - success: { data: [data from store], ids: [ids from response], total: [total from response], loading: false, loaded: true }\n * - error: { error: [error from response], loading: false, loaded: true }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The referenced resource name, e.g. 'comments'\n * @param {string} target The target resource key, e.g. 'post_id'\n * @param {Object} id The identifier of the record to look for in 'target'\n * @param {Object} pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @param {Object} sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @param {Object} filter The request filters, e.g. { body: 'hello, world' }\n * @param {string} referencingResource The resource name, e.g. 'posts'. Used to generate a cache key\n * @param {Object} options Options object to pass to the dataProvider. May include side effects to be executed upon success of failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, total, ids, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetManyReference } from 'react-admin';\n *\n * const PostComments = ({ post_id }) => {\n *     const { data, ids, loading, error } = useGetManyReference(\n *         'comments',\n *         'post_id',\n *         post_id,\n *         { page: 1, perPage: 10 },\n *         { field: 'published_at', order: 'DESC' }\n *         {},\n *         'posts',\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{ids.map(id =>\n *         <li key={id}>{data[id].body}</li>\n *     )}</ul>;\n * };\n */\nvar useGetManyReference = function (resource, target, id, pagination, sort, filter, referencingResource, options) {\n    var relatedTo = useMemo(function () { return nameRelatedTo(resource, id, referencingResource, target, filter); }, [filter, resource, id, referencingResource, target]);\n    var _a = useQueryWithStore({\n        type: 'getManyReference',\n        resource: resource,\n        payload: { target: target, id: id, pagination: pagination, sort: sort, filter: filter },\n    }, __assign(__assign({}, options), { relatedTo: relatedTo, action: CRUD_GET_MANY_REFERENCE }), selectIds(relatedTo), selectTotal(relatedTo)), ids = _a.data, total = _a.total, error = _a.error, loading = _a.loading, loaded = _a.loaded;\n    var data = useSelector(selectData(resource, relatedTo), shallowEqual);\n    return { data: data, ids: ids, total: total, error: error, loading: loading, loaded: loaded };\n};\nexport default useGetManyReference;\nvar selectData = function (reference, relatedTo) { return function (state) { return getReferences(state, reference, relatedTo); }; };\nvar selectIds = function (relatedTo) { return function (state) {\n    return getIds(state, relatedTo);\n}; };\nvar selectTotal = function (relatedTo) { return function (state) {\n    return getTotal(state, relatedTo);\n}; };\n","import { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY, } from '../core';\nvar defaultDataProvider = function () { return Promise.resolve(); };\ndefaultDataProvider.create = function () { return Promise.resolve(null); };\ndefaultDataProvider.delete = function () { return Promise.resolve(null); };\ndefaultDataProvider.deleteMany = function () { return Promise.resolve(null); };\ndefaultDataProvider.getList = function () { return Promise.resolve(null); };\ndefaultDataProvider.getMany = function () { return Promise.resolve(null); };\ndefaultDataProvider.getManyReference = function () { return Promise.resolve(null); };\ndefaultDataProvider.getOne = function () { return Promise.resolve(null); };\ndefaultDataProvider.update = function () { return Promise.resolve(null); };\ndefaultDataProvider.updateMany = function () { return Promise.resolve(null); };\nvar fetchMap = {\n    create: CREATE,\n    delete: DELETE,\n    deleteMany: DELETE_MANY,\n    getList: GET_LIST,\n    getMany: GET_MANY,\n    getManyReference: GET_MANY_REFERENCE,\n    getOne: GET_ONE,\n    update: UPDATE,\n    updateMany: UPDATE_MANY,\n};\n/**\n * Turn a function-based dataProvider to an object-based one\n *\n * Allows using legacy dataProviders transparently.\n *\n * @param {Function} legacyDataProvider A legacy dataProvider (type, resource, params) => Promise<any>\n *\n * @returns {Object} A dataProvider that react-admin can use\n */\nvar convertLegacyDataProvider = function (legacyDataProvider) {\n    var proxy = new Proxy(defaultDataProvider, {\n        get: function (_, name) {\n            return function (resource, params) {\n                if (Object.keys(fetchMap).includes(name.toString())) {\n                    var fetchType = fetchMap[name.toString()];\n                    return legacyDataProvider(fetchType, resource, params);\n                }\n                return legacyDataProvider(name.toString(), resource, params);\n            };\n        },\n        apply: function (_, __, args) {\n            return legacyDataProvider.apply(legacyDataProvider, args);\n        },\n    });\n    return proxy;\n};\nexport default convertLegacyDataProvider;\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setListSelectedIds } from '../actions';\nimport { warning } from '../util';\n/**\n * Hook for Unselect All Side Effect\n *\n * @example\n *\n * const unselectAll = useUnselectAll('posts');\n * unselectAll();\n */\nvar useUnselectAll = function (resource1) {\n    var dispatch = useDispatch();\n    return useCallback(function (resource2) {\n        warning(!resource2 && !resource1, \"You didn't specify the resource at initialization (useUnselectAll('posts')) nor when using the callback (unselectAll('posts'))\");\n        dispatch(setListSelectedIds(resource2 || resource1, []));\n    }, [dispatch, resource1]);\n};\nexport default useUnselectAll;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport resolveRedirectTo from '../util/resolveRedirectTo';\nimport { refreshView } from '../actions/uiActions';\nimport { useHistory } from 'react-router-dom';\n/**\n * Hook for Redirection Side Effect\n *\n * @example\n *\n * const redirect = useRedirect();\n * // redirect to list view\n * redirect('list', '/posts');\n * // redirect to edit view\n * redirect('edit', '/posts', 123);\n * // do not redirect (resets the record form)\n * redirect(false);\n * // redirect to the result of a function\n * redirect((redirectTo, basePath, is, data) => ...)\n */\nvar useRedirect = function () {\n    var dispatch = useDispatch();\n    var history = useHistory(); // Note: history is mutable. This prevents render loops in useCallback.\n    return useCallback(function (redirectTo, basePath, id, data) {\n        if (basePath === void 0) { basePath = ''; }\n        if (!redirectTo) {\n            if (history.location.state || history.location.search) {\n                history.replace(__assign(__assign({}, history.location), { state: {}, search: undefined }));\n            }\n            else {\n                dispatch(refreshView());\n            }\n            return;\n        }\n        history.push(resolveRedirectTo(redirectTo, basePath, id, data));\n    }, [dispatch, history]);\n};\nexport default useRedirect;\n"],"sourceRoot":""}